(function(e){function t(t){for(var i,r,o=t[0],l=t[1],c=t[2],d=0,h=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&h.push(n[r][0]),n[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(h.length)h.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],i=!0,r=1;r<a.length;r++){var l=a[r];0!==n[l]&&(i=!1)}i&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var i={},n={app:0},s=[];function r(e){return o.p+"static/js/"+({}[e]||e)+"."+{"chunk-2d216214":"3fd22800","chunk-2d216257":"1eff1fbf","chunk-461b141f":"f382dd5e"}[e]+".js"}function o(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(e){var t=[],a=n[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise((function(t,i){a=n[e]=[t,i]}));t.push(a[2]=i);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=r(e);var c=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(d);var a=n[e];if(0!==a){if(a){var i=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+s+")",c.name="ChunkLoadError",c.type=i,c.request=s,a[1](c)}n[e]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},o.m=e,o.c=i,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(a,i,function(t){return e[t]}.bind(null,i));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/viruclust/",o.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0058":function(e,t,a){},"0419":function(e,t,a){e.exports=a.p+"static/img/mode2-5.5171e897.png"},"07f0":function(e,t,a){},"0833":function(e,t,a){},"0a49":function(e,t,a){"use strict";a("7385")},"0ade":function(e,t,a){e.exports=a.p+"static/img/mode2-7.eb79f920.png"},"0b67":function(e,t,a){e.exports=a.p+"static/img/mode1-2.4a7fb4d8.png"},"0e6b":function(e,t,a){e.exports=a.p+"static/img/mode2-2.13c73f0c.png"},"17fb":function(e,t,a){"use strict";a("0833")},"19f3":function(e,t,a){"use strict";a("47dc")},"1d00":function(e,t,a){"use strict";a("5e2f")},"1d28":function(e,t,a){e.exports=a.p+"static/img/mode3-1.048575af.png"},"1fd5":function(e,t,a){"use strict";a("e548")},2190:function(e,t,a){e.exports=a.p+"static/img/mode4-1.69693c9b.png"},"2f76":function(e,t,a){e.exports=a.p+"static/img/image_2697049_spike.27b9aea1.svg"},"36ab":function(e,t,a){},"3c5e":function(e,t,a){e.exports=a.p+"static/img/deny.88635476.png"},"3f4d":function(e,t,a){"use strict";a("f29d")},4520:function(e,t,a){e.exports=a.p+"static/img/mode1-1.af298b65.png"},4537:function(e,t,a){},"467d":function(e,t,a){e.exports=a.p+"static/img/gisaid.9f49526c.png"},"475a":function(e,t,a){e.exports=a.p+"static/img/mode2-6.cebb16ad.png"},"47dc":function(e,t,a){},"4c4f":function(e,t,a){"use strict";a("69d2")},"540c":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=(a("d3b7"),a("bc3a")),s=a.n(n),r=a("5f35");s.a.defaults.baseURL=r["baseUrl"]+"api/";var o={},l=s.a.create(o);l.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),l.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),Plugin.install=function(e,t){e.axios=l,window.axios=l,Object.defineProperties(e.prototype,{axios:{get:function(){return l}},$axios:{get:function(){return l}}})},i["a"].use(Plugin);Plugin;var c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-app",[i("v-toolbar",{staticStyle:{width:"100%"},attrs:{dark:"",color:"#1D3557"}},[i("v-img",{attrs:{src:a("71c0"),contain:"","max-width":"39px","max-height":"39px"}}),i("v-toolbar-title",{staticClass:"headline",staticStyle:{"font-size":"32px !important","margin-left":"20px"}},[i("span",[e._v("Viru")]),i("span",{staticClass:"font-weight-light"},[e._v("Clust")])]),i("span",{staticStyle:{"font-size":"20px","white-space":"nowrap","margin-left":"50px"}},[e._v("enabled by data from\n          "),i("a",{attrs:{href:"https://www.gisaid.org",target:"_blank"}},[i("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:a("467d"),alt:"gisaid-logo",height:"24px"}})])]),i("v-spacer"),i("v-toolbar-items",{staticClass:"hidden-lg-and-down",staticStyle:{"background-color":"transparent"}},[i("v-btn",{staticStyle:{"background-color":"transparent",width:"100px"},attrs:{icon:"",text:"",href:"http://gmql.eu/virusurf/",target:"_blank"}},[i("span",[e._v("ViruSurf")])]),i("v-btn",{staticStyle:{"background-color":"transparent",width:"200px"},attrs:{icon:"",text:"",href:"http://gmql.eu/virusurf_gisaid/",target:"_blank"}},[i("span",[e._v("ViruSurf")]),i("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:a("b2bd"),alt:"gisaid-logo",height:"40px"}})]),i("v-btn",{staticStyle:{"background-color":"transparent",width:"100px"},attrs:{icon:"",text:"",href:"http://gmql.eu/episurf/",target:"_blank"}},[i("span",[e._v("EpiSurf")])]),i("v-btn",{staticStyle:{"background-color":"transparent",width:"200px"},attrs:{icon:"",text:"",href:"http://gmql.eu/episurf_gisaid/",target:"_blank"}},[i("span",[e._v("EpiSurf")]),i("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:a("b2bd"),alt:"gisaid-logo",height:"40px"}})]),i("v-btn",{staticStyle:{"background-color":"transparent",width:"100px"},attrs:{icon:"",text:"",href:"http://gmql.eu/virusviz/",target:"_blank"}},[i("span",[e._v("VirusViz")])]),i("v-btn",{staticStyle:{"background-color":"transparent",width:"100px"},attrs:{icon:"",text:"",href:"https://github.com/DEIB-GECO/ViruClust/wiki",target:"_blank"}},[i("span",[e._v("Wiki")])]),i("v-btn",{staticStyle:{"background-color":"transparent",width:"100px"},attrs:{icon:"",text:"",href:"/viruclust_gisaid/repo_static/about__viruclust.html",target:"_blank"}},[i("span",[e._v("ABOUT")])])],1),i("div",{staticClass:"hidden-xl-only"},[i("v-menu",{scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,n=t.attrs;return[i("v-app-bar-nav-icon",e._g(e._b({},"v-app-bar-nav-icon",n,!1),a))]}}])},[i("v-list-item",{staticStyle:{"background-color":"white"}},[i("v-list-item-content",[i("v-btn",{staticStyle:{"background-color":"transparent",width:"200px"},attrs:{icon:"",text:"",href:"http://gmql.eu/virusurf/",target:"_blank"}},[i("span",[e._v("ViruSurf")])])],1)],1),i("v-list-item",{staticStyle:{"background-color":"white","border-top":"grey solid 1px"}},[i("v-list-item-content",[i("v-btn",{staticStyle:{"background-color":"transparent",width:"200px"},attrs:{icon:"",text:"",href:"http://gmql.eu/virusurf_gisaid/",target:"_blank"}},[i("span",[e._v("ViruSurf")]),i("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:a("c952"),alt:"gisaid-logo",height:"50px"}})])],1)],1),i("v-list-item",{staticStyle:{"background-color":"white","border-top":"grey solid 1px"}},[i("v-list-item-content",[i("v-btn",{staticStyle:{"background-color":"transparent",width:"200px"},attrs:{icon:"",text:"",href:"http://gmql.eu/episurf/",target:"_blank"}},[i("span",[e._v("EpiSurf")])])],1)],1),i("v-list-item",{staticStyle:{"background-color":"white","border-top":"grey solid 1px"}},[i("v-list-item-content",[i("v-btn",{staticStyle:{"background-color":"transparent",width:"200px"},attrs:{icon:"",text:"",href:"http://gmql.eu/episurf_gisaid/",target:"_blank"}},[i("span",[e._v("EpiSurf")]),i("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:a("c952"),alt:"gisaid-logo",height:"50px"}})])],1)],1),i("v-list-item",{staticStyle:{"background-color":"white","border-top":"grey solid 1px"}},[i("v-list-item-content",[i("v-btn",{staticStyle:{"background-color":"transparent",width:"200px"},attrs:{icon:"",text:"",href:"http://gmql.eu/virusviz/",target:"_blank"}},[i("span",[e._v("VirusViz")])])],1)],1),i("v-list-item",{staticStyle:{"background-color":"white","border-top":"grey solid 1px"}},[i("v-list-item-content",[i("v-btn",{staticStyle:{"background-color":"transparent",width:"200px"},attrs:{icon:"",text:"",href:"https://github.com/DEIB-GECO/ViruClust/wiki",target:"_blank"}},[i("span",[e._v("Wiki")])])],1)],1),i("v-list-item",{staticStyle:{"background-color":"white","border-top":"grey solid 1px"}},[i("v-list-item-content",[i("v-btn",{staticStyle:{"background-color":"transparent",width:"200px"},attrs:{icon:"",text:"",href:"/viruclust_gisaid/repo_static/about__viruclust.html",target:"_blank"}},[i("span",[e._v("ABOUT")])])],1)],1)],1)],1)],1),i("v-main",[i("ChoosingPage")],1),i("v-footer",{attrs:{app:""}},[i("v-flex",{staticClass:"bottom-info",staticStyle:{"font-size":"12px"},attrs:{"lighten-2":"",xs6:""}},[i("div",[e._v("Data used in this web application remain subject to GISAIDâ€™s "),i("a",{attrs:{href:"http://gisaid.org/DAA/",target:"_blank"}},[e._v("Terms\n            and Conditions")]),e._v(".\n          ")])])],1)],1)},d=[],u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["homePage"===this.page?a("HomePage",{attrs:{id:"homePage"}}):e._e(),"entryPage"===this.page?a("EntryPage",{attrs:{id:"entryPage"}}):e._e(),"analyzePage"===this.page?a("AnalyzePage",{attrs:{id:"analyzePage"}}):e._e(),"loadPage"===this.page?a("LoadPage",{attrs:{id:"loadPage"}}):e._e(),"metadataPage"===this.page?a("MetadataPage",{attrs:{id:"metadataPage"}}):e._e(),"statisticsPage"===this.page?a("StatisticsPage",{attrs:{id:"statisticsPage"}}):e._e()],1)},h=[],g=a("5530"),p=a("2f62"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{staticStyle:{"justify-content":"center"},attrs:{fluid:"","grid-list-xl":""}},[a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-card",{staticStyle:{"margin-top":"50px",padding:"50px"},attrs:{width:"600px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h1",[e._v("UPLOAD")])]),a("v-card-text",[a("v-layout",{staticStyle:{padding:"30px","margin-top":"20px"},attrs:{wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs6 d-flex",staticStyle:{"justify-content":"center"}},[a("input",{staticStyle:{display:"none"},attrs:{id:"fileInputCSV",type:"file",accept:".csv",onclick:"document.getElementById('fileInputCSV').value = ''"},on:{change:function(t){return e.loadCSV()}}}),a("v-btn",{staticClass:"white--text",staticStyle:{"margin-top":"10px"},attrs:{onclick:"document.getElementById('fileInputCSV').click()",small:"",color:"rgb(122, 139, 157)"}},[e._v("\n                  Upload CSV\n              ")])],1),a("v-flex",{staticClass:"no-horizontal-padding xs6 d-flex",staticStyle:{"justify-content":"center"}},[a("v-text-field",{attrs:{value:this.nameLoadedFileCSV,solo:"",readonly:"","hide-details":""}})],1)],1),a("v-layout",{staticStyle:{padding:"30px"},attrs:{wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs6 d-flex",staticStyle:{"justify-content":"center"}},[a("input",{staticStyle:{display:"none"},attrs:{id:"fileInputFASTA",type:"file",accept:".fasta",onclick:"document.getElementById('fileInputFASTA').value = ''"},on:{change:function(t){return e.loadFASTA()}}}),a("v-btn",{staticClass:"white--text",staticStyle:{"margin-top":"10px"},attrs:{onclick:"document.getElementById('fileInputFASTA').click()",small:"",color:"rgb(122, 139, 157)"}},[e._v("\n                  Upload FASTA\n              ")])],1),a("v-flex",{staticClass:"no-horizontal-padding xs6 d-flex",staticStyle:{"justify-content":"center"}},[a("v-text-field",{attrs:{value:this.nameLoadedFileFASTA,solo:"",readonly:"","hide-details":""}})],1)],1),a("v-layout",{staticStyle:{padding:"30px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticClass:"white--text",attrs:{color:"#E63946"},on:{click:function(t){return e.apply()}}},[e._v("\n                  PREPARE YOUR DATA\n              ")])],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:e.missingFiles,callback:function(t){e.missingFiles=t},expression:"missingFiles"}},[a("v-card",[a("v-card-title",{staticClass:"headline",staticStyle:{"background-color":"#A8DADC",color:"white"}},[e._v("\n        Missing Files\n        "),a("v-spacer"),a("v-btn",{staticStyle:{"background-color":"rgb(122, 139, 157)"},attrs:{slot:"activator",icon:"",small:"",color:"white"},on:{click:function(t){e.missingFiles=!e.missingFiles}},slot:"activator"},[a("v-icon",[e._v("mdi-close")])],1)],1),a("v-card-text",{staticClass:"text-xs-center"},[a("span",[a("br"),e._v("\n        Need both files!\n        ")])])],1)],1),a("v-overlay",{attrs:{value:e.overlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],1)},v=[],y=(a("b0c0"),{name:"LoadPage",data:function(){return{missingFiles:!1,overlay:!1}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])(["nameLoadedFileFASTA","nameLoadedFileCSV","fileCSV","fileFASTA","sessionId"])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])(["setLoadPage","setMetadataPage","setStatisticsPage","setFileCSV","setFileFASTA","setNameFileCSV","setNameFileFASTA","setAllMetadata","setMutDict","setTrueDisableMetadata","setFalseDisableMetadata","setSessionId"])),Object(p["b"])([])),{},{loadCSV:function(){this.setFileCSV(null);var e=new FileReader,t=document.getElementById("fileInputCSV").files[0];this.setNameFileCSV(t.name);var a=this;e.onload=function(){a.setFileCSV(e.result)},e.readAsText(t)},loadFASTA:function(){this.setFileFASTA(null);var e=new FileReader,t=document.getElementById("fileInputFASTA").files[0];this.setNameFileFASTA(t.name);var a=this;e.onload=function(){a.setFileFASTA(e.result)},e.readAsText(t)},apply:function(){var e=this;if(null===this.fileCSV||null===this.fileFASTA)this.missingFiles=!0;else{this.overlay=!0;var t="/private/upload_csv",a={fileCSV:this.fileCSV};s.a.post(t,a).then((function(e){return e.data})).then((function(t){e.setSessionId(t),e.uploadFASTA()}))}},uploadFASTA:function(){var e=this,t="/private/upload_fasta?session_id=".concat(this.sessionId),a={fileFASTA:this.fileFASTA};s.a.post(t,a).then((function(e){return e.data})).then((function(t){e.setMutDict(t),e.overlay=!1}))}}),watch:{overlay:function(){this.overlay||this.setMetadataPage()}},mounted:function(){}}),m=y,x=a("2877"),_=a("6544"),b=a.n(_),S=a("8336"),C=a("b0af"),T=a("99d9"),w=a("a523"),F=a("169a"),k=a("0e8f"),A=a("132d"),D=a("a722"),P=a("a797"),M=a("490a"),E=a("0fd9"),B=a("2fa4"),V=a("8654"),j=Object(x["a"])(m,f,v,!1,null,"c0d46eee",null),O=j.exports;b()(j,{VBtn:S["a"],VCard:C["a"],VCardText:T["b"],VCardTitle:T["c"],VContainer:w["a"],VDialog:F["a"],VFlex:k["a"],VIcon:A["a"],VLayout:D["a"],VOverlay:P["a"],VProgressCircular:M["a"],VRow:E["a"],VSpacer:B["a"],VTextField:V["a"]});var I=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-container",{staticStyle:{"justify-content":"center"},attrs:{fluid:"","grid-list-xl":""}},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("v-card",{staticStyle:{"margin-top":"50px","margin-bottom":"50px",padding:"50px"},attrs:{width:"1800px",color:"#F1FAEE"}},[i("v-card-title",{staticClass:"justify-center"},[i("h1",[e._v("METADATA")])]),i("v-card-text",[i("v-card",{staticStyle:{"margin-top":"50px"},attrs:{color:"#A8DADC"}},[i("v-layout",{staticStyle:{padding:"30px"},attrs:{row:"",wrap:"","justify-center":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[i("h3",[e._v("SELECTED FILTER")])]),i("v-layout",{staticStyle:{padding:"30px"},attrs:{row:"",wrap:"","justify-center":""}},e._l(e.selectedFilters,(function(t,a,n){return i("v-flex",{key:n,staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[i("v-row",{staticStyle:{"background-color":"#6A040F",color:"white",height:"60px","margin-bottom":"10px","padding-left":"20px"},attrs:{align:"center",justify:"center"}},[i("span",[i("pre",[i("b",[e._v(e._s(a.toUpperCase())+" :  ")])])]),i("span","date"!==a?e._l(t,(function(t,a){return i("span",{key:t},[0!==a?i("span",[e._v(" , ")]):e._e(),i("span",[e._v(e._s(t))])])})):e._l(t,(function(t){return i("span",{key:t["min_val"]+t["max_val"]},[null!==t["min_val"]?i("span",[e._v("\n                              from = "+e._s(t["min_val"])+"\n                            ")]):e._e(),null!==t["max_val"]?i("span",[e._v("\n                              to = "+e._s(t["max_val"])+"\n                            ")]):e._e()])})),0),i("v-spacer"),i("v-btn",{attrs:{icon:""},on:{click:function(t){return e.deleteFilter(a)}}},[i("v-icon",{attrs:{color:"white"}},[e._v("mdi-close-circle")])],1)],1)],1)})),1),i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[i("v-btn",{staticClass:"white--text",attrs:{color:"#E63946",disabled:e.disableMetadata},on:{click:function(t){return e.apply()}}},[e._v("\n                    APPLY\n                ")])],1)],1)],1),i("v-tabs",{staticStyle:{"margin-top":"50px"},attrs:{vertical:"",dark:"","background-color":"#6A040F","show-arrows":""},model:{value:e.selectedTab,callback:function(t){e.selectedTab=t},expression:"selectedTab"}},[i("v-tabs-slider",{staticStyle:{width:"500%"},attrs:{color:""}}),i("v-tab",{staticStyle:{"border-bottom":"orangered solid 1px"}},[i("b",[i("u",[e._v("SELECT METADATA:")])])]),e._l(e.allFields,(function(t){return i("v-tab",{key:t,staticStyle:{"border-bottom":"orange solid 1px"}},[e._v("\n              "+e._s(t.toUpperCase())+"\n            ")])})),i("v-tab-item",[i("v-card",{staticStyle:{padding:"50px","border-radius":"0px"},attrs:{color:"#A8DADC",height:"500"}},[i("v-container",{staticStyle:{"justify-content":"center"},attrs:{fluid:"","grid-list-xl":""}},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("h2",[e._v("SELECT ONE METADATA FROM LIST")])])],1)],1)],1),e._l(e.allFields,(function(t){return i("v-tab-item",{key:t,staticStyle:{"background-color":"red"}},[i("v-card",{staticStyle:{"border-radius":"0px","padding-bottom":"50px","padding-top":"50px"},attrs:{color:"#A8DADC"}},[i("v-container",{staticStyle:{"justify-content":"center"},attrs:{fluid:"","grid-list-xl":""}},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("h2",[e._v(e._s(t.toUpperCase()))])])],1),null!==e.allMetadata&&0===e.allMetadata.length&&"date"===t?i("v-container",{staticStyle:{"justify-content":"center"},attrs:{fluid:"","grid-list-xl":""}},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("span",{staticStyle:{"background-color":"#F1FAEE",width:"1420px",height:"620px",position:"absolute",top:"235px","z-index":"3","border-radius":"10%",border:"darkred solid 10px"}},[i("v-layout",{staticStyle:{padding:"70px"},attrs:{row:"",wrap:"","justify-center":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[i("span",{staticStyle:{"font-size":"50px",color:"red"}},[e._v("NO DATA TO SHOW")])]),i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[i("span",{staticStyle:{"font-size":"30px",color:"red"}},[e._v("Please remove some filters")])]),i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[i("img",{staticStyle:{width:"250px",position:"absolute",top:"230px"},attrs:{alt:"",id:"pie_chart_img1",src:a("6fbc")}}),i("img",{staticStyle:{width:"350px",position:"absolute",top:"180px"},attrs:{alt:"",id:"deny_img1",src:a("3c5e")}})])],1)],1)])],1):e._e(),null!==e.allMetadata&&0===e.allMetadata.length&&"date"!==t?i("v-container",{staticStyle:{"justify-content":"center"},attrs:{fluid:"","grid-list-xl":""}},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("span",{staticStyle:{"background-color":"#F1FAEE",width:"1400px",height:"620px",position:"absolute",top:"100px","z-index":"3","border-radius":"10%",border:"darkred solid 10px"}},[i("v-layout",{staticStyle:{padding:"70px"},attrs:{row:"",wrap:"","justify-center":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[i("span",{staticStyle:{"font-size":"50px",color:"red"}},[e._v("NO DATA TO SHOW")])]),i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[i("span",{staticStyle:{"font-size":"30px",color:"red"}},[e._v("Please remove some filters")])]),i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[i("img",{staticStyle:{width:"250px",position:"absolute",top:"230px"},attrs:{alt:"",id:"pie_chart_img2",src:a("6fbc")}}),i("img",{staticStyle:{width:"350px",position:"absolute",top:"180px"},attrs:{alt:"",id:"deny_img2",src:a("3c5e")}})])],1)],1)])],1):e._e(),i("v-layout",{staticStyle:{"padding-left":"50px","padding-right":"50px"},attrs:{wrap:"","align-center":"","justify-center":""}},"date"===t?[i("v-container",{staticStyle:{"justify-content":"center","margin-top":"50px"},attrs:{fluid:"","grid-list-xl":""}},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("h5",[e._v("Select Date Filter:")])])],1),i("v-container",{staticStyle:{"justify-content":"center",width:"200px"},attrs:{fluid:"","grid-list-xl":""}},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("v-select",{attrs:{items:e.possibleDateFilter,label:"Date filter",solo:"",disabled:e.disableMetadata},model:{value:e.selectedDateFilter,callback:function(t){e.selectedDateFilter=t},expression:"selectedDateFilter"}})],1)],1),i("v-row",{staticStyle:{width:"90%"},attrs:{justify:"center",align:"center"}},[i("v-flex",{staticClass:"xs6 d-flex"},[i("MetadataPieChart",{attrs:{nameMetadata:t,metadataContent:e.allMetadata,filterDate:e.selectedDateFilter}})],1),i("v-spacer"),i("v-flex",{staticClass:"xs6 d-flex"},[i("MetadataBarChart",{attrs:{nameMetadata:t+t,metadataContent:e.allMetadata,filterDate:e.selectedDateFilter}})],1)],1)]:[i("v-flex",{staticClass:"xs6 d-flex"},[i("MetadataPieChart",{attrs:{nameMetadata:t,metadataContent:e.allMetadata}})],1),i("v-spacer"),i("v-flex",{staticClass:"xs6 d-flex"},[i("MetadataBarChart",{attrs:{nameMetadata:t+t,metadataContent:e.allMetadata}})],1)],1),i("v-layout",{attrs:{row:"","align-center":"","justify-center":""}},"date"===t?[i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex"},[i("SelectorFilter",{attrs:{nameMetadata:t,metadataContent:e.allMetadata,filterDate:e.selectedDateFilter}})],1)]:[i("v-flex",{staticClass:"no-horizontal-padding xs6 d-flex"},[i("SelectorFilter",{attrs:{nameMetadata:t,metadataContent:e.allMetadata}})],1)],1)],1)],1)}))],2)],1)],1)],1)],1),i("v-overlay",{attrs:{value:e.overlay}},[i("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),i("v-overlay",{attrs:{value:e.overlay2}},[i("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],1)},N=[],q=(a("ac1f"),a("466d"),a("159b"),a("b64b"),a("99af"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticStyle:{"justify-content":"center"},attrs:{fluid:"","grid-list-xl":""}},[a("v-row",{attrs:{justify:"center",align:"center"}},[a("div",{staticStyle:{width:"1200px",height:"500px","user-select":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)",padding:"0","border-width":"0","background-color":"white","margin-top":"50px"},attrs:{id:e.nameMetadata}})])],1)}),z=[],L=(a("1276"),a("313e")),R={name:"MetadataPieChart",props:{nameMetadata:{required:!0},metadataContent:{required:!0},filterDate:{required:!1}},data:function(){return{pieChart:{title:{},tooltip:{trigger:"item"},series:[{type:"pie",radius:"50%",data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},my_chart:null}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])([])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])([])),Object(p["b"])([])),{},{renderGraph:function(e){this.pieChart.series[0].data=e.sort((function(e,t){var a=e["value"],i=t["value"];return a-i})),null===this.my_chart||this.my_chart.dispose(),this.my_chart=L["b"](document.getElementById(this.nameMetadata)),this.my_chart.setOption(this.pieChart,!0)},renderGraphFilterDate:function(){if("Month"===this.filterDate){var e=JSON.parse(JSON.stringify(this.metadataContent)),t=[],a=e.length,i=0;while(i<a){var n=e[i],s=n["name"],r=s.split("-"),o=r[0]+"-"+r[1],l=!1;for(var c in t){var d=t[c];d["name"]===o&&(l=!0,d["value"]=d["value"]+n["value"])}if(!l){var u={name:o,value:n["value"]};t.push(u)}i+=1}this.renderGraph(t)}else if("Year"===this.filterDate){var h=JSON.parse(JSON.stringify(this.metadataContent)),g=[],p=h.length,f=0;while(f<p){var v=h[f],y=v["name"],m=y.split("-"),x=m[0],_=!1;for(var b in g){var S=g[b];S["name"]===x&&(_=!0,S["value"]=S["value"]+v["value"])}if(!_){var C={name:x,value:v["value"]};g.push(C)}f+=1}this.renderGraph(g)}else if("Day"===this.filterDate){var T=JSON.parse(JSON.stringify(this.metadataContent));this.renderGraph(T)}}}),mounted:function(){},watch:{metadataContent:function(){var e=JSON.parse(JSON.stringify(this.metadataContent));"date"===this.nameMetadata?this.renderGraphFilterDate():this.renderGraph(e)},filterDate:function(){this.renderGraphFilterDate()}}},G=R,Q=Object(x["a"])(G,q,z,!1,null,"40730420",null),J=Q.exports;b()(Q,{VContainer:w["a"],VRow:E["a"]});var U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticStyle:{"justify-content":"center",width:"1500px"},attrs:{fluid:"","grid-list-xl":""}},[a("v-row",{attrs:{justify:"center",align:"center"}},[a("div",{staticStyle:{width:"1200px",height:"500px","user-select":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)",padding:"0","border-width":"0","background-color":"white","margin-top":"50px"},attrs:{id:e.nameMetadata}})])],1)},H=[],W=(a("caad"),a("2532"),{name:"MetadataBarChart",props:{nameMetadata:{required:!0},metadataContent:{required:!0},filterDate:{required:!1}},data:function(){return{barChart:{title:{},tooltip:{trigger:"item"},series:[{type:"bar",radius:"50%",data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}],xAxis:{type:"category",data:[]},yAxis:{type:"value"},dataZoom:[{type:"inside"}]},my_chart:null}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])([])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])([])),Object(p["b"])([])),{},{renderGraphFilterDate:function(){if("Month"===this.filterDate){var e=JSON.parse(JSON.stringify(this.metadataContent)),t=[],a=e.length,i=0;while(i<a){var n=e[i],s=n["name"],r=s.split("-"),o=r[0]+"-"+r[1],l=!1;for(var c in t){var d=t[c];d["name"]===o&&(l=!0,d["value"]=d["value"]+n["value"])}if(!l){var u={name:o,value:n["value"]};t.push(u)}i+=1}this.renderGraph(t)}else if("Year"===this.filterDate){var h=JSON.parse(JSON.stringify(this.metadataContent)),g=[],p=h.length,f=0;while(f<p){var v=h[f],y=v["name"],m=y.split("-"),x=m[0],_=!1;for(var b in g){var S=g[b];S["name"]===x&&(_=!0,S["value"]=S["value"]+v["value"])}if(!_){var C={name:x,value:v["value"]};g.push(C)}f+=1}this.renderGraph(g)}else if("Day"===this.filterDate){var T=JSON.parse(JSON.stringify(this.metadataContent));this.renderGraph(T)}},renderGraph:function(e){var t=this;e=t.nameMetadata.includes("cluster")?e.sort((function(e,t){var a=e["name"],i=t["name"];return a-i})):t.nameMetadata.includes("date")?e.sort((function(e,t){var a=e["name"],i=a.split("-"),n=new Date(i[0],i[1],i[2]),s=t["name"],r=s.split("-"),o=new Date(r[0],r[1],r[2]);return n>o?1:-1})):e.sort((function(e,t){var a=e["name"],i=t["name"];return a>i?1:-1}));var a=e.length,i=0,n=[],s=[];while(i<a){var r=e[i];n.push(r["name"]),s.push(r["value"]),i+=1}this.barChart.series[0].data=s,this.barChart.xAxis.data=n,null===this.my_chart||this.my_chart.dispose(),this.my_chart=L["b"](document.getElementById(this.nameMetadata)),this.my_chart.setOption(this.barChart,!0)}}),mounted:function(){},watch:{metadataContent:function(){var e=JSON.parse(JSON.stringify(this.metadataContent));"datedate"===this.nameMetadata?this.renderGraphFilterDate():this.renderGraph(e)},filterDate:function(){this.renderGraphFilterDate()}}}),Y=W,X=Object(x["a"])(Y,U,H,!1,null,"8b4c0ca4",null),Z=X.exports;b()(X,{VContainer:w["a"],VRow:E["a"]});var $=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticStyle:{"justify-content":"center","margin-top":"50px"},attrs:{fluid:"","grid-list-xl":""}},["date"!==e.nameMetadata?a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-container",{staticStyle:{"justify-content":"center",width:"200px"},attrs:{fluid:"","grid-list-xl":""}},[a("v-select",{attrs:{items:e.possibleMetadataFilter,label:"Filter",multiple:"",solo:"","hide-details":"",disabled:e.disableMetadata},model:{value:e.selectedMetadataFilter,callback:function(t){e.selectedMetadataFilter=t},expression:"selectedMetadataFilter"}})],1)],1):a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-container",{staticStyle:{"justify-content":"center",width:"350px","padding-bottom":"2px"},attrs:{fluid:"","grid-list-xl":""}},[a("v-text-field",{attrs:{name:"input-1",label:"Filter",solo:"",readonly:"","append-icon":e.menuDate?"mdi-menu-down mdi-rotate-180":"mdi-menu-down","hide-details":"",disabled:e.disableMetadata},on:{click:function(t){return e.openMenu()},"click:append":function(t){return e.openMenu()}},model:{value:e.shown_value,callback:function(t){e.shown_value=t},expression:"shown_value"}})],1)],1),e.menuDate?a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-card",[a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-date-picker",{attrs:{type:e.dateType,landscape:e.landscape,"show-current":"","no-title":""},model:{value:e.min,callback:function(t){e.min=t},expression:"min"}})],1),a("v-flex",{staticClass:"hidden-xs-only",attrs:{xs12:"",sm6:""}},[a("v-date-picker",{attrs:{type:e.dateType,landscape:e.landscape,"show-current":"","no-title":""},model:{value:e.max,callback:function(t){e.max=t},expression:"max"}})],1)],1)],1),a("v-card-actions",{staticClass:"justify-center"},[a("v-btn",{attrs:{color:"blue",text:"",outlined:""},on:{click:e.setDate}},[e._v("\n                Apply\n                "),a("v-icon",{attrs:{dark:"",right:""}},[e._v("mdi-checkbox-marked-circle")])],1),a("v-btn",{attrs:{color:"#E63946",text:"",outlined:""},on:{click:e.deleteDate}},[e._v("\n                Clear\n                "),a("v-icon",{attrs:{dark:"",right:""}},[e._v("mdi-cancel")])],1)],1)],1)],1):e._e(),a("v-row",{staticStyle:{"margin-top":"40px"},attrs:{justify:"center",align:"center"}},[a("v-container",{attrs:{fluid:"","grid-list-xl":""}},[a("v-layout",{attrs:{"justify-center":"","align-center":""}},[a("v-btn",{staticClass:"white--text",attrs:{color:"#E63946",disabled:e.disableMetadata},on:{click:function(t){return e.addFilter()}}},[e._v("\n            APPLY\n        ")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:e.notProperDates,callback:function(t){e.notProperDates=t},expression:"notProperDates"}},[a("v-card",[a("v-card-title",{staticClass:"headline",staticStyle:{"background-color":"#A8DADC",color:"white"}},[e._v("\n      Select Proper Date\n      "),a("v-spacer"),a("v-btn",{staticStyle:{"background-color":"rgb(122, 139, 157)"},attrs:{slot:"activator",icon:"",small:"",color:"white"},on:{click:function(t){e.notProperDates=!e.notProperDates}},slot:"activator"},[a("v-icon",[e._v("mdi-close")])],1)],1),a("v-card-text",{staticClass:"text-xs-center"},[a("span",[a("br"),e._v("\n        Select proper dates\n      ")])])],1)],1)],1)},K=[],ee=(a("a15b"),{name:"SelectorFilter",props:{nameMetadata:{required:!0},metadataContent:{required:!0},filterDate:{required:!1}},data:function(){return{possibleMetadataFilter:[],menuDate:!1,landscape:!1,shown_value:null,payload:null,min:null,max:null,dateType:"date",notProperDates:!1,overlay:!1}},computed:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["e"])(["selectedFilters","fileCSV","allMetadata","disableMetadata"])),Object(p["c"])({})),{},{selectedMetadataFilter:{get:function(){return this.selectedFilters[this.nameMetadata]},set:function(e){this.payload={field:this.nameMetadata,list:e}}},textBoxValue:function(){var e=[];return null!=this.min&&e.push("min: "+this.min),null!=this.max&&e.push("max: "+this.max),e.join("; ")},selectedMin:function(){return this.min?this.min:null},selectedMax:function(){return this.max?this.max:null}}),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])(["setAllMetadata"])),Object(p["b"])(["setSelectedFilter"])),{},{openMenu:function(){this.menuDate=!this.menuDate},setDate:function(){if(null!==this.min&&null!==this.max&&this.min>this.max)this.notProperDates=!0;else{if(null!==this.min||null!==this.max){var e=this.selectedMin,t=this.selectedMax,a=[{min_val:e,max_val:t}];this.payload={field:this.nameMetadata,list:a},this.shown_value=this.textBoxValue}this.menuDate=!1}},deleteDate:function(){this.payload={field:this.nameMetadata,list:[]},this.min=null,this.max=null,this.shown_value=null,this.menuDate=!1},addFilter:function(){null!==this.payload&&this.setSelectedFilter(this.payload)},chooseSelectableFilter:function(e){e=this.nameMetadata.includes("cluster")?e.sort((function(e,t){var a=e["name"],i=t["name"];return a-i})):this.nameMetadata.includes("date")?e.sort((function(e,t){var a=e["name"],i=a.split("-"),n=new Date(i[0],i[1],i[2]),s=t["name"],r=s.split("-"),o=new Date(r[0],r[1],r[2]);return n>o?1:-1})):e.sort((function(e,t){var a=e["name"],i=t["name"];return a>i?1:-1}));var t=[],a=e.length,i=0;while(i<a){var n=e[i].name;t.push(n),i+=1}this.possibleMetadataFilter=t}}),mounted:function(){},watch:{filterDate:function(){this.menuDate=!1,this.min=null,this.max=null,"Month"===this.filterDate||"Year"===this.filterDate?this.dateType="month":"Day"===this.filterDate&&(this.dateType="date")},selectedFilters:function(){"date"===this.nameMetadata&&(this.selectedFilters["date"]||(this.min=null,this.max=null,this.shown_value=this.textBoxValue))},metadataContent:function(){var e=JSON.parse(JSON.stringify(this.metadataContent));this.chooseSelectableFilter(e)}}}),te=ee,ae=a("2e4b"),ie=a("b974"),ne=Object(x["a"])(te,$,K,!1,null,"b93f1c28",null),se=ne.exports;b()(ne,{VBtn:S["a"],VCard:C["a"],VCardActions:T["a"],VCardText:T["b"],VCardTitle:T["c"],VContainer:w["a"],VDatePicker:ae["a"],VDialog:F["a"],VFlex:k["a"],VIcon:A["a"],VLayout:D["a"],VRow:E["a"],VSelect:ie["a"],VSpacer:B["a"],VTextField:V["a"]});var re={name:"MetadataPage",components:{SelectorFilter:se,MetadataBarChart:Z,MetadataPieChart:J},data:function(){return{overlay:!1,overlay2:!1,selectedTab:0,possibleDateFilter:["Day","Month","Year"],selectedDateFilter:"Day",allFields:[]}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])(["fileFASTA","fileCSV","allMetadata","selectedFilters","mutDict","selectedFilters","disableMetadata","sessionId"])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])(["setLoadPage","setMetadataPage","setStatisticsPage","setAllResultTable","setAllResultTableHeaders","setAllResultTableFixed","setListRes","setListResFixed","setStatisticsInput","setAllMetadata","setTrueDisableMetadata","setFalseDisableMetadata"])),Object(p["b"])(["setSelectedFilter"])),{},{deleteFilter:function(e){var t={field:e,list:[]};this.setSelectedFilter(t)},apply:function(){var e=this;this.overlay=!0;var t="/private/query?session_id=".concat(this.sessionId),a={selectedFilters:this.selectedFilters};s.a.post(t,a).then((function(e){return e.data})).then((function(t){var a=JSON.parse(JSON.stringify(t["table"])),i=JSON.parse(JSON.stringify(t["stats"]));e.setStatisticsInput(i),a=a.sort((function(e,t){var a=e["cluster"].match(/\d+/g),i=t["cluster"].match(/\d+/g);return a[0]-i[0]})),e.setListRes(a),e.setListResFixed(a);var n=a[0],s=[];Object.keys(n).forEach((function(e){var t={};t["text"]=e,t["value"]="sequences"===e?"sequences_count":e,t["sortable"]=!("epi_seq"===e||"pubs linear"===e||"pubs non-linear"===e),t["show"]=!0,t["align"]="center",t["width"]="18vh","cluster"===e?t["sort"]=function(e,t){var a=e.match(/\d+/g),i=t.match(/\d+/g);return a[0]-i[0]}:"mutation"===e&&(t["sort"]=function(e,t){return e[0]===t[0]?e[1]===t[1]?"-"===e[2]?1:"-"===t[2]?-1:e[2]>t[2]?1:-1:"-"===e[1]?1:"-"===t[1]?-1:e[1]>t[1]?1:-1:parseInt(e[0],10)>parseInt(t[0],10)?1:-1});var i=a.length,n=0;while(n<i)a[n]["sequences_count"]=a[n]["sequences"].length,n+=1;s.push(t)})),a=a.sort((function(e,t){var a=e["cluster"].match(/\d+/g),i=t["cluster"].match(/\d+/g);return a[0]-i[0]})),e.setAllResultTableHeaders(s),e.setAllResultTable(a),e.setAllResultTableFixed(a),e.overlay=!1}))}}),watch:{selectedFilters:function(){var e=this;this.overlay2=!0;var t=this.allFields[this.selectedTab-1],a="/private/field/".concat(t,"?session_id=").concat(this.sessionId),i={selectedFilters:this.selectedFilters};s.a.post(a,i).then((function(e){return e.data})).then((function(t){0===t.length?e.setTrueDisableMetadata():e.setFalseDisableMetadata(),e.setAllMetadata(t),e.overlay2=!1}))},overlay:function(){this.overlay||this.setStatisticsPage()},selectedTab:function(){var e=this;this.overlay2=!0;var t=this.allFields[this.selectedTab-1],a="/private/field/".concat(t,"?session_id=").concat(this.sessionId),i={selectedFilters:this.selectedFilters};s.a.post(a,i).then((function(e){return e.data})).then((function(t){e.setAllMetadata(t),e.overlay2=!1}))}},mounted:function(){var e=this;this.overlay2=!0;var t="/private/fields?session_id=".concat(this.sessionId);s.a.get(t).then((function(e){return e.data})).then((function(t){e.allFields=t,e.overlay2=!1}))}},oe=re,le=a("71a3"),ce=a("c671"),de=a("fe57"),ue=a("9a96"),he=Object(x["a"])(oe,I,N,!1,null,"733b0bd7",null),ge=he.exports;b()(he,{VBtn:S["a"],VCard:C["a"],VCardText:T["b"],VCardTitle:T["c"],VContainer:w["a"],VFlex:k["a"],VIcon:A["a"],VLayout:D["a"],VOverlay:P["a"],VProgressCircular:M["a"],VRow:E["a"],VSelect:ie["a"],VSpacer:B["a"],VTab:le["a"],VTabItem:ce["a"],VTabs:de["a"],VTabsSlider:ue["a"]});var pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{staticStyle:{"justify-content":"center"},attrs:{fluid:"","grid-list-xl":""}},[a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-card",{staticStyle:{"margin-top":"50px","margin-bottom":"50px",padding:"50px"},attrs:{width:"95%",color:"#F1FAEE"}},[a("v-btn",{staticClass:"white--text",attrs:{color:"#E63946"},on:{click:function(t){return e.setMetadataPage()}}},[a("v-icon",{staticStyle:{"margin-right":"5px"}},[e._v("mdi-arrow-left-bold-outline")]),e._v("CHANGE POPULATION / CHANGE METADATA\n      ")],1),a("v-card-title",{staticClass:"justify-center"},[a("h1",[e._v("STATISTICS")])]),a("v-card-text",[a("v-layout",{staticStyle:{padding:"30px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-bottom":"20px"}},[a("v-btn",{staticClass:"white--text",attrs:{small:"",color:"blue"},on:{click:function(t){e.inputStatsDialog=!0}}},[e._v("\n              INPUT STATISTICS\n            ")])],1),a("v-flex",{staticClass:"no-horizontal-padding xs4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#A8DADC"}},[a("v-card-title",[a("h5",[e._v("Cluster counter (num of seq.):  (greater than)")])]),a("v-card-text",{staticStyle:{"margin-top":"30px"}},[a("v-slider",{attrs:{"always-dirty":"","persistent-hint":"","thumb-label":"always",min:"0",max:"100",color:"#191970","track-color":"#191970","thumb-color":"#191970"},model:{value:e.sliderClusterCount,callback:function(t){e.sliderClusterCount=t},expression:"sliderClusterCount"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#A8DADC"}},[a("v-card-title",[a("h5",[e._v("Select Protein:")])]),a("v-card-text",{staticStyle:{"margin-top":"30px"}},[a("v-select",{attrs:{items:e.possibleProtein,label:"Protein",solo:"","hide-details":""},model:{value:e.selectedProtein,callback:function(t){e.selectedProtein=t},expression:"selectedProtein"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#A8DADC"}},[a("v-card-title",[a("h5",[e._v("Lineage frequency: (less than)")])]),a("v-card-text",{staticStyle:{"margin-top":"30px"}},[a("v-slider",{attrs:{"always-dirty":"","persistent-hint":"","thumb-label":"always",step:1,min:"0",max:"100",color:"#191970","track-color":"#191970","thumb-color":"#191970"},model:{value:e.sliderLineageFrequency,callback:function(t){e.sliderLineageFrequency=t},expression:"sliderLineageFrequency"}})],1)],1)],1)],1),a("v-layout",{staticStyle:{"margin-top":"50px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#A8DADC"}},[a("v-layout",{staticStyle:{padding:"30px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("h3",[e._v("Filter graph on cluster and lineages:")])]),a("v-flex",{staticClass:"no-horizontal-padding xs6 d-flex",staticStyle:{"justify-content":"center"}},[a("v-select",{attrs:{items:e.possibleClusters,label:"Clusters",multiple:"",solo:"","hide-details":""},model:{value:e.selectedClusters,callback:function(t){e.selectedClusters=t},expression:"selectedClusters"}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs6 d-flex",staticStyle:{"justify-content":"center"}},[a("v-select",{attrs:{items:e.possibleLineages,label:"Lineages",multiple:"",solo:"","hide-details":""},model:{value:e.selectedLineages,callback:function(t){e.selectedLineages=t},expression:"selectedLineages"}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[e.selectedClusters.length>0||e.selectedLineages.length>0?a("div",{staticStyle:{"text-align":"center"}},[a("h4",[e._v("Filters:")]),e.selectedClusters.length>0?a("span",[a("span",[e._v("CLUSTERS: ")]),e._l(e.selectedClusters,(function(t,i){return a("span",{key:t},[0!==i?a("span",[e._v(", ")]):e._e(),a("span",[e._v(e._s(t))])])}))],2):e._e(),e.selectedLineages.length>0?a("span",[a("br"),a("span",[e._v("LINEAGES: ")]),e._l(e.selectedLineages,(function(t,i){return a("span",{key:t},[0!==i?a("span",[e._v(", ")]):e._e(),a("span",[e._v(e._s(t))])])}))],2):e._e()]):e._e()]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticClass:"white--text",attrs:{color:"#E63946",small:"",disabled:0===e.selectedClusters.length&&0===e.selectedLineages.length},on:{click:function(t){return e.removeClusterLineageFilter()}}},[e._v("\n                      REMOVE FILTERS\n                  ")])],1)],1)],1)],1)],1),a("v-layout",{staticStyle:{padding:"30px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticClass:"white--text",attrs:{color:"#E63946"},on:{click:function(t){e.apply(),e.$vuetify.goTo(1200,{duration:1e3,offset:0,easing:"easeInOutQuart"})}}},[e._v("\n                APPLY\n            ")])],1)],1)],1)],1),e.applied?a("v-card",{staticStyle:{"margin-top":"50px",padding:"50px"},attrs:{width:"95%",color:"#F1FAEE"}},[a("v-card-text",[a("v-layout",{staticStyle:{padding:"30px","margin-bottom":"50px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("div",{staticStyle:{width:"80%","background-color":"white"}},[a("BarSeqChart")],1)])],1),a("v-card",{staticStyle:{"padding-bottom":"50px"},attrs:{color:"#A8DADC"}},[a("v-layout",{attrs:{wrap:"","align-center":"","justify-center":""}},[a("v-data-table",{staticClass:"data-table",staticStyle:{width:"90%","margin-top":"50px","margin-bottom":"50px"},attrs:{headers:e.allResultTableHeaders,items:e.results,"multi-sort":"","sort-by":e.sortBy,"sort-desc":e.sortDesc,"custom-sort":e.customSort},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item;return[a("tr",e._l(e.allResultTableHeaders,(function(t){return a("td",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"header.show"}],key:t.value,staticStyle:{"white-space":"pre-wrap","word-wrap":"break-word","text-align":"center"}},["pubs linear"===t.value||"pubs non-linear"===t.value||"sequences_count"===t.value?a("span",[a("v-dialog",{attrs:{width:"500",scrollable:""},scopedSlots:e._u([{key:"activator",fn:function(n){var s=n.on;return[a("v-btn",e._g({staticClass:"white--text",attrs:{slot:"activator",color:"rgb(122, 139, 157)",small:""},slot:"activator"},s),["sequences_count"!==t.value?a("span",[e._v("\n                                "+e._s(t.value)+"\n                              ")]):a("span",[e._v("\n                                sequences  ("+e._s(i[t.value])+")\n                              ")])])]}}],null,!0)},[a("v-card",[a("v-card-title",{staticClass:"justify-center",staticStyle:{"background-color":"#A8DADC",color:"white"}},["pubs linear"===t.value?a("span",[e._v("\n                                    Publications linear epitopes\n                                  ")]):"pubs non-linear"===t.value?a("span",[e._v("\n                                    Publications non-linear epitopes\n                                  ")]):"sequences_count"===t.value?a("span",[e._v("\n                                    Sequences\n                                  ")]):e._e()]),a("v-card-text",{staticStyle:{"margin-top":"20px","text-align":"center"}},["sequences_count"!==t.value?a("span",e._l(i[t.value],(function(t){return a("span",{key:t},[a("a",{attrs:{href:t,target:"_blank"}},[e._v("- "+e._s(t))]),a("br"),a("br")])})),0):a("span",e._l(i["sequences"],(function(t){return a("span",{key:t},[a("span",[e._v("- "+e._s(t))]),a("br"),a("br")])})),0)])],1)],1)],1):Array.isArray(i[t.value])?a("span",[i[t.value].length>0?a("span",["mutation"===t.value?a("span",e._l(i[t.value],(function(t,i){return a("span",{key:t},[0!==i?a("span",[e._v(", ")]):e._e(),a("span",[e._v(e._s(t))])])})),0):"annotations"===t.value?a("span",[a("v-dialog",{attrs:{width:"800",scrollable:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"white--text",attrs:{slot:"activator",color:"rgb(122, 139, 157)",small:""},slot:"activator"},i),[a("span",[e._v("\n                                    Annotations\n                                  ")])])]}}],null,!0)},[a("v-card",[a("v-card-title",{staticClass:"justify-center",staticStyle:{"background-color":"#A8DADC",color:"white"}},[a("span",[e._v("\n                                    Annotations\n                                  ")])]),a("v-card-text",{staticStyle:{"margin-top":"20px"}},e._l(i[t.value],(function(t,i){return a("span",{key:i},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-card",{staticStyle:{padding:"20px","margin-bottom":"20px","margin-top":"20px",border:"darkgrey solid 1px","border-radius":"15px"},attrs:{width:"500"}},e._l(t,(function(t,i){return a("span",{key:i},[a("span",[a("b",[e._v(" - "+e._s(i)+": ")]),a("span","EvidenceUrls"!==i?[e._v("\n                                              "+e._s(t)+"\n                                            ")]:[a("div",{staticStyle:{display:"inline-grid","vertical-align":"central"}},e._l(t.slice(1,-1).replaceAll("'","").split(","),(function(t){return a("span",{key:t,staticStyle:{"word-wrap":"break-word","max-width":"400px"}},[a("span",""!==t?[a("a",{attrs:{href:t,target:"_blank"}},[e._v(" "+e._s(t))]),a("br")]:[e._v("\n                                                    N/D\n                                                  ")])])})),0)])]),a("br")])})),0)],1)],1)})),0)],1)],1)],1):"pubs linear"===t.value||"pubs non-linear"===t.value?a("span",[a("br"),e._l(i[t.value],(function(t){return a("span",{key:t},[a("a",{attrs:{href:t,target:"_blank"}},[e._v(e._s(t))]),a("br"),a("br")])}))],2):a("span",[a("br"),e._l(i[t.value],(function(t){return a("span",{key:t},[a("span",{staticStyle:{"white-space":"nowrap"}},[e._v(e._s(t))]),a("br"),a("br")])}))],2)]):a("span",[a("span",[e._v("N/D")])])]):a("span",[""!==i[t.value]&&null!==i[t.value]&&void 0!==i[t.value]?a("span",["% lineage"===t.value||"% cluster"===t.value?a("span",[e._v(e._s((100*i[t.value]).toFixed(3)))]):"FC"===t.value?a("span",[e._v(e._s(i[t.value].toFixed(3)))]):a("span",[e._v(e._s(i[t.value]))])]):a("span",[a("span",[e._v("N/D")])])])])})),0)]}}],null,!1,244290620)})],1),a("v-layout",{attrs:{wrap:"","align-center":"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticClass:"white--text",attrs:{small:"",color:"rgb(122, 139, 157)"},on:{click:function(t){return e.downloadTable()}}},[e._v("\n              Download Result Table")])],1)],1)],1)],1)],1):e._e()],1),e.applied?a("div",[a("ListResults",{attrs:{sortBy:e.sortBy,sortDesc:e.sortDesc}})],1):e._e()],1),a("v-dialog",{attrs:{persistent:"",width:"1500"},model:{value:e.inputStatsDialog,callback:function(t){e.inputStatsDialog=t},expression:"inputStatsDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline",staticStyle:{"background-color":"#A8DADC",color:"white"}},[e._v("\n      Input Statistics\n      "),a("v-spacer"),a("v-btn",{staticStyle:{"background-color":"rgb(122, 139, 157)"},attrs:{slot:"activator",icon:"",small:"",color:"white"},on:{click:function(t){e.inputStatsDialog=!e.inputStatsDialog}},slot:"activator"},[a("v-icon",[e._v("mdi-close")])],1)],1),a("v-card-text",{staticClass:"text-xs-center"},[a("InputStats")],1)],1)],1)],1)},fe=[],ve=a("53ca"),ye=(a("3ca3"),a("ddb0"),a("2b3d"),a("d81d"),a("fb6a"),a("4de4"),a("cb29"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{attrs:{color:"#A8DADC"}},[i("v-container",{staticStyle:{"justify-content":"center"},attrs:{fluid:"","grid-list-xl":""}},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("div",{staticStyle:{width:"1200px",height:"500px","user-select":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)",padding:"0","border-width":"0","background-color":"white",margin:"50px","margin-bottom":"0px!important"},attrs:{id:"chart2"},on:{click:function(t){return e.filterPoint()}}}),i("v-container",{staticStyle:{"justify-content":"center","margin-bottom":"20px","background-color":"white"},attrs:{id:"image2",fluid:"","grid-list-xl":""}},["Spike (surface glycoprotein)"===e.proteinSelected?i("v-row",{attrs:{justify:"center",align:"center"}},[i("img",{staticStyle:{width:"80%","margin-left":"0.6%","align-items":"center"},attrs:{alt:"",id:"regionSVG",src:a("2f76")}})]):e._e()],1)],1),i("v-row",{attrs:{justify:"center",align:"center"}},[i("v-btn",{staticClass:"white--text",staticStyle:{"margin-bottom":"20px","margin-right":"10px"},attrs:{color:"blue"},on:{click:function(t){return e.replotChart()}}},[e._v("\n        RE-PLOT\n      ")]),i("v-btn",{staticClass:"white--text",staticStyle:{"margin-bottom":"20px","margin-left":"10px"},attrs:{color:"blue"},on:{click:function(t){return e.zoomOut()}}},[e._v("\n        ZOOM OUT\n      ")])],1)],1)],1)}),me=[],xe={name:"BarSeqChart",data:function(){return{params:null,selectedPosition:null,firstUpdate:!0,allResultTableThisInstance:[],listResThisInstance:[],sequenceBarChart:{title:{textStyle:{fontSize:15},text:"Seq Bar Chart",left:"center"},tooltip:{},xAxis:{type:"value",min:"dataMin",max:"dataMax",minInterval:1,splitLine:{show:!1},splitNumber:10},yAxis:{type:"value",min:"dataMin",minInterval:1,splitLine:{show:!0}},series:[{name:"seq mutated",type:"bar",data:[],selectedMode:"single",barMinWidth:"5px",emphasis:{label:{show:!0,position:"top",formatter:"{@[0]}",color:"orange"},itemStyle:{borderColor:"orange",color:"orange"}}}],dataZoom:[{type:"slider",show:!0,start:0,end:100,handleSize:"100%",xAxisIndex:[0]},{type:"inside",start:0,end:100}],selectedMode:"single",select:{label:{show:!0,position:"top",color:"red",formatter:"{@[0]} : {@[1]}"},itemStyle:{color:"red",borderColor:"red",borderWidth:"1px",borderType:"solid"}}},my_chart:null,my_chart2:null}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])(["xAxisBarSeqChart","yAxisBarSeqChart","allResultTable","listRes","proteinSelected"])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])(["setAllResultTable","setListRes"])),Object(p["b"])([])),{},{zoomOut:function(){this.my_chart2.dispatchAction({type:"dataZoom",startValue:1,endValue:this.yAxisBarSeqChart.length})},filterPoint:function(){var e=this;this.my_chart2.on("click",(function(t){e.params=t}))},renderGraph:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.getElementById("chart2"),a=window.getComputedStyle(t,null);document.getElementById("image2").style.width=a.getPropertyValue("width"),this.allResultTableThisInstance=this.allResultTable,this.listResThisInstance=this.listRes,this.sequenceBarChart.series[0].data=this.yAxisBarSeqChart,e||this.my_chart2.dispose(),this.my_chart2=L["b"](document.getElementById("chart2")),this.my_chart2.setOption(this.sequenceBarChart,!0),this.firstUpdate=!1;var i=document.getElementById("chart2");i.click()},replotChart:function(){this.my_chart2.dispose(),this.setAllResultTable(this.allResultTableThisInstance),this.setListRes(this.listResThisInstance),this.selectedPosition=null,this.renderGraph(!0)},onResize:function(){this.my_chart2.dispose(),this.renderGraph(!0)}}),mounted:function(){this.renderGraph(!0)},watch:{allResultTable:function(){this.firstUpdate?this.renderGraph(!1):this.zoomOut()},params:function(){if(null!==this.params)if(this.params.data[0]!==this.selectedPosition){this.selectedPosition=this.params.data[0],this.setAllResultTable(this.allResultTableThisInstance),this.setListRes(this.listResThisInstance);var e=this;this.setAllResultTable(this.allResultTable.filter((function(t){var a=t["mutation"];return a[0]===e.selectedPosition}))),this.setListRes(this.listRes.filter((function(t){var a=t["mutation"];return a[0]===e.selectedPosition})))}else this.selectedPosition=null,this.setAllResultTable(this.allResultTableThisInstance),this.setListRes(this.listResThisInstance)}}},_e=xe,be=Object(x["a"])(_e,ye,me,!1,null,"de7ff136",null),Se=be.exports;b()(be,{VBtn:S["a"],VCard:C["a"],VContainer:w["a"],VRow:E["a"]});var Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticStyle:{"justify-content":"center"},attrs:{fluid:"","grid-list-xl":""}},[a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-card",{staticStyle:{"margin-top":"50px"},attrs:{width:"95%",color:"#F1FAEE"}},[a("v-card-text",[a("v-layout",{staticStyle:{padding:"30px"},attrs:{row:"",wrap:"","justify-center":""}},e._l(e.listRes,(function(t){return a("v-flex",{key:t.cluster+t.mutation[0]+t.mutation[1]+t.mutation[2]+t.lineage,staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("div",{staticStyle:{width:"100%","background-color":"#A8DADC"},attrs:{id:t.cluster+t.mutation[0]+t.mutation[1]+t.mutation[2]+t.lineage}},[a("v-card",{attrs:{width:"100%",color:"transparent"}},[a("v-card-title",[a("h5",[e._v(e._s(t.mutation[1])+e._s(t.mutation[0])+e._s(t.mutation[2])+"\n                    in cluster "+e._s(t.cluster)+" vs lineage "+e._s(t.lineage))]),a("v-spacer"),a("v-btn",{staticClass:"white--text",staticStyle:{"margin-right":"20px"},attrs:{color:"blue","data-html2canvas-ignore":"true"},on:{click:function(a){return e.setSelectedIndex(t.cluster+t.mutation[0]+t.mutation[1]+t.mutation[2]+t.lineage)}}},[e.selectedIndex===t.cluster+t.mutation[0]+t.mutation[1]+t.mutation[2]+t.lineage?a("span",[e._v("CLOSE ")]):a("span",[e._v(" MORE INFO ")])])],1),e.selectedIndex===t.cluster+t.mutation[0]+t.mutation[1]+t.mutation[2]+t.lineage?a("v-card-text",[a("v-layout",{staticStyle:{padding:"30px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex"},[a("ul",[a("li",[e._v("\n                            Number of sequences in cluster "+e._s(t.cluster)+" with mutation\n                            "+e._s(t.mutation[1])+e._s(t.mutation[0])+e._s(t.mutation[2])+": "+e._s(t["# cluster"])+"\n                          ")]),"N/D"!==t["% cluster"]&&null!==t["% cluster"]?a("li",[e._v("\n                            Percentage of sequences in cluster "+e._s(t.cluster)+" with mutation\n                            "+e._s(t.mutation[1])+e._s(t.mutation[0])+e._s(t.mutation[2])+": "+e._s(100*t["% cluster"].toPrecision(3))+"%\n                          ")]):a("li",[e._v("\n                            Percentage of sequences in cluster "+e._s(t.cluster)+" with mutation\n                            "+e._s(t.mutation[1])+e._s(t.mutation[0])+e._s(t.mutation[2])+": N/D\n                          ")]),"N/D"!==t["% lineage"]&&null!==t["% lineage"]?a("li",[e._v("\n                            Percentage of sequences in lineage "+e._s(t.lineage)+" with mutation\n                            "+e._s(t.mutation[1])+e._s(t.mutation[0])+e._s(t.mutation[2])+": "+e._s(100*t["% lineage"].toPrecision(3))+"%\n                          ")]):a("li",[e._v("\n                            Percentage of sequences in lineage "+e._s(t.lineage)+" with mutation\n                            "+e._s(t.mutation[1])+e._s(t.mutation[0])+e._s(t.mutation[2])+": N/D\n                          ")]),"N/D"!==t.FC&&null!==t.FC?a("li",[e._v("\n                            Fold change (%cluster / %lineage): "+e._s(t.FC.toPrecision(3))+"\n                          ")]):a("li",[e._v("\n                            Fold change (%cluster / %lineage): N/D\n                          ")]),a("li",[e._v("\n                              Spike domain(s):\n                            "),a("span",[a("br"),e._v("â€ƒ* "),e._l(t.annotations,(function(t){return a("span",{key:t},[e._v(e._s(t))])}))],2)]),a("li",[e._v("\n                            Epitope (linear, from IEDB): sequence "+e._s(t.epi_seq)+" from position "+e._s(t.epi_start)+" to "+e._s(t.epi_stop)+"\n                            in Spike (combination of "+e._s(t["#linear"])+" linear epitopes)\n                          ")]),a("li",[e._v("\n                            Publications linear epitopes:\n                            "),a("span",e._l(t["pubs linear"],(function(t){return a("span",{key:t},[a("br"),e._v("â€ƒ* "),a("a",{attrs:{href:t,target:"_blank"}},[e._v(e._s(t))])])})),0)]),a("li",[e._v("\n                            Epitope (non-linear, from IEDB): overlapping "+e._s(t["#non-linear"])+" non-linear epitopes\n                          ")]),a("li",[e._v("\n                            Publications non-linear epitopes:\n                            "),a("span",e._l(t["pubs non-linear"],(function(t){return a("span",{key:t},[a("br"),e._v("â€ƒ* "),a("a",{attrs:{href:t,target:"_blank"}},[e._v(e._s(t))])])})),0)]),a("li",[e._v("\n                            Sequences:\n                            "),a("span",e._l(t.sequences,(function(t,i){return a("span",{key:i},[a("br"),a("span",{staticStyle:{"margin-right":"20px"}},[e._v("â€ƒ* "+e._s(t))]),a("v-btn",{staticClass:"white--text",staticStyle:{"margin-bottom":"5px"},attrs:{icon:"","x-small":"","data-html2canvas-ignore":"true"},on:{click:function(a){return e.getSequenceMetadata(t)}}},[a("v-icon",{staticStyle:{"background-color":"rgb(122, 139, 157)","border-radius":"100%"}},[e._v("mdi-dots-horizontal")])],1),a("span",e._l(e.sequenceMetadataToShow,(function(i){return a("span",{key:i["id"]},[i["id"]===t?a("span",e._l(i,(function(t,n,s){return a("span",{key:n+t},["id"!==n?a("span",[a("br"),e._v("â€ƒâ€ƒ- "+e._s(n)+" : "+e._s(t)+"\n                                        ")]):e._e(),s+1===Object.keys(i).length?a("span",[a("br")]):e._e()])})),0):e._e()])})),0)],1)})),0)])])]),a("v-flex",{staticClass:"no-horizontal-padding xs2 d-flex",staticStyle:{padding:"0"},attrs:{"data-html2canvas-ignore":"true"}},[a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{small:"",color:"rgb(122, 139, 157)"},on:{click:function(a){return e.downloadCardAsPDF(t.cluster+t.mutation[0]+t.mutation[1]+t.mutation[2]+t.lineage)}}},[a("span",[e._v("DOWNLOAD PDF")])])],1)],1)],1):e._e()],1)],1)])})),1)],1)],1)],1),a("v-overlay",{attrs:{value:e.overlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],1)},Te=[],we=(a("a434"),a("8baf")),Fe={name:"ListResults",props:{sortBy:{required:!0},sortDesc:{required:!0}},data:function(){return{selectedIndex:null,overlay:!1,sequenceMetadataToShow:[]}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])(["listRes","listResFixed","sessionId"])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])(["setListRes"])),Object(p["b"])([])),{},{setSelectedIndex:function(e){this.sequenceMetadataToShow=[],this.selectedIndex===e?this.selectedIndex=null:this.selectedIndex=e},sortListRes:function(){if(this.sortBy.length>0){var e=this.sortBy.length,t=JSON.parse(JSON.stringify(this.listRes)),a=this;return t.sort((function(t,i){var n=0,s=function(){var s=t[a.sortBy[n]],r=i[a.sortBy[n]],o=!1;if(Array.isArray(s)?o=s.length===r.length&&s.every((function(e,t){return e===r[t]})):s===r&&(o=!0),!(o&&n+1<e)){if(o&&n+1>=e){var l=t["cluster"],c=i["cluster"];if(l===c){var d=t["mutation"],u=i["mutation"];return d[0]===u[0]?d[1]===u[1]?"-"===d[2]?{v:1}:"-"===u[2]?{v:-1}:{v:d[2]>u[2]?1:-1}:"-"===d[1]?{v:1}:"-"===u[1]?{v:-1}:{v:d[1]>u[1]?1:-1}:{v:parseInt(d[0],10)>parseInt(u[0],10)?1:-1}}var h=l.match(/\d+/g),g=c.match(/\d+/g);return{v:h[0]-g[0]}}if(!1===a.sortDesc[n]){if("cluster"===a.sortBy[n]){var p=s.match(/\d+/g),f=r.match(/\d+/g);return{v:p[0]-f[0]}}return"mutation"===a.sortBy[n]?s[0]===r[0]?s[1]===r[1]?"-"===s[2]?{v:1}:"-"===r[2]?{v:-1}:{v:s[2]>r[2]?1:-1}:"-"===s[1]?{v:1}:"-"===r[1]?{v:-1}:{v:s[1]>r[1]?1:-1}:{v:parseInt(s[0],10)>parseInt(r[0],10)?1:-1}:{v:s>r?1:-1}}if("cluster"===a.sortBy[n]){var v=s.match(/\d+/g),y=r.match(/\d+/g);return{v:y[0]-v[0]}}return"mutation"===a.sortBy[n]?s[0]===r[0]?s[1]===r[1]?"-"===s[2]?{v:-1}:"-"===r[2]?{v:1}:{v:s[2]<r[2]?1:-1}:"-"===s[1]?{v:-1}:"-"===r[1]?{v:1}:{v:s[1]<r[1]?1:-1}:{v:parseInt(s[0],10)<parseInt(r[0],10)?1:-1}:{v:s<r?1:-1}}n+=1};while(n<e){var r=s();if("object"===Object(ve["a"])(r))return r.v}}))}var i=JSON.parse(JSON.stringify(this.listRes));return i.sort((function(e,t){var a=e["cluster"],i=t["cluster"],n=a.match(/\d+/g),s=i.match(/\d+/g);return n[0]-s[0]}))},downloadCardAsPDF:function(e){this.overlay=!0;var t=new we["a"]("p","pt","a4"),a=document.getElementById(e),i=this;t.html(a,{html2canvas:{scale:.5},callback:function(e){e.save("card.pdf"),i.overlay=!1}})},getSequenceMetadata:function(e){var t=this;if(this.sequenceMetadataToShow.some((function(t){return t.id===e})))this.sequenceMetadataToShow.forEach((function(a){a.id===e&&t.sequenceMetadataToShow.splice(t.sequenceMetadataToShow.indexOf(a),1)}));else{var a="/private/sequence?session_id=".concat(this.sessionId),i={sequence_id:e};s.a.post(a,i).then((function(e){return e.data})).then((function(a){a["id"]=e,t.sequenceMetadataToShow.push(a)}))}}}),watch:{sortBy:function(){var e=this.sortListRes();this.setListRes(e)},sortDesc:function(){var e=this.sortListRes();this.setListRes(e)}}},ke=Fe,Ae=(a("1d00"),Object(x["a"])(ke,Ce,Te,!1,null,"2e81500d",null)),De=Ae.exports;b()(Ae,{VBtn:S["a"],VCard:C["a"],VCardText:T["b"],VCardTitle:T["c"],VContainer:w["a"],VFlex:k["a"],VIcon:A["a"],VLayout:D["a"],VOverlay:P["a"],VProgressCircular:M["a"],VRow:E["a"],VSpacer:B["a"]});var Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{staticStyle:{"margin-top":"50px"},attrs:{wrap:"","align-center":"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs6 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{staticStyle:{"margin-bottom":"50px"},attrs:{wrap:"","align-center":"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-bottom":"20px"}},[a("h3",[e._v("CLUSTER")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-data-table",{staticClass:"data-table",staticStyle:{width:"90%","margin-bottom":"50px",border:"grey solid 1px"},attrs:{headers:e.headerCluster,items:e.rowsCluster,"sort-by":e.sortByCluster,"sort-desc":e.sortDescCluster},on:{"update:sortBy":function(t){e.sortByCluster=t},"update:sort-by":function(t){e.sortByCluster=t},"update:sortDesc":function(t){e.sortDescCluster=t},"update:sort-desc":function(t){e.sortDescCluster=t}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item;return[a("tr",e._l(e.headerCluster,(function(t){return a("td",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"header.show"}],key:t.value,staticStyle:{"white-space":"pre-wrap","word-wrap":"break-word","text-align":"center"}},[a("span",[""!==i[t.value]&&null!==i[t.value]&&void 0!==i[t.value]?a("span",["count_seq"===t.value||"count_mutation"===t.value?a("span",[a("v-btn",{staticClass:"white--text",attrs:{color:"blue",small:""},on:{click:function(a){return e.analyzeSeqOrMut(i,t.value,"cluster")}}},[e._v("\n                            "+e._s(i[t.value])+"\n                          ")])],1):a("span",[e._v(e._s(i[t.value]))])]):a("span",[a("span",[e._v("N/D")])])])])})),0)]}}])},[a("template",{staticStyle:{"text-align":"center"},slot:"body.append"},[a("tr",{staticStyle:{"text-align":"center","background-color":"darkgrey"}},[a("td",[a("b",[e._v("Tot: "+e._s(e.totNumCluster))])]),a("td",[a("b",[e._v("Tot: "+e._s(e.totNumSeqCluster))])]),a("td",[a("b")])])])],2)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticClass:"white--text",attrs:{small:"",color:"rgb(122, 139, 157)"},on:{click:function(t){return e.downloadTable("cluster")}}},[e._v("\n            Download Cluster Table")])],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs6 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{staticStyle:{"margin-bottom":"50px"},attrs:{wrap:"","align-center":"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-bottom":"20px"}},[a("h3",[e._v("LINEAGE")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-data-table",{staticClass:"data-table",staticStyle:{width:"90%","margin-bottom":"50px",border:"grey solid 1px"},attrs:{headers:e.headerLineage,items:e.rowsLineage,"sort-by":e.sortByLineage,"sort-desc":e.sortDescLineage},on:{"update:sortBy":function(t){e.sortByLineage=t},"update:sort-by":function(t){e.sortByLineage=t},"update:sortDesc":function(t){e.sortDescLineage=t},"update:sort-desc":function(t){e.sortDescLineage=t}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item;return[a("tr",e._l(e.headerLineage,(function(t){return a("td",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"header.show"}],key:t.value,staticStyle:{"white-space":"pre-wrap","word-wrap":"break-word","text-align":"center"}},[a("span",[""!==i[t.value]&&null!==i[t.value]&&void 0!==i[t.value]?a("span",["count_seq"===t.value||"count_mutation"===t.value?a("span",[a("v-btn",{staticClass:"white--text",attrs:{color:"blue",small:""},on:{click:function(a){return e.analyzeSeqOrMut(i,t.value,"lineage")}}},[e._v("\n                            "+e._s(i[t.value])+"\n                          ")])],1):a("span",[e._v(e._s(i[t.value]))])]):a("span",[a("span",[e._v("N/D")])])])])})),0)]}}])},[a("template",{staticStyle:{"text-align":"center"},slot:"body.append"},[a("tr",{staticStyle:{"text-align":"center","background-color":"darkgrey"}},[a("td",[a("b",[e._v("Tot: "+e._s(e.totNumLineage))])]),a("td",[a("b",[e._v("Tot: "+e._s(e.totNumSeqLineage))])]),a("td",[a("b")])])])],2)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticClass:"white--text",attrs:{small:"",color:"rgb(122, 139, 157)"},on:{click:function(t){return e.downloadTable("lineage")}}},[e._v("\n          Download Lineage Table")])],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{staticStyle:{"margin-bottom":"50px"},attrs:{wrap:"","align-center":"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-bottom":"20px"}},[a("h3",[e._v("GROUP CLUSTER - LINEAGE")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-data-table",{staticClass:"data-table",staticStyle:{width:"90%","margin-bottom":"50px",border:"grey solid 1px"},attrs:{headers:e.headerGroup,items:e.rowsGroup,"sort-by":e.sortByGroup,"sort-desc":e.sortDescGroup},on:{"update:sortBy":function(t){e.sortByGroup=t},"update:sort-by":function(t){e.sortByGroup=t},"update:sortDesc":function(t){e.sortDescGroup=t},"update:sort-desc":function(t){e.sortDescGroup=t}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item;return[a("tr",e._l(e.headerGroup,(function(t){return a("td",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"header.show"}],key:t.value,staticStyle:{"white-space":"pre-wrap","word-wrap":"break-word","text-align":"center"}},[a("span",[""!==i[t.value]&&null!==i[t.value]&&void 0!==i[t.value]?a("span",["count_mutation_per_sequence"===t.value?a("span",{staticStyle:{"white-space":"nowrap",display:"inline-block"}},e._l(i[t.value],(function(t,i){return a("span",{key:i},[0!==i?a("span",[e._v(" , ")]):e._e(),a("span",[e._v(e._s(t))])])})),0):"count_seq"===t.value||"count_mutation"===t.value?a("span",[a("v-btn",{staticClass:"white--text",attrs:{color:"blue",small:""},on:{click:function(a){return e.analyzeSeqOrMut(i,t.value,"group")}}},[e._v("\n                            "+e._s(i[t.value])+"\n                          ")])],1):a("span",[e._v(e._s(i[t.value]))])]):a("span",["analyze_mutation_per_sequence"===t.value?a("span",[a("v-btn",{staticClass:"white--text",attrs:{color:"blue",small:""},on:{click:function(t){return e.analyzeMutPerSeq(i)}}},[e._v("\n                            ANALYZE MUT PER SEQ\n                          ")])],1):a("span",[e._v("N/D")])])])])})),0)]}}])},[a("template",{staticStyle:{"text-align":"center"},slot:"body.append"},[a("tr",{staticStyle:{"text-align":"center","background-color":"darkgrey"}},[a("td",{attrs:{colspan:"2"}},[a("b",[e._v("Tot: "+e._s(e.totNumGroup))])]),a("td",[a("b",[e._v("Tot: "+e._s(e.totNumSeqGroup))])]),a("td",[a("b")]),a("td",[a("b")]),a("td",[a("b")])])])],2)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticClass:"white--text",attrs:{small:"",color:"rgb(122, 139, 157)"},on:{click:function(t){return e.downloadTable("group")}}},[e._v("\n          Download Group Table")])],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"",width:"1200"},model:{value:e.dialogAnalyzeMutPerSeq,callback:function(t){e.dialogAnalyzeMutPerSeq=t},expression:"dialogAnalyzeMutPerSeq"}},[a("v-card",[a("v-card-title",{staticClass:"headline",staticStyle:{"background-color":"#A8DADC",color:"white"}},[e._v("\n      ANALYSE MUTATION PER SEQUENCE\n      "),a("v-spacer"),a("v-btn",{staticStyle:{"background-color":"rgb(122, 139, 157)"},attrs:{slot:"activator",icon:"",small:"",color:"white"},on:{click:function(t){e.dialogAnalyzeMutPerSeq=!e.dialogAnalyzeMutPerSeq}},slot:"activator"},[a("v-icon",[e._v("mdi-close")])],1)],1),a("v-card-text",{staticClass:"text-xs-center"},[a("span",e._l(e.analyzedMutPerSeqInstance,(function(t,i){return a("span",{key:i},["infos"===i?a("span",[a("v-layout",{staticStyle:{padding:"30px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-card",{staticClass:"justify-center",attrs:{color:"#F1FAEE",width:"500px"}},[a("v-card-title",{staticClass:"justify-center"},[e._v("\n                    INFOS:\n                ")]),a("v-card-text",{staticStyle:{"text-align":"center"}},e._l(t,(function(t,i){return a("span",{key:i},[a("b",[e._v(" - "+e._s(i)+" : ")]),e._v(" "+e._s(t)+" "),a("br")])})),0)],1)],1)],1):"sequences"===i?a("span",[a("v-layout",{staticStyle:{padding:"30px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-card",{staticClass:"justify-center",attrs:{color:"#F1FAEE",width:"1000px"}},[a("v-card-title",{staticClass:"justify-center"},[e._v("\n                    SEQUENCES:\n                ")]),a("v-card-text",e._l(t,(function(t,i){return a("span",{key:i},[a("b",[e._v(" - "+e._s(t["seq"])+" : ")]),a("br"),e._l(t["count"],(function(t,i){return a("span",{key:i},[e._v("\n                        "+e._s(t)+"Â Â Â Â \n                    ")])})),a("br"),a("br")],2)})),0)],1)],1)],1):e._e()])})),0)])],1)],1),a("v-dialog",{attrs:{persistent:"",width:"1200"},model:{value:e.dialogShowSeqOrMut,callback:function(t){e.dialogShowSeqOrMut=t},expression:"dialogShowSeqOrMut"}},[a("v-card",[a("v-card-title",{staticClass:"headline",staticStyle:{"background-color":"#A8DADC",color:"white"}},[e._v("\n      ANALYSIS SEQUENCES / MUTATION\n      "),a("v-spacer"),a("v-btn",{staticStyle:{"background-color":"rgb(122, 139, 157)"},attrs:{slot:"activator",icon:"",small:"",color:"white"},on:{click:function(t){e.dialogShowSeqOrMut=!e.dialogShowSeqOrMut}},slot:"activator"},[a("v-icon",[e._v("mdi-close")])],1)],1),a("v-card-text",{staticClass:"text-xs-center"},[a("span",e._l(e.selectedSequencesOrMutation,(function(t,i){return a("span",{key:i},["infos"===i?a("span",[a("v-layout",{staticStyle:{padding:"30px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-card",{staticClass:"justify-center",attrs:{color:"#F1FAEE",width:"500px"}},[a("v-card-title",{staticClass:"justify-center"},[e._v("\n                    INFOS:\n                ")]),a("v-card-text",{staticStyle:{"text-align":"center"}},e._l(t,(function(t,i){return a("span",{key:i},[a("b",[e._v(" - "+e._s(i)+" : ")]),e._v(" "+e._s(t)+" "),a("br")])})),0)],1)],1)],1):"sequences"===i||"mutations"===i?a("span",[a("v-layout",{staticStyle:{padding:"30px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-card",{staticClass:"justify-center",attrs:{color:"#F1FAEE",width:"1000px"}},[a("v-card-title",{staticClass:"justify-center"},[e._v("\n                    "+e._s(i.toUpperCase())+":\n                ")]),a("v-card-text",e._l(t,(function(t,i){return a("span",{key:i},[a("span",[e._v(" - "+e._s(t)+" ")]),a("br"),a("br")])})),0)],1)],1)],1):e._e()])})),0)])],1)],1)],1)},Me=[],Ee={name:"InputStats",data:function(){return{headerCluster:[],rowsCluster:[],headerLineage:[],rowsLineage:[],headerGroup:[],rowsGroup:[],totNumCluster:0,totNumLineage:0,totNumSeqCluster:0,totNumSeqLineage:0,totNumGroup:0,totNumSeqGroup:0,dialogAnalyzeMutPerSeq:!1,dialogShowSeqOrMut:!1,analyzedMutPerSeqInstance:{},selectedSequencesOrMutation:{},sortByCluster:[],sortDescCluster:[],sortByLineage:[],sortDescLineage:[],sortByGroup:[],sortDescGroup:[]}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])(["statisticsInput"])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])([])),Object(p["b"])([])),{},{downloadTable:function(e){var t="",a=this.sortResults(e);"group"===e&&(t=this.json2csv(a,this.headerGroup)),"lineage"===e&&(t=this.json2csv(a,this.headerLineage)),"cluster"===e&&(t=this.json2csv(a,this.headerCluster));var i=e+"_table.csv",n=document.createElement("a");n.setAttribute("download",i);var s=new Blob([t]);n.href=URL.createObjectURL(s),document.body.appendChild(n),n.click(),document.body.removeChild(n)},json2csv:function(e,t){var a=e,i=[],n=[];t.forEach((function(e){"analyze_mutation_per_sequence"!==e.value&&i.push(e.text)})),t.forEach((function(e){"analyze_mutation_per_sequence"!==e.value&&n.push(e.value)}));var s=a.map((function(e){return n.map((function(t){var a;return a=String(e[t]),a=a.replaceAll("\n"," "),JSON.stringify(a)})).join(",")}));return s.unshift(i.join(",")),s.join("\r\n")},sortResults:function(e){var t,a,i,n;return"group"===e&&(t=this.sortByGroup.length,i=this.sortByGroup,n=this.sortDescGroup,a=JSON.parse(JSON.stringify(this.rowsGroup))),"lineage"===e&&(t=this.sortByLineage.length,i=this.sortByLineage,n=this.sortDescLineage,a=JSON.parse(JSON.stringify(this.rowsLineage))),"cluster"===e&&(t=this.sortByCluster.length,i=this.sortByCluster,n=this.sortDescCluster,a=JSON.parse(JSON.stringify(this.rowsCluster))),t>0?a.sort((function(e,t){var a=0,s=e[i[a]],r=t[i[a]];if(!1===n[a]){if("cluster_name"===i[a]){var o=s.match(/\d+/g),l=r.match(/\d+/g);return o[0]-l[0]}return s>r?1:-1}if("cluster_name"===i[a]){var c=s.match(/\d+/g),d=r.match(/\d+/g);return d[0]-c[0]}return s<r?1:-1})):a},analyzeMutPerSeq:function(e){this.dialogAnalyzeMutPerSeq=!0;var t=JSON.parse(JSON.stringify(this.statisticsInput["stat_gr_c_mut_seq"])),a=e["cluster_name"]+"-"+e["lineage_name"],i=t[a];i=i.sort((function(e,t){return e["count"].length-t["count"].length})),this.analyzedMutPerSeqInstance["infos"]=JSON.parse(JSON.stringify(e)),this.analyzedMutPerSeqInstance["sequences"]=i},analyzeSeqOrMut:function(e,t,a){if(this.selectedSequencesOrMutation={},"count_seq"===t){var i={},n="";"group"===a?(i=JSON.parse(JSON.stringify(this.statisticsInput["stat_group"])),n=e["cluster_name"]+"-"+e["lineage_name"]):"lineage"===a?(i=JSON.parse(JSON.stringify(this.statisticsInput["stat_lin"])),n=e["lineage_name"]):"cluster"===a&&(i=JSON.parse(JSON.stringify(this.statisticsInput["stat_clu"])),n=e["cluster_name"]);var s=i[n];s=s.sort((function(e,t){return e-t})),this.selectedSequencesOrMutation["infos"]=JSON.parse(JSON.stringify(e)),this.selectedSequencesOrMutation["sequences"]=s}else if("count_mutation"===t){var r={},o="";"group"===a?(r=JSON.parse(JSON.stringify(this.statisticsInput["stat_group_mut"])),o=e["cluster_name"]+"-"+e["lineage_name"]):"lineage"===a?(r=JSON.parse(JSON.stringify(this.statisticsInput["stat_lin_mut"])),o=e["lineage_name"]):"cluster"===a&&(r=JSON.parse(JSON.stringify(this.statisticsInput["stat_clu_mut"])),o=e["cluster_name"]);var l=r[o];l=l.sort((function(e,t){var a=e.split("|"),i=t.split("|"),n=parseInt(a[0]),s=parseInt(i[0]);return n-s})),this.selectedSequencesOrMutation["infos"]=JSON.parse(JSON.stringify(e)),this.selectedSequencesOrMutation["mutations"]=l}this.dialogShowSeqOrMut=!0}}),watch:{},mounted:function(){var e=this;this.headerCluster=[{text:"Cluster name",value:"cluster_name",sortable:!0,show:!0,align:"center",width:"15hv",sort:function(e,t){var a=e.match(/\d+/g),i=t.match(/\d+/g);return a[0]-i[0]}},{text:"# Sequences",value:"count_seq",sortable:!0,show:!0,align:"center",width:"15hv"},{text:"# Mutation",value:"count_mutation",sortable:!0,show:!0,align:"center",width:"15hv"}],this.headerLineage=[{text:"Lineage name",value:"lineage_name",sortable:!0,show:!0,align:"center",width:"15hv"},{text:"# Sequences",value:"count_seq",sortable:!0,show:!0,align:"center",width:"15hv"},{text:"# Mutation",value:"count_mutation",sortable:!0,show:!0,align:"center",width:"15hv"}],this.headerGroup=[{text:"Cluster name",value:"cluster_name",sortable:!0,show:!0,align:"center",width:"150px",sort:function(e,t){var a=e.match(/\d+/g),i=t.match(/\d+/g);return a[0]-i[0]}},{text:"Lineage name",value:"lineage_name",sortable:!0,show:!0,align:"center",width:"150px"},{text:"# Sequences",value:"count_seq",sortable:!0,show:!0,align:"center",width:"150px"},{text:"# Mutation",value:"count_mutation",sortable:!0,show:!0,align:"center",width:"150px"},{text:"# Mutation per sequence",value:"count_mutation_per_sequence",sortable:!1,show:!0,align:"center",width:"15hv"},{text:"Analyze mutation per sequence",value:"analyze_mutation_per_sequence",sortable:!1,show:!0,align:"center",width:"15hv"}];var t=JSON.parse(JSON.stringify(this.statisticsInput["stat_clu"])),a=JSON.parse(JSON.stringify(this.statisticsInput["stat_clu_mut"])),i=JSON.parse(JSON.stringify(this.statisticsInput["stat_lin"])),n=JSON.parse(JSON.stringify(this.statisticsInput["stat_lin_mut"])),s=JSON.parse(JSON.stringify(this.statisticsInput["stat_group"])),r=JSON.parse(JSON.stringify(this.statisticsInput["stat_group_mut"])),o=JSON.parse(JSON.stringify(this.statisticsInput["stat_gr_c_mut_seq"]));this.rowsCluster=[],this.rowsLineage=[],this.rowsGroup=[],this.totNumSeqCluster=0,this.totNumSeqLineage=0,this.totNumSeqGroup=0,Object.keys(t).forEach((function(i){var n=t[i].length,s=a[i].length,r={cluster_name:i,count_seq:n,count_mutation:s};e.totNumSeqCluster=e.totNumSeqCluster+n,e.rowsCluster.push(r)})),this.totNumCluster=this.rowsCluster.length,this.rowsCluster=this.rowsCluster.sort((function(e,t){var a=e["cluster_name"].match(/\d+/g),i=t["cluster_name"].match(/\d+/g);return a-i})),Object.keys(i).forEach((function(t){var a=i[t].length,s=n[t].length,r={lineage_name:t,count_seq:a,count_mutation:s};e.totNumSeqLineage=e.totNumSeqLineage+a,e.rowsLineage.push(r)})),this.totNumLineage=this.rowsLineage.length,this.rowsLineage=this.rowsLineage.sort((function(e,t){var a=e["lineage_name"],i=t["lineage_name"];return a>i?1:-1})),Object.keys(s).forEach((function(t){var a=t.split("-"),i=[],n=o[t],l=n.length,c=0;while(c<l)i.push(n[c]["count"].length),c+=1;i=i.sort((function(e,t){var a=parseInt(e),i=parseInt(t);return a-i}));var d=s[t].length,u=r[t].length,h={cluster_name:a[0],lineage_name:a[1],count_seq:d,count_mutation:u,count_mutation_per_sequence:i};e.totNumSeqGroup=e.totNumSeqGroup+d,e.rowsGroup.push(h)})),this.totNumGroup=this.rowsGroup.length,this.rowsGroup=this.rowsGroup.sort((function(e,t){var a=e["cluster_name"].match(/\d+/g),i=t["cluster_name"].match(/\d+/g);return a-i}))}},Be=Ee,Ve=a("8fea"),je=Object(x["a"])(Be,Pe,Me,!1,null,"72e3c8eb",null),Oe=je.exports;b()(je,{VBtn:S["a"],VCard:C["a"],VCardText:T["b"],VCardTitle:T["c"],VDataTable:Ve["a"],VDialog:F["a"],VFlex:k["a"],VIcon:A["a"],VLayout:D["a"],VSpacer:B["a"]});var Ie={name:"StatisticsPage",components:{InputStats:Oe,ListResults:De,BarSeqChart:Se},data:function(){return{results:[],toBarGraphY:[],sliderClusterCount:2,sliderLineageFrequency:1,applied:!1,inputStatsDialog:!1,possibleProtein:["Spike (surface glycoprotein)"],selectedProtein:"Spike (surface glycoprotein)",listProteinLength:{"Spike (surface glycoprotein)":1274},sortBy:[],sortDesc:[],selectedClusters:[],selectedLineages:[],possibleClusters:[],possibleLineages:[],resultsInstance:null,listResultsInstance:null}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])(["allResultTable","allResultTableHeaders","allResultTable","allResultTableFixed","listResFixed","listRes","proteinSelected"])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])(["setLoadPage","setMetadataPage","setStatisticsPage","setAllResultTable","setYAxisBarSeqChart","setListRes","setProteinSelected"])),Object(p["b"])([])),{},{customSort:function(){var e=this.sortBy.length,t=JSON.parse(JSON.stringify(this.results)),a=this;return t.sort((function(t,i){var n=0,s=function(){var s=t[a.sortBy[n]],r=i[a.sortBy[n]],o=!1;if(Array.isArray(s)?o=s.length===r.length&&s.every((function(e,t){return e===r[t]})):s===r&&(o=!0),!(o&&n+1<e)){if(o&&n+1>=e){var l=t["cluster"],c=i["cluster"];if(l===c){var d=t["mutation"],u=i["mutation"];return d[0]===u[0]?d[1]===u[1]?"-"===d[2]?{v:1}:"-"===u[2]?{v:-1}:{v:d[2]>u[2]?1:-1}:"-"===d[1]?{v:1}:"-"===u[1]?{v:-1}:{v:d[1]>u[1]?1:-1}:{v:parseInt(d[0],10)>parseInt(u[0],10)?1:-1}}var h=l.match(/\d+/g),g=c.match(/\d+/g);return{v:h[0]-g[0]}}if(!1===a.sortDesc[n]){if("cluster"===a.sortBy[n]){var p=s.match(/\d+/g),f=r.match(/\d+/g);return{v:p[0]-f[0]}}return"mutation"===a.sortBy[n]?s[0]===r[0]?s[1]===r[1]?"-"===s[2]?{v:1}:"-"===r[2]?{v:-1}:{v:s[2]>r[2]?1:-1}:"-"===s[1]?{v:1}:"-"===r[1]?{v:-1}:{v:s[1]>r[1]?1:-1}:{v:parseInt(s[0],10)>parseInt(r[0],10)?1:-1}:{v:s>r?1:-1}}if("cluster"===a.sortBy[n]){var v=s.match(/\d+/g),y=r.match(/\d+/g);return{v:y[0]-v[0]}}return"mutation"===a.sortBy[n]?s[0]===r[0]?s[1]===r[1]?"-"===s[2]?{v:-1}:"-"===r[2]?{v:1}:{v:s[2]<r[2]?1:-1}:"-"===s[1]?{v:-1}:"-"===r[1]?{v:1}:{v:s[1]<r[1]?1:-1}:{v:parseInt(s[0],10)<parseInt(r[0],10)?1:-1}:{v:s<r?1:-1}}n+=1};while(n<e){var r=s();if("object"===Object(ve["a"])(r))return r.v}}))},downloadTable:function(){var e=this.sortResults(),t=this.json2csv(e,this.allResultTableHeaders),a="result.csv",i=document.createElement("a");i.setAttribute("download",a);var n=new Blob([t]);i.href=URL.createObjectURL(n),document.body.appendChild(i),i.click(),document.body.removeChild(i)},json2csv:function(e,t){var a=e,i=[],n=[];t.forEach((function(e){"sequences_count"!==e.value?i.push(e.text):i.push("sequences")})),t.forEach((function(e){"sequences_count"!==e.value?n.push(e.text):n.push("sequences")}));var s=a.map((function(e){return n.map((function(t){var i,n;if(t.includes("%")&&null!==e[t])n=100*e[t],i=String(n);else if("FC"===t&&null!==e[t])n=e[t],i=String(n);else if("annotations"===t&&null!==e[t]){a=JSON.parse(JSON.stringify(e[t]));var s=0;while(s<a.length)a[s]["Description"].indexOf("'")>-1&&(a[s]["Description"]=a[s]["Description"].replaceAll("'","Â°")),a[s]["EvidenceUrls"]=a[s]["EvidenceUrls"].slice(1,-1).replaceAll("'","").split(","),s+=1;n=JSON.stringify(a),n=String(n),n=n.replaceAll('"',"'"),i=n}else i=null===e[t]||Array.isArray(e[t])&&0===e[t].length?"N/D":String(e[t]);return i=i.replaceAll("\n"," "),JSON.stringify(i)})).join(",")}));return s.unshift(i.join(",")),s.join("\r\n")},sortResults:function(){return this.sortBy.length>0?this.customSort():this.results},apply:function(){this.sortBy=[],this.sortDesc=[],this.setAllResultTable(this.allResultTableFixed);var e=this;this.setAllResultTable(this.allResultTable.filter((function(t){var a=JSON.parse(JSON.stringify(t["% lineage"])),i=t["cluster"],n=t["lineage"];-1===a||null===a?(t["% lineage"]=null,t["FC"]=null,a=100):a*=100;var s=t["# cluster"];return e.selectedClusters.length>0&&e.selectedLineages.length>0?e.selectedClusters.includes(i)&&e.selectedLineages.includes(n)&&a<=e.sliderLineageFrequency&&s>=e.sliderClusterCount:e.selectedClusters.length>0?e.selectedClusters.includes(i)&&a<=e.sliderLineageFrequency&&s>=e.sliderClusterCount:e.selectedLineages.length>0?e.selectedLineages.includes(n)&&a<=e.sliderLineageFrequency&&s>=e.sliderClusterCount:a<=e.sliderLineageFrequency&&s>=e.sliderClusterCount}))),this.setListRes(this.listResFixed),this.setListRes(this.listRes.filter((function(t){var a=JSON.parse(JSON.stringify(t["% lineage"])),i=t["cluster"],n=t["lineage"];-1===a||null===a?(t["% lineage"]=null,t["FC"]=null,a=100):a*=100;var s=t["# cluster"];return e.selectedClusters.length>0&&e.selectedLineages.length>0?e.selectedClusters.includes(i)&&e.selectedLineages.includes(n)&&a<=e.sliderLineageFrequency&&s>=e.sliderClusterCount:e.selectedClusters.length>0?e.selectedClusters.includes(i)&&a<=e.sliderLineageFrequency&&s>=e.sliderClusterCount:e.selectedLineages.length>0?e.selectedLineages.includes(n)&&a<=e.sliderLineageFrequency&&s>=e.sliderClusterCount:a<=e.sliderLineageFrequency&&s>=e.sliderClusterCount}))),this.applied=!0,this.toBarGraphY=[];var t=JSON.parse(JSON.stringify(this.allResultTable)),a=t.length,i=0,n=this.listProteinLength[this.proteinSelected],s=new Array(n).fill(0);while(i<a){t[i]["sequences_count"]=t[i]["sequences"].length;var r=t[i],o=r["mutation"],l=o[0],c=r["sequences"],d=c.length;s[l]=s[l]+d,i+=1}var u=s.length,h=0;while(h<u){var g=[h,s[h]];this.toBarGraphY.push(g),h+=1}this.setYAxisBarSeqChart(this.toBarGraphY),this.resultsInstance=JSON.parse(JSON.stringify(this.allResultTable)),this.listResultsInstance=JSON.parse(JSON.stringify(this.listRes))},removeClusterLineageFilter:function(){this.applied=!1,this.selectedClusters=[],this.selectedLineages=[]}}),mounted:function(){var e=this;this.possibleClusters=[],this.possibleLineages=[],this.allResultTable.forEach((function(t){e.possibleClusters.includes(t["cluster"])||e.possibleClusters.push(t["cluster"]),e.possibleLineages.includes(t["lineage"])||e.possibleLineages.push(t["lineage"])}))},watch:{allResultTable:function(){this.results=JSON.parse(JSON.stringify(this.allResultTable))},sliderLineageFrequency:function(){this.applied=!1},sliderClusterCount:function(){this.applied=!1},selectedProtein:function(){this.applied=!1,this.setProteinSelected(this.selectedProtein)},selectedClusters:function(){this.applied=!1},selectedLineages:function(){this.applied=!1}}},Ne=Ie,qe=a("ba0d"),ze=Object(x["a"])(Ne,pe,fe,!1,null,"2f3d4659",null),Le=ze.exports;b()(ze,{VBtn:S["a"],VCard:C["a"],VCardText:T["b"],VCardTitle:T["c"],VContainer:w["a"],VDataTable:Ve["a"],VDialog:F["a"],VFlex:k["a"],VIcon:A["a"],VLayout:D["a"],VRow:E["a"],VSelect:ie["a"],VSlider:qe["a"],VSpacer:B["a"]});var Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticStyle:{"justify-content":"center"},attrs:{fluid:"","grid-list-xl":""}},[a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-card",{staticStyle:{"margin-top":"50px",padding:"50px"},attrs:{width:"600px",color:"#F1FAEE"}},[a("v-card-text",[a("v-layout",{staticStyle:{padding:"30px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs6 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticClass:"white--text",attrs:{"x-large":"",color:"rgb(122, 139, 157)"},on:{click:function(t){return e.changePageLoad()}}},[e._v("\n              UPLOAD\n            ")])],1),a("v-flex",{staticClass:"no-horizontal-padding xs6 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticClass:"white--text",attrs:{"x-large":"",color:"rgb(122, 139, 157)"},on:{click:function(t){return e.changePageAnalyze()}}},[e._v("\n              ANALYZE\n            ")])],1)],1)],1)],1)],1)],1)},Ge=[],Qe={name:"EntryPage",computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])([])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])(["setAnalyzePage","setLoadPage"])),Object(p["b"])([])),{},{changePageLoad:function(){this.setLoadPage()},changePageAnalyze:function(){this.setAnalyzePage()}})},Je=Qe,Ue=Object(x["a"])(Je,Re,Ge,!1,null,"10d753ee",null),He=Ue.exports;b()(Ue,{VBtn:S["a"],VCard:C["a"],VCardText:T["b"],VContainer:w["a"],VFlex:k["a"],VLayout:D["a"],VRow:E["a"]});var We=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticStyle:{"justify-content":"center",padding:"0"},attrs:{fluid:"","grid-list-xl":""}},[a("v-layout",{staticStyle:{margin:"0",padding:"0"},attrs:{wrap:"","align-center":""}},[a("v-flex",{staticClass:" no-horizontal-padding",staticStyle:{"text-align":"right",padding:"0","margin-right":"10px"},attrs:{md12:"",sm12:""}},[e._v("\n            Last update date: "+e._s(e.update_date)+"\n        ")])],1),a("v-tabs",{staticClass:"containTabs",attrs:{"background-color":"#457B9D",dark:"","show-arrows":"","slider-color":"#E63946","slider-size":"6",height:"60"},model:{value:e.selectedTabAnalyze,callback:function(t){e.selectedTabAnalyze=t},expression:"selectedTabAnalyze"}},[a("v-tab",{staticStyle:{"border-right":"black solid 1px",width:"5%"},attrs:{id:"tab0"},on:{click:function(t){return e.setSelectedTabAnalyzeFromHome(0)}}},[a("div",[a("v-icon",[e._v("mdi-home")])],1)]),a("v-tab",{staticStyle:{"border-right":"black solid 1px",width:"20%"},attrs:{id:"tab1"}},[e._v("\n       PREVALENCE OF LINEAGES\n    ")]),a("v-tab",{staticStyle:{"border-right":"black solid 1px",width:"20%"},attrs:{id:"tab2"}},[e._v("\n       EVOLUTION IN TIME\n    ")]),a("v-tab",{staticStyle:{"border-right":"black solid 1px",width:"20%"},attrs:{id:"tab3"}},[e._v("\n       EVOLUTION IN SPACE\n    ")]),a("v-tab",{staticStyle:{"border-right":"black solid 1px",width:"20%"},attrs:{id:"tab4"}},[e._v("\n       CUSTOM ANALYSIS\n    ")]),a("v-tab-item",{staticClass:"lol"},[a("HomePage")],1),a("v-tab-item",{staticClass:"lol"},[a("AnalyzeDistributionLineageInGeo")],1),a("v-tab-item",{staticClass:"lol"},[a("AnalyzeTimeLinCou")],1),a("v-tab-item",{staticClass:"lol"},[a("AnalyzeProvinceRegion")],1),a("v-tab-item",{staticClass:"lol"},[a("FreeTargetVsBackground")],1)],1),a("v-overlay",{attrs:{value:e.overlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],1)},Ye=[],Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{staticStyle:{padding:"50px","min-height":"83.5vh"},attrs:{width:"100%",color:"white"}},[a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-card",{staticStyle:{padding:"50px","margin-top":"50px","margin-bottom":"50px"},attrs:{width:"1600px",color:"#A8DADC"}},[a("v-card-title",{staticClass:"justify-center"},[a("h1",{staticStyle:{"word-break":"break-word","text-align":"center"}},[e._v("PREVALENCE OF LINEAGES")])]),a("v-card-text",[a("v-layout",{staticStyle:{padding:"30px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"10px"}},[a("h2",[e._v("PICK A PLACE")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 md4 lg2 d-flex",staticStyle:{"justify-content":"center"}},[a("v-select",{attrs:{items:e.possibleGeo,label:"Granularity",solo:"","hide-details":""},model:{value:e.selectedGeoToChange,callback:function(t){e.selectedGeoToChange=t},expression:"selectedGeoToChange"}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md4 lg2 d-flex",staticStyle:{"justify-content":"center"}},[a("v-autocomplete",{attrs:{items:e.possibleSpecificGeo,label:"Place",solo:"","hide-details":"","item-text":e.getFieldText,disabled:null===e.selectedGeo||"world"===e.selectedGeo},scopedSlots:e._u([{key:"item",fn:function(t){return[a("span",{staticClass:"item-value-span"},[e._v(e._s(e.getFieldText(t.item)))]),a("span",{staticClass:"item-count-span"},[e._v(e._s(t.item.count))])]}}]),model:{value:e.selectedSpecificGeo,callback:function(t){e.selectedSpecificGeo=t},expression:"selectedSpecificGeo"}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticClass:"white--text",attrs:{color:"#E63946",disabled:"world"!==e.selectedGeo&&null===this.selectedSpecificGeo||null===e.selectedGeo},on:{click:function(t){return e.applyChosen()}}},[e._v("\n                    APPLY\n                ")])],1),e.chosenApplied?a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("TimeSelectorDistributionLineageInGeo",{attrs:{timeName:"distributionAnalyzeLineageInGeo",geoGranularity:e.selectedGeo,geoSpecific:e.selectedSpecificGeo}})],1):e._e(),e.chosenApplied?a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"10px"}},[a("h2",[e._v("MIN %")])]):e._e(),e.chosenApplied?a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("h4",[e._v("(The minimum percentage is used to filter the list of lineages in the result. Only the lineages\n               with at least the min % of the total number of sequences fulfilling all filters will appear)")])]):e._e(),e.chosenApplied?a("v-flex",{staticClass:"no-horizontal-padding xs12 md4 lg2 d-flex",staticStyle:{"justify-content":"center"}},[a("v-text-field",{attrs:{min:"0",max:"100",step:"0.1",solo:"",type:"number","hide-details":""},model:{value:e.selectedGeoCount,callback:function(t){e.selectedGeoCount=e._n(t)},expression:"selectedGeoCount"}})],1):e._e(),e.chosenApplied?a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticClass:"white--text",attrs:{color:"#E63946",disabled:"world"!==e.selectedGeo&&(null===e.selectedGeo||null===e.selectedSpecificGeo)},on:{click:function(t){return e.applyTableLineageCountry()}}},[e._v("\n                    APPLY\n                ")])],1):e._e()],1)],1)],1)],1),e.tableApplied?a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-card",{staticStyle:{"margin-bottom":"50px","margin-top":"50px",padding:"50px"},attrs:{width:"1600px",color:"#A8DADC"}},[a("v-card-text",[a("v-layout",{staticStyle:{padding:"30px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("h2",{staticStyle:{"text-align":"center"}},[e._v("LINEAGES AND THEIR PRESENCE IN THE SELECTED LOCATION")]),a("v-btn",{staticStyle:{"margin-left":"20px"},attrs:{"x-small":"",icon:""},on:{click:function(t){return e.downloadTable("table_geo")}}},[a("v-icon",{attrs:{size:"23"}},[e._v("\n                  mdi-download-circle-outline\n                ")])],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-data-table",{staticClass:"data-table table_distribution_lineage_geo",staticStyle:{width:"90%",border:"grey solid 1px"},attrs:{headers:e.headerTableLineageCountry,items:e.rowsTableLineageCountry,"sort-by":e.sortByTableLineageCountry,"sort-desc":e.sortDescTableLineageCountry,"hide-default-header":"","custom-sort":e.customSort},on:{"update:sortBy":function(t){e.sortByTableLineageCountry=t},"update:sort-by":function(t){e.sortByTableLineageCountry=t},"update:sortDesc":function(t){e.sortDescTableLineageCountry=t},"update:sort-desc":function(t){e.sortDescTableLineageCountry=t}},scopedSlots:e._u([{key:"header",fn:function(t){var i=t.props;return[a("tr",{staticStyle:{height:"50px"}},e._l(i.headers,(function(t){return a("th",{key:t.value,class:["header"],staticStyle:{"text-align":"center"},on:{click:function(a){return e.changeSort(t.value)},mouseover:function(a){return e.selectHoverHeaderValue(t.value)},mouseout:function(a){return e.deselectHoverHeaderValue(t.value)}}},[a("span",[e._v(e._s(t.text.toUpperCase()))]),t.value===e.hoverHeaderValue&&t.value!==e.sortByTableLineageCountry[0]?a("span",[a("v-icon",{staticClass:"icon_header",attrs:{small:""}},[e._v("mdi-arrow-up")])],1):e._e(),t.value===e.sortByTableLineageCountry[0]&&!1===e.sortDescTableLineageCountry[0]?a("span",[a("v-icon",{staticClass:"icon_header",attrs:{color:"black",small:""}},[e._v("mdi-arrow-up")])],1):e._e(),t.value===e.sortByTableLineageCountry[0]&&!0===e.sortDescTableLineageCountry[0]?a("span",[a("v-icon",{staticClass:"icon_header",attrs:{color:"black",small:""}},[e._v("mdi-arrow-down")])],1):e._e()])})),0)]}},{key:"item",fn:function(t){var i=t.item;return[a("tr",e._l(e.headerTableLineageCountry,(function(t){return a("td",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"header.show"}],key:t.value,staticStyle:{"white-space":"pre-wrap","word-wrap":"break-word","text-align":"center"},attrs:{title:i["lineage"]}},["lineage"===t.value?a("div",{staticClass:"row-pointer",on:{click:function(t){return e.orderColumn(i)},mouseover:function(a){return e.selectHoverItemValue(i[t.value])},mouseout:function(a){return e.deselectHoverItemValue(i[t.value])}}},[a("span",[e._v(e._s(i[t.value]))]),i[t.value]===e.hoverItemValue&&i!==e.selectedItem?a("span",[a("v-icon",{staticClass:"icon_header",attrs:{small:""}},[e._v("mdi-arrow-up")])],1):e.selectedItem===i&&e.order_by_row_desc?a("v-icon",{staticStyle:{"margin-left":"10px",color:"black"},attrs:{small:"",flat:""}},[e._v("mdi-arrow-up")]):e.selectedItem!==i||e.order_by_row_desc?e._e():a("v-icon",{staticStyle:{"margin-left":"10px",color:"black"},attrs:{small:"",flat:""}},[e._v("mdi-arrow-down")])],1):a("span",[e._v(e._s(i[t.value]))])])})),0)]}}],null,!1,3208858579)})],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("HeatmapAnalyzeDistribution",{attrs:{nameHeatmap:"heatmap",headerTable:e.headerTableLineageCountry,rowTable:e.rowsTableLineageCountry,sortColumn:e.sortByTableLineageCountry,descColumn:e.sortDescTableLineageCountry,numSequences:e.numberOfSequencesGeo,geoGranularity:e.selectedGeo,denominators:e.denominators,selectedSpecificGeo:e.selectedSpecificGeo,selectedGeoCount:e.selectedGeoCount}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"20px"}},[a("ModifyColumnsHeatmap",{attrs:{headerTable:e.headerTableLineageCountry,rowTable:e.rowsTableLineageCountry,denominators:e.denominators}})],1)],1)],1)],1)],1):e._e()],1),a("v-overlay",{attrs:{value:e.overlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],1)},Ze=[],$e=(a("c740"),a("25f0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticStyle:{"justify-content":"center","z-index":"1",width:"1500px"},attrs:{fluid:"","grid-list-xl":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"40px","margin-bottom":"20px"}},[a("h2",[e._v("HEATMAP")]),a("v-btn",{staticStyle:{"margin-left":"20px","margin-bottom":"5px"},attrs:{"x-small":"",icon:""},on:{click:e.download}},[a("v-icon",{attrs:{size:"23"}},[e._v("\n                mdi-download-circle-outline\n              ")])],1)],1),a("v-row",{staticStyle:{"z-index":"1",position:"relative"},attrs:{justify:"center",align:"center"}},[a("div",{staticStyle:{width:"100%",height:"500px","user-select":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)",padding:"0","border-width":"0","background-color":"white","z-index":"1"},attrs:{id:e.nameHeatmap}}),a("span",{staticStyle:{position:"absolute",bottom:"75px","z-index":"2",color:"black"}},[e._v("Interval of Percentage")])])],1)}),Ke=[],et=(a("b680"),{name:"HeatmapAnalyzeDistribution",props:{nameHeatmap:{required:!0},headerTable:{required:!0},rowTable:{required:!0},sortColumn:{required:!0},descColumn:{required:!0},numSequences:{required:!0},geoGranularity:{required:!0},denominators:{required:!0},selectedSpecificGeo:{required:!0},selectedGeoCount:{required:!0}},data:function(){return{overlay:!1,x_axis:[],y_axis:[],data_inside_heatmap:[],array_values:[],options_slider:{enableCross:!1},heatmap:{tooltip:{position:"top",trigger:"item",formatter:function(e){var t='<div style="text-align: center; padding: 0; margin: 0;">'.concat(e.data[3],"</div>");return"".concat(t,"\n                    ").concat(e.name,": ").concat(e.data[2]," (").concat(e.data[4],"%)<br />")},borderWidth:"6"},grid:{top:100},xAxis:{type:"category",data:this.x_axis,splitArea:{show:!0},axisLabel:{interval:"0",rotate:"-90"}},yAxis:{type:"category",data:this.y_axis,splitArea:{show:!0},axisLabel:{interval:"0"}},visualMap:{min:0,max:25,calculable:!0,orient:"horizontal",left:"center",bottom:"0px"},series:[{name:"Distribution",type:"heatmap",data:this.data_inside_heatmap,emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},my_chart:null}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])(["all_geo","startDateDistributionLineageInGeo","stopDateDistributionLineageInGeo"])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])([])),Object(p["b"])([])),{},{download:function(){var e=this.my_chart.getConnectedDataURL({pixelRatio:2,backgroundColor:"white"}),t=document.createElement("a"),a="png";if(t.download="lineage_analysis_heatmap_"+this.selectedGeoCount+"%_"+this.selectedSpecificGeo+"_"+this.startDateDistributionLineageInGeo+"_"+this.stopDateDistributionLineageInGeo+"."+a,t.target="_blank",t.href=e,"function"===typeof MouseEvent){var i=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});t.dispatchEvent(i)}else{var n='<body style="margin:0;">![]('+e+")</body>",s=window.open();s.document.write(n)}},renderGraph:function(){var e=this;this.rowTable=this.customSort(this.rowTable,this.sortColumn,this.descColumn),this.x_axis=[],this.array_values=[],this.headerTable.forEach((function(t){"lineage"!==t["text"]&&(e.x_axis.push(t["text"]),e.array_values.push(t["value"]))})),this.y_axis=[],this.rowTable.forEach((function(t){e.y_axis.push(t["lineage"])})),this.data_inside_heatmap=[];for(var t=0;t<this.array_values.length;t+=1)for(var a=this.denominators[this.array_values[t]],i=0;i<this.rowTable.length;i+=1){var n=void 0,s=void 0;void 0===this.rowTable[i][this.array_values[t]]||null===this.rowTable[i][this.array_values[t]]||0===this.rowTable[i][this.array_values[t]]?(n="-",s="-"):(n=parseInt(this.rowTable[i][this.array_values[t]]),s=(n/a*100).toFixed(3));var r=this.rowTable[i]["lineage"],o=[t,i,n,r,s];this.data_inside_heatmap.push(o)}if(this.heatmap.xAxis.data=this.x_axis,this.heatmap.yAxis.data=this.y_axis,this.heatmap.series[0].data=this.data_inside_heatmap,null===this.my_chart){var l=20*this.rowTable.length+300;this.my_chart=L["b"](document.getElementById(this.nameHeatmap),null,{height:l})}else{this.my_chart.dispose();var c=20*this.rowTable.length+300;this.my_chart=L["b"](document.getElementById(this.nameHeatmap),null,{height:c})}this.heatmap.grid.height=20*this.rowTable.length,this.my_chart.setOption(this.heatmap,!0)},customSort:function(e,t,a){var i=t[0],n=a[0];return e.sort((function(e,t){var a="0",s="0";if(void 0!==e[i]&&null!==e[i]&&(a=e[i].toString()),void 0!==t[i]&&null!==t[i]&&(s=t[i].toString()),n){if(a===s){var r=e["lineage"].toLowerCase(),o=t["lineage"].toLowerCase();return"n/d"===r?-1:"n/d"===o||r<o?1:-1}return parseInt(a,10)<parseInt(s,10)?1:-1}if(a===s){var l=e["lineage"].toLowerCase(),c=t["lineage"].toLowerCase();return"n/d"===l?-1:"n/d"===c||l<c?1:-1}return parseInt(a,10)>parseInt(s,10)?1:-1})),e}}),mounted:function(){var e=document.getElementById(this.nameHeatmap);e.style["height"]=(20*this.rowTable.length+400).toString()+"px",this.renderGraph()},watch:{headerTable:function(){this.renderGraph()},sortColumn:function(){this.descColumn[0]&&this.renderGraph()},descColumn:function(){this.renderGraph()}}}),tt=et,at=Object(x["a"])(tt,$e,Ke,!1,null,"2f70a108",null),it=at.exports;b()(at,{VBtn:S["a"],VContainer:w["a"],VFlex:k["a"],VIcon:A["a"],VRow:E["a"]});var nt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{position:"relative",width:"95%"}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"50px"}},[i("h2",{staticStyle:{"text-align":"center"}},[e._v("# GENOMES BY COLLECTION DATE ")]),i("v-btn",{staticStyle:{"margin-left":"20px","margin-bottom":"5px"},attrs:{"x-small":"",icon:""},on:{click:e.download}},[i("v-icon",{attrs:{size:"23"}},[e._v("\n                mdi-download-circle-outline\n              ")])],1)],1),i("v-container",{staticStyle:{"justify-content":"center","z-index":"1"},attrs:{fluid:"","grid-list-xl":""}},[i("v-row",{staticStyle:{"z-index":"1"},attrs:{justify:"center",align:"center"}},[i("div",{staticStyle:{width:"100%",height:"500px","user-select":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)",padding:"0","border-width":"0","background-color":"white","z-index":"1"},attrs:{id:e.timeName}})])],1),e.overlay?i("div",{staticStyle:{position:"absolute",top:"200px",left:"40%",width:"20%",height:"20%"}},[i("v-img",{staticStyle:{"z-index":"1"},attrs:{src:a("ef03")}})],1):e._e(),i("v-container",{staticStyle:{"justify-content":"center","background-color":"white",width:"100%"},attrs:{fluid:"","grid-list-xl":""}},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center","padding-top":"0","padding-bottom":"0"}},[i("div",{staticStyle:{width:"100%","z-index":"3"}},[i("v-range-slider",{attrs:{min:"0",max:e.max_range,color:"#F48C0680","track-color":"grey",height:"2px"},model:{value:e.slider,callback:function(t){e.slider=t},expression:"slider"}})],1)])],1)],1),i("v-container",{staticStyle:{"justify-content":"center","background-color":"white",width:"100%"},attrs:{fluid:"","grid-list-xl":""}},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 md10 lg6 d-flex",staticStyle:{"justify-content":"center"}},[i("v-card",{staticStyle:{width:"80%",margin:"20px"},attrs:{color:"#F48C0680"}},[i("v-card-text",[i("v-layout",{staticStyle:{"padding-bottom":"5px","padding-top":"5px"},attrs:{row:"",wrap:"","justify-space-around":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 md12 lg12 xl4 d-flex",staticStyle:{"justify-content":"center"}},[i("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("h3",{staticStyle:{"text-align":"center"}},[e._v("NUM SEQUENCES: ")])]),i("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("v-text-field",{staticClass:"centered-input",attrs:{value:e.num_sequences,solo:"",readonly:"","hide-details":""}})],1)],1)],1),i("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg6 xl4 d-flex",staticStyle:{"justify-content":"center",position:"relative"}},[i("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("h3",{staticStyle:{"text-align":"center"}},[e._v("START: ")])]),i("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("v-text-field",{staticClass:"centered-input",attrs:{solo:"","hide-details":""},scopedSlots:e._u([{key:"append",fn:function(){return[e.wrong_last_start_date?i("v-icon",{attrs:{color:"#E63946"}},[e._v("\n                              mdi-close-circle\n                            ")]):i("v-icon",{attrs:{color:"#1D3557"}},[e._v("\n                              mdi-checkbox-marked-circle\n                            ")])]},proxy:!0}]),model:{value:e.last_start_date,callback:function(t){e.last_start_date=t},expression:"last_start_date"}})],1)],1)],1),i("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg6 xl4 d-flex",staticStyle:{"justify-content":"center",position:"relative"}},[i("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("h3",{staticStyle:{"text-align":"center"}},[e._v("END: ")])]),i("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("v-text-field",{staticClass:"centered-input",attrs:{solo:"","hide-details":""},scopedSlots:e._u([{key:"append",fn:function(){return[e.wrong_last_stop_date?i("v-icon",{attrs:{color:"#E63946"}},[e._v("\n                              mdi-close-circle\n                            ")]):i("v-icon",{attrs:{color:"#1D3557"}},[e._v("\n                              mdi-checkbox-marked-circle\n                            ")])]},proxy:!0}]),model:{value:e.last_stop_date,callback:function(t){e.last_stop_date=t},expression:"last_stop_date"}})],1)],1)],1)],1)],1)],1)],1)],1)],1),i("v-overlay",{attrs:{value:e.overlay}},[i("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],1)},st=[],rt={name:"TimeSelectorDistributionLineageInGeo",props:{timeName:{required:!0},geoGranularity:{required:!0},geoSpecific:{required:!0}},data:function(){return{overlay:!1,slider:[0,1500],max_range:0,timeContent:[],last_start_date:null,last_stop_date:null,num_sequences:0,wrong_last_start_date:!1,wrong_last_stop_date:!1,min_num_seq:10,options_slider:{enableCross:!1},barChart:{title:{},tooltip:{trigger:"item"},legend:{data:["Collected sequences, per date","AVG of previous 7 days"],top:"20px",selectedMode:!1,itemGap:50},series:[{name:"Collected sequences, per date",type:"bar",radius:"50%",data:[],itemStyle:{color:"#1D3557"},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"#1D3557"}},markArea:{tooltip:{show:!1},data:[[{xAxis:0,itemStyle:{color:"#F48C0680"}},{xAxis:0}]]}},{name:"AVG of previous 7 days",type:"line",data:[],color:"#1D3557"}],xAxis:{type:"category",data:[]},yAxis:{type:"value"},dataZoom:[{type:"inside"}]},my_chart:null}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])(["startDateDistributionLineageInGeo","stopDateDistributionLineageInGeo"])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])(["setStartDateDistributionLineageInGeo","setStopDateDistributionLineageInGeo"])),Object(p["b"])([])),{},{download:function(){var e=this.my_chart.getConnectedDataURL({pixelRatio:2,backgroundColor:"white"}),t=document.createElement("a"),a="png";if(t.download="lineage_analysis_timeDistribution_"+this.geoSpecific+"."+a,t.target="_blank",t.href=e,"function"===typeof MouseEvent){var i=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});t.dispatchEvent(i)}else{var n='<body style="margin:0;">![]('+e+")</body>",s=window.open();s.document.write(n)}},getDaysArray:function(e,t){for(var a=[],i=new Date(e);i<=t;i.setDate(i.getDate()+1)){var n=new Date(i).toISOString().slice(0,10);if(a.includes(n)||a.push(n),-1!==n.indexOf("-10-24")){var s=new Date(n);s.setDate(s.getDate()+1);var r=new Date(s).toISOString().slice(0,10);a.push(r)}}return a},renderGraphFilterDate:function(){var e=JSON.parse(JSON.stringify(this.timeContent));this.renderGraph(e)},renderGraph:function(e){var t=e.length,a=0,i=[],n=[],s=[];while(a<t){var r=e[a],o=0;if(a-7>0)for(var l=8;l>0;l-=1)o+=parseInt(e[a-l]["value"]);s.push((o/7).toFixed(3)),i.push(r["name"]),n.push(r["value"]),a+=1}this.barChart.series[0].data=n,this.barChart.series[1].data=s,this.barChart.xAxis.data=i,null===this.my_chart||this.my_chart.dispose(),this.my_chart=L["b"](document.getElementById(this.timeName)),this.my_chart.setOption(this.barChart,!0)},changeMarkerAndRender:function(e,t){e===t?t<this.max_range?(this.barChart.series[0].markArea.data[0][0].xAxis=e,this.barChart.series[0].markArea.data[0][1].xAxis=t+1):(this.barChart.series[0].markArea.data[0][0].xAxis=e-1,this.barChart.series[0].markArea.data[0][1].xAxis=t):(this.barChart.series[0].markArea.data[0][0].xAxis=e,this.barChart.series[0].markArea.data[0][1].xAxis=t);var a=this.timeContent.length,i=0;this.num_sequences=0;while(i<a)i>=e&&i<=t&&(this.num_sequences=this.num_sequences+this.timeContent[i].value),i+=1;this.renderGraphFilterDate()},translateIndexToDate:function(e){if(this.timeContent[e])return this.timeContent[e].name},translateDateToIndex:function(e){var t=this.timeContent.findIndex((function(t){return t.name===e}));return t},loadData:function(){var e=this,t="/analyze/analyzeTimeDistributionCountryLineage";this.overlay=!0;var a={};"world"!==this.geoGranularity&&(a[this.geoGranularity]=this.geoSpecific);var i={query:a};s.a.post(t,i).then((function(e){return e.data})).then((function(t){var a,i,n,s=[];0!==t.length&&(i=new Date(t[0]["name"]),n=new Date,n.setDate(n.getDate()+1),a=e.getDaysArray(i,n),a.forEach((function(e){var a=t.findIndex((function(t){return t["name"]===e}));if(-1===a){var i={name:e,value:0};s.push(i)}else{var n={name:e,value:t[a]["value"]};s.push(n)}}))),e.timeContent=s,e.max_range=e.timeContent.length-1;var r=e,o=e.timeContent.findIndex((function(e){return e.name===r.last_start_date}));-1===o&&(o=0);var l=e.timeContent.findIndex((function(e){return e.name===r.last_stop_date}));-1===l&&(l=e.max_range),e.slider=[o,l],e.last_start_date=e.translateIndexToDate(e.slider[0]),e.last_stop_date=e.translateIndexToDate(e.slider[1]),e.changeMarkerAndRender(e.slider[0],e.slider[0]),e.setStartDateDistributionLineageInGeo(e.last_start_date),e.setStopDateDistributionLineageInGeo(e.last_stop_date),e.chosenApplied=!0,e.overlay=!1}))}}),watch:{last_start_date:function(){this.wrong_last_start_date=!1;var e=this.translateDateToIndex(this.last_start_date);if(-1===e||e>this.slider[1])this.wrong_last_start_date=!0;else{var t=this.slider[1];this.slider=[e,t]}},last_stop_date:function(){this.wrong_last_stop_date=!1;var e=this.translateDateToIndex(this.last_stop_date);if(-1===e||e<this.slider[0])this.wrong_last_stop_date=!0;else{var t=this.slider[0];this.slider=[t,e]}},slider:function(){var e=this.slider[0],t=this.slider[1];this.changeMarkerAndRender(e,t),this.last_start_date=this.translateIndexToDate(this.slider[0]),this.last_stop_date=this.translateIndexToDate(this.slider[1]),this.setStartDateDistributionLineageInGeo(this.last_start_date),this.setStopDateDistributionLineageInGeo(this.last_stop_date)}},mounted:function(){this.loadData()}},ot=rt,lt=(a("5eb7"),a("adda")),ct=a("5963"),dt=Object(x["a"])(ot,nt,st,!1,null,"5b17398f",null),ut=dt.exports;b()(dt,{VBtn:S["a"],VCard:C["a"],VCardText:T["b"],VContainer:w["a"],VFlex:k["a"],VIcon:A["a"],VImg:lt["a"],VLayout:D["a"],VOverlay:P["a"],VProgressCircular:M["a"],VRangeSlider:ct["a"],VRow:E["a"],VTextField:V["a"]});var ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-btn",{staticClass:"white--text",attrs:{color:"#E63946"},on:{click:function(t){e.dialogModifyColumns=!0}}},[e._v("\n  MERGE COLUMNS")]),a("v-dialog",{attrs:{persistent:"",width:"1000"},model:{value:e.dialogModifyColumns,callback:function(t){e.dialogModifyColumns=t},expression:"dialogModifyColumns"}},[a("v-card",[a("v-card-title",{staticClass:"headline",staticStyle:{"background-color":"#A8DADC"}},[e._v("\n        MERGE COLUMNS\n        "),a("v-spacer"),a("v-btn",{staticStyle:{"background-color":"rgb(122, 139, 157)"},attrs:{slot:"activator",icon:"",small:"",color:"white"},on:{click:function(t){e.dialogModifyColumns=!e.dialogModifyColumns}},slot:"activator"},[a("v-icon",[e._v("mdi-close")])],1)],1),a("v-card-text",{staticClass:"text-xs-center"},[a("span",[a("v-layout",{staticStyle:{padding:"30px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs4 d-flex",staticStyle:{"justify-content":"center","margin-top":"10px"}},[a("v-autocomplete",{attrs:{items:e.possibleHeader,label:"Header",solo:"",multiple:"","hide-details":""},model:{value:e.selectedHeader,callback:function(t){e.selectedHeader=t},expression:"selectedHeader"}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs1 d-flex",staticStyle:{"justify-content":"center","margin-top":"10px"}}),a("v-flex",{staticClass:"no-horizontal-padding xs4 d-flex",staticStyle:{"justify-content":"center","margin-top":"10px"}},[a("v-text-field",{attrs:{solo:"","hide-details":"",label:e.labelNameColumn},model:{value:e.newNameColumn,callback:function(t){e.newNameColumn=t},expression:"newNameColumn"}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"10px"}},[a("v-btn",{staticClass:"white--text",staticStyle:{"margin-top":"20px"},attrs:{small:"",color:"#E63946",disabled:null===e.newNameColumn||0===e.selectedHeader.length||e.possibleHeader.includes(e.newNameColumn)&&!e.selectedHeader.includes(e.newNameColumn)},on:{click:function(t){return e.unionHeader()}}},[e._v("\n            UNION")])],1),e.arrayOfUnions.length>0?a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"40px",padding:"10px"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":"","align-center":""}},e._l(e.arrayOfUnions,(function(t,i){return a("v-flex",{key:i,staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{margin:"20px"}},[a("v-card",{staticStyle:{width:"100%",padding:"10px"},attrs:{color:"#F1FAEE"}},[a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-center":"","align-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("span",{staticStyle:{"text-align":"center"}},[a("b",[e._v("NEW NAME COLUMN")])])]),a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("span",{staticStyle:{"text-align":"center"}},[a("b",[e._v("COMBINED COLUMNS")])])]),a("v-flex",{staticClass:"no-horizontal-padding xs2 d-flex",staticStyle:{"justify-content":"center"}},[a("span",{staticStyle:{"text-align":"center"}},[a("b",[e._v("DELETE")])])])],1),a("v-layout",{attrs:{row:"",wrap:"","justify-center":"","align-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("span",{staticStyle:{"text-align":"center"}},[a("span",{staticStyle:{"text-align":"center"}},[e._v(e._s(t["nameUnion"]))])])]),a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("span",{staticStyle:{"text-align":"center"}},e._l(t["columns"],(function(t){return a("span",{key:t[0],staticStyle:{"text-align":"center"}},[a("span",[e._v(" "+e._s(t[0])+" ")]),a("br")])})),0)]),a("v-flex",{staticClass:"no-horizontal-padding xs2 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticStyle:{"background-color":"rgba(255, 0, 0, 0.5)"},attrs:{slot:"activator",icon:"",small:"",color:"white",disabled:e.allCombinedColumns.includes(t["valueUnion"])},on:{click:function(a){return e.deleteNewColumn(t,i)}},slot:"activator"},[a("v-icon",[e._v("mdi-close")])],1)],1)],1)],1)],1)],1)})),1)],1):e._e()],1)],1)])],1)],1)],1)},gt=[],pt={name:"ModifyColumnsHeatmap",props:{headerTable:{required:!0},rowTable:{required:!0},denominators:{required:!0}},data:function(){return{dialogModifyColumns:!1,possibleHeader:[],selectedHeader:[],newNameColumn:null,arrayOfUnions:[],allCombinedColumns:[],labelNameColumn:"New column label"}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])([])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])([])),Object(p["b"])([])),{},{unionHeader:function(){var e=this,t="";t=this.denominators[this.newNameColumn]?this.newNameColumn+"new":this.newNameColumn;for(var a=[],i=0;i<this.rowTable.length;i+=1){for(var n=0,s=function(t){if(e.rowTable[i][e.selectedHeader[t]]){var s=e,r=e.headerTable.findIndex((function(e){return e.text===s.selectedHeader[t]}));if(-1!==r){e.allCombinedColumns.push(e.headerTable[r]["value"]);var o=[e.selectedHeader[t],e.headerTable[r]["value"]];a.push(o),e.headerTable.splice(r,1)}n+=parseInt(e.rowTable[i][e.selectedHeader[t]])}},r=0;r<this.selectedHeader.length;r+=1)s(r);this.rowTable[i][t]=n}for(var o=0,l=0;l<this.selectedHeader.length;l+=1)o+=parseInt(this.denominators[this.selectedHeader[l]]);this.denominators[t]=o;var c=this.headerTable.findIndex((function(e){return"lineage"===e.text}));this.headerTable.splice(c,1);var d=this.headerTable.findIndex((function(e){return"N/D"===e.text}));-1!==d&&this.headerTable.splice(d,1);var u={text:this.newNameColumn,value:t,show:!0,align:"center",width:"20vh"};this.headerTable.push(u),this.headerTable.sort((function(e,t){return e=e.value.toLowerCase(),t=t.value.toLowerCase(),e<t?-1:e>t?1:0}));var h={text:"N/D",value:"N/D",show:!0,align:"center",width:"20vh"},g={text:"lineage",value:"lineage",show:!0,align:"center",width:"20vh"};-1!==d&&this.headerTable.unshift(h),this.headerTable.unshift(g);var p={nameUnion:this.newNameColumn,valueUnion:t,columns:a};this.arrayOfUnions.push(p);var f=JSON.parse(localStorage.getItem("mergeColumns"));null===f&&(f=[]),JSON.stringify(f).includes(JSON.stringify(p))||f.push(p),localStorage.setItem("mergeColumns",JSON.stringify(f)),this.selectedHeader=[],this.newNameColumn=null},calculatePossibleHeaders:function(){for(var e=[],t=0;t<this.headerTable.length;t+=1)"lineage"!==this.headerTable[t]["text"]&&e.push(this.headerTable[t]["text"]);this.possibleHeader=e},deleteNewColumn:function(e,t){for(var a=this,i=e["valueUnion"],n=e["columns"],s=0;s<this.rowTable.length;s+=1)delete this.rowTable[s][i];var r=this.headerTable.findIndex((function(e){return e.value===i}));-1!==r&&this.headerTable.splice(r,1),delete this.denominators[i];for(var o=function(e){var t={text:n[e][0],value:n[e][1],show:!0,align:"center",width:"20vh"};a.headerTable.push(t);var i=a.allCombinedColumns.findIndex((function(t){return t===n[e][1]}));i&&a.allCombinedColumns.splice(i,1)},l=0;l<n.length;l+=1)o(l);var c=this.headerTable.findIndex((function(e){return"lineage"===e.text}));this.headerTable.splice(c,1);var d=this.headerTable.findIndex((function(e){return"N/D"===e.text}));-1!==d&&this.headerTable.splice(d,1),this.headerTable.sort((function(e,t){return e=e.value.toLowerCase(),t=t.value.toLowerCase(),e<t?-1:e>t?1:0}));var u={text:"N/D",value:"N/D",show:!0,align:"center",width:"20vh"},h={text:"lineage",value:"lineage",show:!0,align:"center",width:"20vh"};-1!==d&&this.headerTable.unshift(u),this.headerTable.unshift(h),this.arrayOfUnions.splice(t,1);var g=JSON.parse(localStorage.getItem("mergeColumns")),p=g.findIndex((function(t){return JSON.stringify(t)===JSON.stringify(e)}));-1!==p&&g.splice(p,1),localStorage.setItem("mergeColumns",JSON.stringify(g)),this.selectedHeader=[]},mergeSavedColumn:function(e){var t=this;if(null!==e)for(var a=0;a<e.length;a+=1){for(var i=!0,n=function(n){var s=e[a]["columns"][n][0],r=t.headerTable.findIndex((function(e){return e.text===s}));-1===r&&(i=!1)},s=0;s<e[a]["columns"].length;s+=1)n(s);i&&this.unionFromStorage(e[a])}},unionFromStorage:function(e){for(var t=this,a=e["nameUnion"],i=e["valueUnion"],n=e["columns"],s=[],r=0;r<this.rowTable.length;r+=1){for(var o=0,l=function(e){if(t.rowTable[r][n[e][0]]){var a=t.headerTable.findIndex((function(t){return t.text===n[e][0]}));if(-1!==a){t.allCombinedColumns.push(t.headerTable[a]["value"]);var i=[n[e][0],t.headerTable[a]["value"]];s.push(i),t.headerTable.splice(a,1)}o+=parseInt(t.rowTable[r][n[e][0]])}},c=0;c<n.length;c+=1)l(c);this.rowTable[r][i]=o}for(var d=0,u=0;u<n.length;u+=1)d+=parseInt(this.denominators[n[u][0]]);this.denominators[i]=d;var h=this.headerTable.findIndex((function(e){return"lineage"===e.text}));this.headerTable.splice(h,1);var g=this.headerTable.findIndex((function(e){return"N/D"===e.text}));-1!==g&&this.headerTable.splice(g,1);var p={text:a,value:i,show:!0,align:"center",width:"20vh"};this.headerTable.push(p),this.headerTable.sort((function(e,t){return e=e.value.toLowerCase(),t=t.value.toLowerCase(),e<t?-1:e>t?1:0}));var f={text:"N/D",value:"N/D",show:!0,align:"center",width:"20vh"},v={text:"lineage",value:"lineage",show:!0,align:"center",width:"20vh"};-1!==g&&this.headerTable.unshift(f),this.headerTable.unshift(v);var y={nameUnion:a,valueUnion:i,columns:s};this.arrayOfUnions.push(y)}}),watch:{headerTable:function(){this.calculatePossibleHeaders()}},mounted:function(){var e=JSON.parse(localStorage.getItem("mergeColumns"));this.mergeSavedColumn(e),this.calculatePossibleHeaders()}},ft=pt,vt=a("c6a6"),yt=Object(x["a"])(ft,ht,gt,!1,null,"5cebf781",null),mt=yt.exports;b()(yt,{VAutocomplete:vt["a"],VBtn:S["a"],VCard:C["a"],VCardText:T["b"],VCardTitle:T["c"],VDialog:F["a"],VFlex:k["a"],VIcon:A["a"],VLayout:D["a"],VSpacer:B["a"],VTextField:V["a"]});var xt={name:"AnalyzeDistributionLineageInGeo",components:{ModifyColumnsHeatmap:mt,TimeSelectorDistributionLineageInGeo:ut,HeatmapAnalyzeDistribution:it},data:function(){return{overlay:!1,selectedGeo:null,selectedGeoToChange:null,possibleGeo:["World","Continent","Country","Region"],selectedSpecificGeo:null,possibleSpecificGeo:[],selectedGeoCount:5,headerTableLineageCountry:[],headerTableLineageCountryLength:0,headerTableLineageCountryFixed:[],rowsTableLineageCountry:[],rowsTableLineageCountryFixed:[],sortByTableLineageCountry:[],sortDescTableLineageCountry:[],hoverHeaderValue:null,hoverItemValue:null,selectedItem:null,order_by_row_desc:!0,numberOfSequencesGeo:0,chosenApplied:!1,tableApplied:!1,denominators:[],denominatorsFixed:[]}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])(["all_geo","startDateDistributionLineageInGeo","stopDateDistributionLineageInGeo"])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])(["setAllGeo"])),Object(p["b"])([])),{},{downloadTable:function(e){var t="",a=this.sortResults(e);"table_geo"===e&&(t=this.json2csv(a,this.headerTableLineageCountry));var i="lineage_analysis_table_"+this.selectedGeoCount+"%_"+this.selectedSpecificGeo+"_"+this.startDateDistributionLineageInGeo+"_"+this.stopDateDistributionLineageInGeo+".csv",n=document.createElement("a");n.setAttribute("download",i);var s=new Blob([t]);n.href=URL.createObjectURL(s),document.body.appendChild(n),n.click(),document.body.removeChild(n)},json2csv:function(e,t){var a=e,i=[],n=[];t.forEach((function(e){i.push(e.text)})),t.forEach((function(e){n.push(e.value)}));var s=a.map((function(e){return n.map((function(t){var a;return a=String(e[t]),a=a.replaceAll("\n"," "),JSON.stringify(a)})).join(",")}));return s.unshift(i.join(",")),s.join("\r\n")},sortResults:function(e){var t,a,i,n;return"table_geo"===e&&(t=this.sortByTableLineageCountry.length,a=this.sortByTableLineageCountry,i=this.sortDescTableLineageCountry,n=JSON.parse(JSON.stringify(this.rowsTableLineageCountry))),t>0?n.sort((function(e,t){var n=0,s=e[a[n]],r=t[a[n]];return!1===i[n]?s>r?1:-1:s<r?1:-1})):n},applyTableLineageCountry:function(){var e=this;this.headerTableLineageCountry=[],this.rowsTableLineageCountry=[],this.overlay=!0;var t="/analyze/tableLineageCountry",a={type:this.selectedGeo,value:this.selectedSpecificGeo,minCountSeq:this.selectedGeoCount,minDate:this.startDateDistributionLineageInGeo,maxDate:this.stopDateDistributionLineageInGeo};s.a.post(t,a).then((function(e){return e.data})).then((function(t){var a=JSON.parse(JSON.stringify(t));e.headerTableLineageCountry=[];var i=0,n=a.length,r=[],o=[],l={},c=!1,d=function(){var e=a[i];Object.keys(e).forEach((function(t){if(o.includes(t)||"lineage"===t)"lineage"!==t&&(""!==t&&null!==t&&""!==t||(a[i]["N/D"]=a[i][""]),null===e["lineage"]&&(e["lineage"]="N/D"));else{""!==t&&null!==t&&""!==t||(a[i]["N/D"]=a[i][""]);var n={};o.push(t),null!==t&&""!==t?(n["text"]=t,n["value"]=t,n["show"]=!0,n["align"]="center",n["width"]="20vh",r.push(n)):(l["text"]="N/D",l["value"]="N/D",l["show"]=!0,l["align"]="center",l["width"]="20vh",c=!0)}})),i+=1};while(i<n)d();r.sort((function(e,t){return e=e.value.toLowerCase(),t=t.value.toLowerCase(),e<t?-1:e>t?1:0})),c&&r.unshift(l);var u={text:"lineage",value:"lineage",show:!0,align:"center",width:"20vh"};r.unshift(u),e.headerTableLineageCountry=r,e.headerTableLineageCountryFixed=r,a=a.sort((function(e,t){var a=e["lineage"].toLowerCase(),i=t["lineage"].toLowerCase();return"n/d"===a?1:"n/d"===i||a<i?-1:1})),e.rowsTableLineageCountry=a,e.rowsTableLineageCountryFixed=a;var h="/analyze/denominatorLineageCountry",g={type:e.selectedGeo,value:e.selectedSpecificGeo,minDate:e.startDateDistributionLineageInGeo,maxDate:e.stopDateDistributionLineageInGeo};s.a.post(h,g).then((function(e){return e.data})).then((function(t){e.denominators=t,e.denominatorsFixed=t,e.tableApplied=!0,e.overlay=!1}))}))},createPossibleSpecificGeoObject:function(){var e=this.all_geo,t=0,a=this.selectedGeo,i=e.length,n=[];while(t<i){var s=n.findIndex((function(i){return i["value"]===e[t][a]}));if(-1===s&&null!==e[t][a]){var r={count:e[t]["count"],value:e[t][a]};n.push(r)}else null!==e[t][a]&&(n[s]["count"]=n[s]["count"]+e[t]["count"]);t+=1}n.sort((function(e,t){return e=e["value"].toLowerCase(),t=t["value"].toLowerCase(),e<t?-1:e>t?1:0})),this.possibleSpecificGeo=n},getFieldText:function(e){this.numberOfSequencesGeo=e["count"];var t="";return t=e["value"],t},changeSort:function(e){this.sortByTableLineageCountry[0]===e&&!0===this.sortDescTableLineageCountry[0]?(this.sortByTableLineageCountry=[],this.sortDescTableLineageCountry=[]):this.sortByTableLineageCountry[0]===e?!0===this.sortDescTableLineageCountry[0]?this.sortDescTableLineageCountry=[!1]:this.sortDescTableLineageCountry=[!0]:(this.sortByTableLineageCountry=[e],this.sortDescTableLineageCountry=[!1])},selectHoverHeaderValue:function(e){this.hoverHeaderValue=e},deselectHoverHeaderValue:function(e){this.hoverHeaderValue===e&&(this.hoverHeaderValue="")},selectHoverItemValue:function(e){this.hoverItemValue=e},deselectHoverItemValue:function(e){this.hoverItemValue===e&&(this.hoverItemValue="")},orderColumn:function(e){if(e!==this.selectedItem){this.order_by_row_desc=!0,this.selectedItem=e;var t=JSON.parse(JSON.stringify(this.headerTableLineageCountry)),a=t.splice(0,1),i=t.sort((function(t,a){var i="0",n="0";return void 0!==e[t.value]&&null!==e[t.value]&&(i=e[t.value].toString()),void 0!==e[a.value]&&null!==e[a.value]&&(n=e[a.value].toString()),i===n?t.value.toLowerCase()>a.value.toLowerCase()?1:-1:parseInt(i,10)<parseInt(n,10)?1:-1}));this.headerTableLineageCountry=a.concat(i)}else if(e!==this.selectedItem||this.order_by_row_desc){if(e===this.selectedItem&&this.order_by_row_desc){this.order_by_row_desc=!1,this.selectedItem=e;var n=JSON.parse(JSON.stringify(this.headerTableLineageCountry)),s=n.splice(0,1),r=n.sort((function(t,a){var i="0",n="0";return void 0!==e[t.value]&&null!==e[t.value]&&(i=e[t.value].toString()),void 0!==e[a.value]&&null!==e[a.value]&&(n=e[a.value].toString()),i===n?t.value.toLowerCase()>a.value.toLowerCase()?1:-1:parseInt(i,10)>parseInt(n,10)?1:-1}));this.headerTableLineageCountry=s.concat(r)}}else this.order_by_row_desc=!0,this.selectedItem=null,this.headerTableLineageCountry=this.headerTableLineageCountryFixed},customSort:function(e,t,a){var i=t[0],n=a[0];return e.sort((function(e,t){var a="0",s="0";if(void 0!==e[i]&&null!==e[i]&&(a=e[i].toString()),void 0!==t[i]&&null!==t[i]&&(s=t[i].toString()),n){if(a===s){var r=e["lineage"].toLowerCase(),o=t["lineage"].toLowerCase();return"n/d"===r?1:"n/d"===o||r<o?-1:1}return parseInt(a,10)>parseInt(s,10)?1:-1}if(a===s){var l=e["lineage"].toLowerCase(),c=t["lineage"].toLowerCase();return"n/d"===l?1:"n/d"===c||l<c?-1:1}return parseInt(a,10)<parseInt(s,10)?1:-1})),e},applyChosen:function(){if(!0===this.chosenApplied){this.chosenApplied=!1;var e=10,t=this;setTimeout((function(){t.chosenApplied=!0}),e)}else this.chosenApplied=!0}}),watch:{headerTableLineageCountry:function(){this.headerTableLineageCountryLength=this.headerTableLineageCountry.length},headerTableLineageCountryLength:function(){this.selectedItem=null,this.order_by_row_desc=!0},selectedGeo:function(){this.headerTableLineageCountry=[],this.rowsTableLineageCountry=[],null!==this.selectedGeo&&(this.createPossibleSpecificGeoObject(),this.chosenApplied=!1,this.tableApplied=!1)},selectedGeoToChange:function(){"Continent"===this.selectedGeoToChange?this.selectedGeo="geo_group":this.selectedGeo=this.selectedGeoToChange.toLowerCase()},selectedSpecificGeo:function(){this.headerTableLineageCountry=[],this.rowsTableLineageCountry=[],this.chosenApplied=!1,this.tableApplied=!1},selectedGeoCount:function(){this.selectedGeoCount<0?this.selectedGeoCount=0:this.selectedGeoCount>100&&(this.selectedGeoCount=100),this.tableApplied=!1},startDateDistributionLineageInGeo:function(){this.tableApplied=!1},stopDateDistributionLineageInGeo:function(){this.tableApplied=!1}},mounted:function(){}},_t=xt,bt=(a("aa66"),Object(x["a"])(_t,Xe,Ze,!1,null,"9c85cdc2",null)),St=bt.exports;b()(bt,{VAutocomplete:vt["a"],VBtn:S["a"],VCard:C["a"],VCardText:T["b"],VCardTitle:T["c"],VDataTable:Ve["a"],VFlex:k["a"],VIcon:A["a"],VLayout:D["a"],VOverlay:P["a"],VProgressCircular:M["a"],VRow:E["a"],VSelect:ie["a"],VTextField:V["a"]});var Ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{staticStyle:{padding:"50px"},attrs:{width:"100%",color:"white"}},[a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-card",{staticStyle:{padding:"50px","margin-top":"50px","margin-bottom":"50px"},attrs:{width:"1600px",color:"#A8DADC"}},[a("v-card-title",{staticClass:"justify-center"},[a("h1",[e._v("EVOLUTION IN SPACE")])]),a("v-card-text",[a("v-layout",{staticStyle:{padding:"30px"},attrs:{row:"",wrap:"","justify-space-between":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"10px"}},[a("h2",[e._v("PICK A LINEAGE, PLACE AND INTERVAL OF TIME")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 lg12 xl12 d-flex",staticStyle:{"justify-content":"center"}},[a("SelectorsQueryGeo",{attrs:{field:"lineage"}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}}),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg2 d-flex",staticStyle:{"justify-content":"center"}},[a("SelectorsQueryGeo",{attrs:{field:"geo_group"}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg2 d-flex",staticStyle:{"justify-content":"center"}},[a("SelectorsQueryGeo",{attrs:{field:"country"}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg2 d-flex",staticStyle:{"justify-content":"center"}},[a("SelectorsQueryGeo",{attrs:{field:"region"}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg2 d-flex",staticStyle:{"justify-content":"center"}},[a("SelectorsQueryGeo",{attrs:{field:"province"}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}}),a("v-flex",{staticClass:"no-horizontal-padding xs12 md5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("h3",[e._v("Comparison")])]),a("v-flex",{staticClass:"no-horizontal-padding xs6 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-select",{attrs:{items:e.possibleNumLevelAboveBackground,label:"Background",solo:"","item-text":e.getFieldText,"hide-details":"",disabled:0===e.possibleNumLevelAboveBackground.length},scopedSlots:e._u([{key:"item",fn:function(t){return[a("span",{staticClass:"item-value-span"},[e._v(e._s(t.item.background))])]}}]),model:{value:e.selectedNumLevelAboveBackground,callback:function(t){e.selectedNumLevelAboveBackground=t},expression:"selectedNumLevelAboveBackground"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("h3",[e._v("Exclude one or more places from the background")])]),a("v-flex",{staticClass:"no-horizontal-padding xs6 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("SelectorQueryToExclude",{attrs:{mode:"geo",field:e.fieldToExclude}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("TimeSelectorQueryGeo",{attrs:{timeName:"timeDistributionGeo",filterDate:"Day"}})],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0","margin-top":"20px"}},[a("h2",[e._v("SELECT THE PROTEINS TO COMPARE")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("h4",[e._v('(selecting none is equivalent to "all proteins")')])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"10px"}},[a("v-flex",{staticClass:"no-horizontal-padding xs10 md4 lg2 d-flex",staticStyle:{"justify-content":"center"}},[a("v-autocomplete",{attrs:{items:e.possibleProtein,label:"Protein",solo:"","hide-details":"",multiple:""},model:{value:e.selectedProtein,callback:function(t){e.selectedProtein=t},expression:"selectedProtein"}})],1)],1),e.locationToExcludeMulti.length>0?a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"30px"}},[a("v-card",{attrs:{width:"400px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center",staticStyle:{"padding-bottom":"0","margin-bottom":"0"}},[a("span",{staticStyle:{color:"red","text-align":"center"}},[e._v(" LOCATION EXCLUDED: ")])]),a("v-card-text",{staticStyle:{"text-align":"center","padding-top":"0","margin-top":"0"}},[a("span",[a("span",{staticStyle:{color:"red","text-align":"center"}},[e._v(" (The number of some of the currently selected genomic sequences is too low. A minimum of 50 sequences must be selected for both the target and background. Please change your setting.) ")]),a("br"),a("br"),e._l(e.locationToExcludeMulti,(function(t){return a("span",{key:t,staticStyle:{color:"black","text-align":"center"}},[e._v(" "+e._s(t)),a("br")])}))],2)])],1)],1):e._e(),e.locationToExcludeMulti.length>0&&e.errorNumSeqQueryGeo||e.errorNumSeqQueryGeo?a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"30px"}},[a("span",{staticStyle:{color:"red"}},[e._v(" The number of currently selected genomic sequences is too low. A minimum of 50 sequences must be selected for both the target and background. Please change your setting.")])]):e._e(),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticClass:"white--text",staticStyle:{"margin-top":"20px"},attrs:{color:"#E63946",disabled:!e.queryGeo["geo_group"]||e.errorNumSeqQueryGeo},on:{click:function(t){return e.applyTableProvReg()}}},[e._v("\n                  APPLY\n              ")])],1)],1)],1)],1),e.tableApplied?a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-card",{staticStyle:{"margin-bottom":"50px","margin-top":"50px",padding:"50px"},attrs:{width:"1600px",color:"#A8DADC"}},[a("v-card-text",[a("v-layout",{staticStyle:{padding:"30px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("h2",[e._v("ADVANCED FILTERS")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 xl3 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("% BACKGROUND:")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                              % BACKGROUND\n                          ")]),a("v-card-text",[e._v("\n                           This filter allows to reduce the number of mutations shown in the results, based on the percentage of appearance of each mutation in the background population.\n                          ")])],1)],1)],1),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MIN")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:"0",max:e.selectedMaxBackgroundFrequency,type:"number"},model:{value:e.selectedMinBackgroundFrequency,callback:function(t){e.selectedMinBackgroundFrequency=e._n(t)},expression:"selectedMinBackgroundFrequency"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MAX")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:e.selectedMinBackgroundFrequency,max:"100",type:"number"},model:{value:e.selectedMaxBackgroundFrequency,callback:function(t){e.selectedMaxBackgroundFrequency=e._n(t)},expression:"selectedMaxBackgroundFrequency"}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 xl3 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("# SEQUENCES IN BACKGROUND:")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                              # SEQUENCES IN BACKGROUND\n                          ")]),a("v-card-text",[e._v("\n                           This filter allows to reduce the number of mutations shown in the results, based on the appearance (in absolute numbers) of each mutation in the background population.\n                          ")])],1)],1)],1),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MIN")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:"0",max:e.selectedMaxBackgroundNumerator,type:"number"},model:{value:e.selectedMinBackgroundNumerator,callback:function(t){e.selectedMinBackgroundNumerator=e._n(t)},expression:"selectedMinBackgroundNumerator"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MAX")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:e.selectedMinBackgroundNumerator,max:e.totalMaxBackgroundNumerator,type:"number"},model:{value:e.selectedMaxBackgroundNumerator,callback:function(t){e.selectedMaxBackgroundNumerator=e._n(t)},expression:"selectedMaxBackgroundNumerator"}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 xl3 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("% TARGET:")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                              % TARGET\n                          ")]),a("v-card-text",[e._v("\n                           This filter allows to reduce the number of mutations shown in the results, based on the percentage of appearance of each mutation in the target population.\n                          ")])],1)],1)],1),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MIN")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:"0",max:e.selectedMaxTargetFrequency,type:"number"},model:{value:e.selectedMinTargetFrequency,callback:function(t){e.selectedMinTargetFrequency=e._n(t)},expression:"selectedMinTargetFrequency"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MAX")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:e.selectedMinTargetFrequency,max:"100",type:"number"},model:{value:e.selectedMaxTargetFrequency,callback:function(t){e.selectedMaxTargetFrequency=e._n(t)},expression:"selectedMaxTargetFrequency"}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 xl3 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v(" # SEQUENCES IN TARGET:")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                              # SEQUENCES IN TARGET\n                          ")]),a("v-card-text",[e._v("\n                           This filter allows to reduce the number of mutations shown in the results, based on the appearance (in absolute numbers) of each mutation in the target population.\n                          ")])],1)],1)],1),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MIN")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:"0",max:e.selectedMaxTargetNumerator,type:"number"},model:{value:e.selectedMinTargetNumerator,callback:function(t){e.selectedMinTargetNumerator=e._n(t)},expression:"selectedMinTargetNumerator"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MAX")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:e.selectedMinTargetNumerator,max:e.totalMaxTargetNumerator,type:"number"},model:{value:e.selectedMaxTargetNumerator,callback:function(t){e.selectedMaxTargetNumerator=e._n(t)},expression:"selectedMaxTargetNumerator"}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 xl3 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("P-VALUE:")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                              P-VALUE\n                          ")]),a("v-card-text",[e._v("\n                           This filter allows to reduce the number of mutations shown in the results, based on their p-values. The p-value is calculated through a chi-squared test.\n                          ")])],1)],1)],1),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MIN")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:"0",max:e.selectedMaxPValue,step:"0.01",type:"number"},model:{value:e.selectedMinPValue,callback:function(t){e.selectedMinPValue=e._n(t)},expression:"selectedMinPValue"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MAX")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:e.selectedMinPValue,max:"1",step:"0.01",type:"number"},model:{value:e.selectedMaxPValue,callback:function(t){e.selectedMaxPValue=e._n(t)},expression:"selectedMaxPValue"}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 xl3 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("ODDS RATIO:")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                              ODDS RATIO\n                          ")]),a("v-card-text",[e._v("\n                           This filter allows to reduce the number of mutations shown in the results, based on their odds ratio. The odds ratio is calculated as: (percentage in target + epsilon) / (percentage in background + epsilon)\n                          ")])],1)],1)],1),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MIN")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:"0",max:e.selectedMaxOddsRatio,"hide-details":"",step:"0.1",type:"number"},model:{value:e.selectedMinOddsRatio,callback:function(t){e.selectedMinOddsRatio=e._n(t)},expression:"selectedMinOddsRatio"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MAX")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"","hide-details":"",min:e.selectedMinOddsRatio,max:e.totalMaxOddsRatio,step:"0.1",type:"number"},model:{value:e.selectedMaxOddsRatio,callback:function(t){e.selectedMaxOddsRatio=e._n(t)},expression:"selectedMaxOddsRatio"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs2 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("INF")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0","margin-bottom":"0"}},[a("v-checkbox",{attrs:{"hide-details":"","input-value":"true"},model:{value:e.isInfinite,callback:function(t){e.isInfinite=t},expression:"isInfinite"}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 xl3 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("FILTER PROTEIN:")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                              FILTER PROTEIN\n                          ")]),a("v-card-text",[e._v("\n                           This filter allows to reduce the number of mutations shown in the results, based on their protein.\n                          ")])],1)],1)],1),a("v-card-text",[a("v-autocomplete",{attrs:{items:e.possibleProteinForTable,label:"Protein",solo:"",clearable:"","hide-details":""},model:{value:e.selectedProteinForTable,callback:function(t){e.selectedProteinForTable=t},expression:"selectedProteinForTable"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticClass:"white--text",attrs:{color:"#E63946"},on:{click:function(t){return e.applyFilterOnTableProvReg()}}},[e._v("\n                    APPLY\n                ")])],1),e.queryGeo["lineage"]?a("v-card",{staticStyle:{"margin-top":"50px",padding:"10px"},attrs:{width:"1000px",color:"#F1FAEE"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[0!==e.rowsTableProvReg.length?a("v-flex",{staticClass:"no-horizontal-padding xs4 d-flex",staticStyle:{"justify-content":"center","margin-top":"12px"}},[a("h3",[e._v("CHANGES TO HIGHLIGHT:")])]):e._e(),0!==e.rowsTableProvReg.length?a("v-flex",{staticClass:"no-horizontal-padding xs4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-select",{attrs:{items:e.possibleTypeImportantMutation,label:"Type Important Change",solo:"","hide-details":""},model:{value:e.selectedTypeImportantMutation,callback:function(t){e.selectedTypeImportantMutation=t},expression:"selectedTypeImportantMutation"}})],1):e._e(),0!==e.rowsTableProvReg.length?a("v-flex",{staticClass:"no-horizontal-padding xs4 d-flex",staticStyle:{"justify-content":"center","margin-top":"12px"}},[a("ImportantMutation",{attrs:{importantMutationECDC:e.importantMutationECDC,importantMutation75Percentage:e.importantMutation75Percentage,rowsTable:e.fixedRowsTableProvReg}})],1):e._e()],1)],1):e._e(),e.rowsTableProvReg.length>1?a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("HeatmapMultipleAnalysis",{attrs:{nameHeatmap:"multipleAnalysisHeatmapGeo",contentHeatmap:e.rowsTableProvReg,fixedContent:e.fixedRowsTableProvReg,maxOddsRatio:e.totalMaxOddsRatio,importantMutation:e.importantMutation,type:"geo"}})],1):e._e(),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"80px"}},[a("h2",{staticStyle:{"text-align":"center"}},[e._v("CHANGES IN TARGET vs BACKGROUND LOCATION")]),e.rowsTableProvReg.length>1?a("h2",[e._v("S")]):e._e()]),a("v-tabs",{attrs:{"background-color":"#457B9D",dark:"",vertical:"","show-arrows":"","slider-color":"#E63946","slider-size":"6"},model:{value:e.selectedTabTable,callback:function(t){e.selectedTabTable=t},expression:"selectedTabTable"}},[e._l(e.rowsTableProvReg,(function(t,i){return a("v-tab",{key:i,staticStyle:{"border-bottom":"black solid 1px",width:"150px"}},[a("span",[e._v(e._s(e.fixedRowsTableProvReg[i][0]["target"]))])])})),a("v-tabs-items",{staticStyle:{background:"#F1FAEE"},model:{value:e.selectedTabTable,callback:function(t){e.selectedTabTable=t},expression:"selectedTabTable"}},e._l(e.rowsTableProvReg,(function(t,i){return a("v-tab-item",{key:i,staticStyle:{padding:"20px","background-color":"#F1FAEE"}},[a("v-layout",{staticStyle:{"margin-top":"10px"},attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{staticStyle:{border:"black solid 1px"},attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("INFO:")])]),a("v-card-text",[a("span",[a("b",[e._v(" - TARGET: ")]),a("span",[e._v(e._s(e.fixedRowsTableProvReg[i][0]["target"]))]),a("br")]),a("span",[a("b",[e._v(" - TOT NUM SEQ IN TARGET: ")]),a("span",[e._v(e._s(e.fixedRowsTableProvReg[i][0]["denominator_target"]))]),a("br")]),a("br"),a("span",[a("b",[e._v(" - BACKGROUND: ")]),a("span",[e._v(e._s(e.fixedRowsTableProvReg[i][0]["background"]))]),a("br")]),a("span",[a("b",[e._v(" - TOT NUM SEQ IN BACKGROUND: ")]),a("span",[e._v(e._s(e.fixedRowsTableProvReg[i][0]["denominator_background"]))]),a("br")])])],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("h2",[e._v("TABLE"),a("v-btn",{staticStyle:{"margin-left":"20px","margin-bottom":"5px"},attrs:{"x-small":"",icon:""},on:{click:function(a){return e.downloadTable("table_prov_reg",t)}}},[a("v-icon",{attrs:{size:"23"}},[e._v("\n                                    mdi-download-circle-outline\n                                  ")])],1)],1)]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-data-table",{staticClass:"data-table table_prov_reg",staticStyle:{width:"98%",border:"grey solid 1px"},attrs:{headers:e.headerTableProvReg,items:t,"multi-sort":"","sort-by":e.sortByTableProvReg,"sort-desc":e.sortDescTableProvReg},on:{"update:sortBy":function(t){e.sortByTableProvReg=t},"update:sort-by":function(t){e.sortByTableProvReg=t},"update:sortDesc":function(t){e.sortDescTableProvReg=t},"update:sort-desc":function(t){e.sortDescTableProvReg=t}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item;return[a("tr",e._l(e.headerTableProvReg,(function(t){return a("td",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"header.show"}],key:t.value,staticStyle:{"white-space":"pre-wrap","word-wrap":"break-word","text-align":"center"}},["lineage"===t.value?a("span",[a("v-dialog",{attrs:{width:"800",scrollable:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"white--text",attrs:{slot:"activator",color:"rgb(122, 139, 157)",small:""},slot:"activator"},i),[a("span",[e._v("\n                                                  Lineages\n                                                ")])])]}}],null,!0)},[a("v-card",[a("v-card-title",{staticClass:"justify-center",staticStyle:{"background-color":"#A8DADC",color:"white"}},[a("span",[e._v("\n                                                  Lineages\n                                                ")])]),a("v-card-text",{staticStyle:{"margin-top":"20px"}},e._l(i[t.value],(function(t){return a("span",{key:t},[a("span",[e._v(e._s(t))]),a("br")])})),0)],1)],1)],1):e._e(),"mutation_position"===t.value&&e.importantMutation["mutation"].includes(i["mutation"])?a("span",{staticStyle:{color:"white","font-weight":"900","background-color":"red",padding:"5px"}},[e._v(e._s(i["mutation"]))]):"mutation_position"===t.value&&e.importantMutation["additional_mutation"].includes(i["mutation"])?a("span",{staticStyle:{color:"white","font-weight":"900","background-color":"orange",padding:"5px"}},[e._v(e._s(i["mutation"]))]):"mutation_position"===t.value?a("span",[e._v(e._s(i["mutation"]))]):"p_value"===t.value&&i["p_value"]>=1e-5?a("span",[e._v(e._s(i["p_value"].toFixed(5)))]):"p_value"===t.value&&i["p_value"]>0&&i["p_value"]<1e-5?a("span",[e._v(e._s(i["p_value"]))]):"p_value"===t.value&&0===i["p_value"]?a("span",[e._v(e._s(e.p_value_lower))]):"odd_ratio"===t.value?a("span",[0===i["percentage_background"]?a("span",[e._v(" INF ")]):a("span",[e._v(e._s(i["odd_ratio"].toFixed(5)))])]):"percentage_target"===t.value?a("span",[e._v(e._s(i["percentage_target"].toFixed(5))+" %  "),a("a",{on:{click:function(t){return e.openDialogAccession("target",i)}}},[e._v("("+e._s(i["numerator_target"])+")")])]):"percentage_background"===t.value?a("span",[e._v(e._s(i["percentage_background"].toFixed(5))+" %  "),a("a",{on:{click:function(t){return e.openDialogAccession("background",i)}}},[e._v("("+e._s(i["numerator_background"])+")")])]):a("span",[e._v(e._s(i[t.value]))])])})),0)]}}],null,!0)})],1)],1)],1)})),1)],2)],1)],1)],1)],1):e._e(),e.tableApplied?a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-card",{staticStyle:{"margin-bottom":"50px","margin-top":"50px",padding:"50px"},attrs:{width:"1600px",color:"#A8DADC"}},[a("v-card-text",[a("v-layout",{staticStyle:{padding:"30px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("h2",[e._v(" TARGET SEQUENCES BAR CHART ")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("P-VALUE:")])]),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MIN")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:"0",max:e.selectedMaxPValueBarChart,step:"0.01",type:"number"},model:{value:e.selectedMinPValueBarChart,callback:function(t){e.selectedMinPValueBarChart=e._n(t)},expression:"selectedMinPValueBarChart"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MAX")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:e.selectedMinPValueBarChart,max:"1",step:"0.01",type:"number"},model:{value:e.selectedMaxPValueBarChart,callback:function(t){e.selectedMaxPValueBarChart=e._n(t)},expression:"selectedMaxPValueBarChart"}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("SELECT PROTEIN (mandatory):")])]),a("v-card-text",{staticStyle:{"margin-top":"10px"}},[a("v-autocomplete",{attrs:{items:e.possibleProteinForPValue,label:"Protein",solo:"","hide-details":""},model:{value:e.selectedProteinForPValue,callback:function(t){e.selectedProteinForPValue=t},expression:"selectedProteinForPValue"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center",staticStyle:{margin:"0","padding-bottom":"0"}},[a("h5",[e._v("PREVALENCE RANGE OF AA CHANGES:")])]),a("v-card-text",{staticStyle:{"padding-top":"0","margin-top":"0"}},[a("v-layout",{staticStyle:{"margin-top":"0",padding:"0"},attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MIN")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:"0",max:e.selectedMaxPercentageMutationPValue,step:"1",type:"number"},model:{value:e.selectedMinPercentageMutationPValue,callback:function(t){e.selectedMinPercentageMutationPValue=e._n(t)},expression:"selectedMinPercentageMutationPValue"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MAX")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:e.selectedMinPercentageMutationPValue,max:"100",step:"1",type:"number"},model:{value:e.selectedMaxPercentageMutationPValue,callback:function(t){e.selectedMaxPercentageMutationPValue=e._n(t)},expression:"selectedMaxPercentageMutationPValue"}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticClass:"white--text",attrs:{color:"#E63946",disabled:null===e.selectedProteinForPValue},on:{click:function(t){return e.applyFilterPValueChart()}}},[e._v("\n                    APPLY\n               ")])],1),e.pValueBarChartApplied?a("div",[a("v-layout",{staticStyle:{"margin-top":"30px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"400px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("HIGHLIGHT DOMAINS:")])]),a("v-card-text",[a("v-autocomplete",{attrs:{items:e.possibleDomainForPValue,label:"Sites, family, and domains",solo:"","hide-details":"","item-text":e.getFieldTextDomain,multiple:""},model:{value:e.selectedDomainForPValue,callback:function(t){e.selectedDomainForPValue=t},expression:"selectedDomainForPValue"}})],1)],1)],1),e._l(e.selectedDomainForPValue,(function(t,i){return a("v-flex",{key:i,staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0","padding-bottom":"5px!important"}},[e.selectedDomainForPValue.length>0?a("v-card",{staticStyle:{width:"400px"},attrs:{color:"white"}},[a("v-card",{attrs:{color:e.color_1[i%e.color_1.length]+80,height:"100%"}},[a("h5",{staticStyle:{"text-align":"center",color:"black"}},[e._v(e._s(t.toUpperCase()))])])],1):e._e()],1)}))],2)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"400px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("HIGHLIGHT FUNCTIONALLY CHARACTERISED"),a("br"),e._v(" SITES:")])]),a("v-card-text",[a("v-autocomplete",{attrs:{items:e.possibleDomainForPValueMutagenesis,label:"Functionally Characterised Sites",solo:"","hide-details":"","item-text":e.getFieldTextDomain,multiple:""},model:{value:e.selectedDomainForPValueMutagenesis,callback:function(t){e.selectedDomainForPValueMutagenesis=t},expression:"selectedDomainForPValueMutagenesis"}})],1)],1)],1),e._l(e.selectedDomainForPValueMutagenesis,(function(t,i){return a("v-flex",{key:i,staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0","padding-bottom":"5px!important"}},[e.selectedDomainForPValueMutagenesis.length>0?a("v-card",{staticStyle:{width:"400px"},attrs:{color:"white"}},[a("v-card",{attrs:{color:e.color_2[i%e.color_2.length]+80,height:"100%"}},[a("h5",{staticStyle:{"text-align":"center",color:"black"}},[e._v(e._s(t.toUpperCase()))])])],1):e._e()],1)}))],2)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"400px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("HIGHLIGHT GLYCOSYLATION SITES:")])]),a("v-card-text",[a("v-autocomplete",{attrs:{items:e.possibleDomainForPValueAaModifications,label:"Glycosylation Sites",solo:"","hide-details":"","item-text":e.getFieldTextDomain},model:{value:e.selectedDomainForPValueAaModificationsFake,callback:function(t){e.selectedDomainForPValueAaModificationsFake=t},expression:"selectedDomainForPValueAaModificationsFake"}}),a("v-layout",{staticStyle:{padding:"0",margin:"0"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0",margin:"0"}},[a("v-checkbox",{attrs:{label:"Select All","input-value":"true","hide-details":""},model:{value:e.selectedAllAaModifications,callback:function(t){e.selectedAllAaModifications=t},expression:"selectedAllAaModifications"}})],1)],1)],1)],1)],1),e._l(e.selectedDomainForPValueAaModifications,(function(t,i){return a("v-flex",{key:i,staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0","padding-bottom":"5px!important"}},[e.selectedDomainForPValueAaModifications.length>0?a("v-card",{staticStyle:{width:"400px"},attrs:{color:"white"}},[a("v-card",{attrs:{color:"#FFA50080",height:"100%"}},[a("h5",{staticStyle:{"text-align":"center",color:"black"}},[e._v(e._s(t.toUpperCase()))])])],1):e._e()],1)}))],2)],1)],1),a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"400px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("UPLOAD YOUR REGIONS:")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                                    UPLOAD YOUR REGIONS:\n                                ")]),a("v-card-text",{staticStyle:{"text-align":"center"}},[a("span",[a("br"),a("br")]),a("span",[a("b",[e._v("EXAMPLE OF FILE")]),a("v-btn",{staticStyle:{"margin-left":"20px"},attrs:{"x-small":"",icon:""},on:{click:function(t){return e.downloadExampleCSV()}}},[a("v-icon",{attrs:{size:"18"}},[e._v("\n                                        mdi-download-circle-outline\n                                      ")])],1)],1)])],1)],1)],1),a("v-card-text",[a("v-layout",{attrs:{wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs3 d-flex",staticStyle:{"justify-content":"center"}},[a("input",{staticStyle:{display:"none"},attrs:{id:"inputDomainCSVGeo",type:"file",accept:".csv",onclick:"document.getElementById('inputDomainCSVGeo').value = ''"},on:{change:function(t){return e.loadDomainCSV()}}}),a("v-btn",{staticClass:"white--text",staticStyle:{"margin-top":"10px"},attrs:{onclick:"document.getElementById('inputDomainCSVGeo').click()",small:"",color:"#E63946"}},[e._v("\n                                  Upload CSV\n                              ")])],1),a("v-flex",{staticClass:"no-horizontal-padding xs8 d-flex",staticStyle:{"justify-content":"center"}},[a("v-text-field",{staticStyle:{"margin-right":"10px"},attrs:{value:this.nameFileDomainCSV,solo:"",readonly:"","hide-details":""}}),a("v-btn",{staticStyle:{"background-color":"red","margin-top":"10px"},attrs:{icon:"","x-small":"",color:"white"},on:{click:function(t){return e.deleteDomainCSV()}}},[a("v-icon",{attrs:{size:"18"}},[e._v("mdi-close")])],1)],1)],1)],1)],1)],1)],1),a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},e._l(e.selectedDomainForPValueUploaded,(function(t,i){return a("v-flex",{key:i,staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0","padding-bottom":"5px!important"}},[e.selectedDomainForPValueUploaded.length>0?a("v-card",{staticStyle:{width:"400px"},attrs:{color:"white"}},[a("v-card",{attrs:{color:e.color_3[i%e.color_3.length]+80,height:"100%"}},[a("h5",{staticStyle:{"text-align":"center",color:"black"}},[e._v(e._s(t.toUpperCase()))])])],1):e._e()],1)})),1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}}),e._l(e.rowsTableProvReg,(function(t,i){return a("v-flex",{key:"pValue"+i,staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-space-between":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 md2 d-flex",staticStyle:{"justify-content":"left"}},[a("v-card",{staticStyle:{height:"250px"},attrs:{"max-width":"500px",color:"#F1FAEE"}},[a("v-card-text",{staticStyle:{"text-align":"center","padding-top":"55px"}},[a("span",[a("b",[e._v(" TARGET: ")]),a("br")]),a("span",[a("span",[e._v(e._s(e.fixedRowsTableProvReg[i][0]["target"]))]),a("br")]),a("span",[e._v(" NUM SEQ:\n                          "),a("span",[e._v(e._s(e.fixedRowsTableProvReg[i][0]["denominator_target"]))]),a("br")]),a("br"),a("span",[a("b",[e._v(" BACKGROUND: ")]),a("br")]),a("span",[a("span",[e._v(e._s(e.fixedRowsTableProvReg[i][0]["background"]))]),a("br")]),a("span",[e._v(" NUM SEQ:\n                          "),a("span",[e._v(e._s(e.fixedRowsTableProvReg[i][0]["denominator_background"]))]),a("br")])])],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md10 d-flex",staticStyle:{"justify-content":"center"}},[a("PValueBarChart",{attrs:{namePValue:e.pValueName[i],pValueContent:e.pValueContent[i],totalMaxOddsRatio:e.totalMaxOddsRatio,startStopProtein:e.startStopProtein,selectedDomainForPValue:e.selectedDomainForPValue,possibleDomainForPValue:e.possibleDomainForPValue,selectedDomainForPValueMutagenesis:e.selectedDomainForPValueMutagenesis,possibleDomainForPValueMutagenesis:e.possibleDomainForPValueMutagenesis,selectedDomainForPValueAaModifications:e.selectedDomainForPValueAaModifications,possibleDomainForPValueAaModifications:e.possibleDomainForPValueAaModifications,selectedDomainForPValueUploaded:e.selectedDomainForPValueUploaded,possibleDomainForPValueUploaded:e.possibleDomainForPValueUploaded,type:"geo",rowsAnalTime:t,protein:e.selectedProteinForPValue}})],1)],1)],1)}))],2):e._e()],1)],1)],1)],1):e._e()],1),a("v-overlay",{attrs:{value:e.overlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),a("v-dialog",{attrs:{persistent:"",scrollable:"",width:"700"},model:{value:e.dialogAccessionIds,callback:function(t){e.dialogAccessionIds=t},expression:"dialogAccessionIds"}},[a("v-card",[a("v-card-title",{staticClass:"headline",staticStyle:{"background-color":"#A8DADC"}},[e._v("\n        Accession IDs\n        "),a("v-spacer"),a("v-btn",{attrs:{color:"rgb(122, 139, 157)",text:""},on:{click:function(t){return e.downloadAccessionIds()}}},[e._v("\n          DOWNLOAD\n        ")]),a("v-btn",{attrs:{color:"rgb(122, 139, 157)",text:""},on:{click:function(t){e.dialogAccessionIds=!e.dialogAccessionIds}}},[e._v("\n          CLOSE\n        ")])],1),a("v-card-text",{staticStyle:{padding:"50px"}},e._l(e.listAccessionIds,(function(t){return a("span",{key:t},[a("span",[e._v(" - "+e._s(t))]),a("br")])})),0)],1)],1)],1)},Tt=[],wt=a("2909"),Ft=(a("6062"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"100%"}},[a("v-container",{staticStyle:{"justify-content":"center"},attrs:{fluid:"","grid-list-xl":""}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs11 d-flex",staticStyle:{"justify-content":"center",margin:"0",padding:"0"}},[a("div",{staticStyle:{width:"100px",height:"250px","user-select":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)",padding:"0","border-width":"0","background-color":"white"},attrs:{id:e.namePValue},on:{click:function(t){return e.filterPoint()}}})]),a("v-flex",{staticClass:"no-horizontal-padding xs1 d-flex",staticStyle:{"justify-content":"center",margin:"0",padding:"0"}},[null!==e.my_chart?a("v-btn",{staticStyle:{"margin-left":"20px","margin-top":"110px"},attrs:{small:"",icon:""},on:{click:e.download}},[a("v-icon",{attrs:{size:"32"}},[e._v("\n              mdi-download-circle-outline\n            ")])],1):e._e()],1)],1)],1),a("v-dialog",{attrs:{persistent:"",width:"500"},model:{value:e.dialog_single_position,callback:function(t){e.dialog_single_position=t},expression:"dialog_single_position"}},[a("v-card",[a("v-card-title",{staticClass:"white--text",staticStyle:{"background-color":"#457B9D"}},[e._v("\n          SINGLE POSITION ("+e._s(e.single_position)+")\n          "),a("v-spacer"),a("v-btn",{staticStyle:{"background-color":"red"},attrs:{slot:"activator",icon:"",small:"",color:"white"},on:{click:function(t){return e.closeDialogSinglePosition()}},slot:"activator"},[e._v("\n            X\n          ")])],1),a("v-card-text",{staticClass:"text-xs-center"},[a("div",{staticStyle:{width:"50px",height:"250px","user-select":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)",padding:"0","border-width":"0","background-color":"white"},attrs:{id:e.namePValue+"_single_position"}})])],1)],1)],1)}),kt=[],At=(a("5319"),{name:"PValueBarChart",props:{namePValue:{required:!0},pValueContent:{required:!0},totalMaxOddsRatio:{required:!0},startStopProtein:{required:!0},selectedDomainForPValue:{required:!0},possibleDomainForPValue:{required:!0},selectedDomainForPValueMutagenesis:{required:!0},possibleDomainForPValueMutagenesis:{required:!0},selectedDomainForPValueAaModifications:{required:!0},possibleDomainForPValueAaModifications:{required:!0},selectedDomainForPValueUploaded:{required:!0},possibleDomainForPValueUploaded:{required:!0},type:{required:!0},rowsAnalTime:{required:!0},protein:{required:!0},nameFileAccIdsTarget:{required:!1},nameFileAccIdsBackground:{required:!1},listAccIdsTargetInserted:{required:!1},listAccIdsBackgroundInserted:{required:!1}},data:function(){return{begin_value_domain:0,end_value_domain:0,params:null,dialog_single_position:!1,single_position:null,barChart:{title:{},tooltip:{trigger:"item",formatter:function(e){var t='<span data-tooltip="minimum" style="border-left: 2px solid #fff;display: inline-block;height: 10px;margin-right: 5px;width: 10px;">\n                            <span style="background-color:'.concat(e.color,'; border-radius: 100%; display: block;height: 10px;width: 10px;">\n                            </span>\n                          </span>'),a='<span style="text-align: center; padding: 0; margin: 0;"><b>'.concat(e.data[4],"</b></span>");return"".concat(t," ").concat(a," <br /><br />\n                    <span><b>log odds_ratio:</b> ").concat(e.data[1],"</span> <br />\n                    <span><b>p-value:</b> ").concat(e.data[2],"</span><br />\n                    <span><b>odds ratio:</b> ").concat(e.data[3],"</span><br />\n                    <span><b>num sequences:</b> ").concat(e.data[5],"</span> <br />")}},series:[{type:"bar",radius:"50%",data:[],itemStyle:{color:"#457B9D"},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"#457B9D"}},stack:"one",markArea:{tooltip:{show:!1},data:[[{xAxis:0,itemStyle:{color:"rgba(50, 255, 50, 0.5)"}},{xAxis:0}]]}}],xAxis:{type:"category"},yAxis:{type:"value",name:"log(odds_ratio)",nameTextStyle:{fontSize:10}},dataZoom:[{type:"slider",realtime:!1,maxValueSpan:398}]},barChartSinglePosition:{title:{},tooltip:{trigger:"item"},series:[{type:"bar",radius:"50%",data:[],itemStyle:{color:"#457B9D"},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"#457B9D"}},stack:"one",markArea:{tooltip:{show:!1},data:[[{xAxis:0,itemStyle:{color:"rgba(50, 255, 50, 0.5)"}},{xAxis:0}]]}}],xAxis:{type:"category",axisTick:{interval:0},axisLabel:{interval:0}},yAxis:{type:"value",name:"log(odds_ratio)",nameTextStyle:{fontSize:10}}},my_chart:null,my_chart_single_position:null}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])(["colorPValueChart","startValuePValueBarChartTime","endValuePValueBarChartTime","startValuePValueBarChartGeo","endValuePValueBarChartGeo","startValuePValueBarChartFree","endValuePValueBarChartFree","color_1","color_2","color_3","queryTime","startDateQueryGeo","stopDateQueryGeo","startDateQueryFreeTarget","stopDateQueryFreeTarget","startDateQueryFreeBackground","stopDateQueryFreeBackground","queryFreeTarget","queryFreeBackground","queryGeo"])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])(["setStartValuePValueBarChartTime","setEndValuePValueBarChartTime","setStartValuePValueBarChartGeo","setEndValuePValueBarChartGeo","setStartValuePValueBarChartFree","setEndValuePValueBarChartFree"])),Object(p["b"])([])),{},{closeDialogSinglePosition:function(){this.dialog_single_position=!1,this.params=null,this.single_position=null},filterPoint:function(){var e=this;this.my_chart.on("click",(function(t){e.params=t}))},download:function(){var e=this.my_chart.getConnectedDataURL({pixelRatio:2,backgroundColor:"white"}),t=document.createElement("a"),a="png",i="noResult";if(this.rowsAnalTime.length>0&&("time"===this.type||"geo"===this.type?"time"===this.type?(i="temporal_analysis_AaChanges_",this.queryTime["lineage"]&&(i+=this.queryTime["lineage"]+"_"),i+="("+this.rowsAnalTime[0]["target"]+")_vs_("+this.rowsAnalTime[0]["background"]+")",this.queryTime["geo_group"]?this.queryTime["country"]?this.queryTime["region"]?this.queryTime["province"]?i+="_"+this.queryTime["province"]:i+="_"+this.queryTime["region"]:i+="_"+this.queryTime["country"]:i+="_"+this.queryTime["geo_group"]:i+="_World.csv"):(i="spatial_analysis_AaChanges_",this.queryGeo["lineage"]&&(i+=this.queryGeo["lineage"]+"_"),i+="("+this.rowsAnalTime[0]["target"]+")_vs_("+this.rowsAnalTime[0]["background"]+")",i+="_"+this.startDateQueryGeo+"_"+this.stopDateQueryGeo):(i="open_analysis_AaChanges_(",null===this.nameFileAccIdsTarget&&0===this.listAccIdsTargetInserted.length?(this.queryFreeTarget["lineage"]&&(i+=this.queryFreeTarget["lineage"]+"_"),this.queryFreeTarget["geo_group"]?this.queryFreeTarget["country"]?this.queryFreeTarget["region"]?this.queryFreeTarget["province"]?this.queryFreeTarget["province"].length>2?i+=this.queryFreeTarget["province"][0]+"_etc":i+=this.queryFreeTarget["province"]:this.queryFreeTarget["region"].length>2?i+=this.queryFreeTarget["region"][0]+"_etc":i+=this.queryFreeTarget["region"]:this.queryFreeTarget["country"].length>2?i+=this.queryFreeTarget["country"][0]+"_etc":i+=this.queryFreeTarget["country"]:this.queryFreeTarget["geo_group"].length>2?i+=this.queryFreeTarget["geo_group"][0]+"_etc":i+=this.queryFreeTarget["geo_group"]:i+="World",i+="_"+this.startDateQueryFreeTarget+"_"+this.stopDateQueryFreeTarget):(null!==this.nameFileAccIdsTarget&&(i+=this.nameFileAccIdsTarget.split(".txt")[0]),this.listAccIdsTargetInserted.length>0&&(null!==this.nameFileAccIdsTarget&&(i+="_"),i+="userSelectedIds")),i+=")_vs_(",null===this.nameFileAccIdsBackground&&0===this.listAccIdsBackgroundInserted.length?(this.queryFreeBackground["lineage"]&&(i+=this.queryFreeBackground["lineage"]+"_"),this.queryFreeBackground["geo_group"]?this.queryFreeBackground["country"]?this.queryFreeBackground["region"]?this.queryFreeBackground["province"]?this.queryFreeBackground["province"].length>2?i+=this.queryFreeBackground["province"][0]+"_etc":i+=this.queryFreeBackground["province"]:this.queryFreeBackground["region"].length>2?i+=this.queryFreeBackground["region"][0]+"_etc":i+=this.queryFreeBackground["region"]:this.queryFreeBackground["country"].length>2?i+=this.queryFreeBackground["country"][0]+"_etc":i+=this.queryFreeBackground["country"]:this.queryFreeBackground["geo_group"].length>2?i+=this.queryFreeBackground["geo_group"][0]+"_etc":i+=this.queryFreeBackground["geo_group"]:i+="World",i+="_"+this.startDateQueryFreeBackground+"_"+this.stopDateQueryFreeBackground):(null!==this.nameFileAccIdsBackground&&(i+=this.nameFileAccIdsBackground.split(".txt")[0]),this.listAccIdsBackgroundInserted.length>0&&(null!==this.nameFileAccIdsBackground&&(i+="_"),i+="userSelectedIds")),i+=")"),i+="_"+this.protein),t.download=i+"."+a,t.target="_blank",t.href=e,"function"===typeof MouseEvent){var n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});t.dispatchEvent(n)}else{var s='<body style="margin:0;">![]('+e+")</body>",r=window.open();r.document.write(s)}},createArrayOfZeros:function(){for(var e=[],t=0;t<=this.startStopProtein["stop"];t+=1)e.push([t.toString(),0,0,0,0]);return e},createArrayOfColor:function(e){for(var t=[],a=0;a<=this.startStopProtein["stop"];a+=1)e[a]?t.push(e[a]):t.push("transparent");return t},renderGraph:function(e){var t=this,a=.6*window.innerWidth,i=document.getElementById(this.namePValue);i.style["width"]=a+"px";for(var n=e.length,s=0,r=[],o=[],l=[],c=0;c<=this.startStopProtein["stop"];c+=1)r.push(c.toString()),l.push([c.toString(),0,0,0,0]);o.push(l),this.begin_value_domain=0,this.end_value_domain=0;while(s<n){var d=e[s],u=void 0;u=d["odds_ratio"]>this.totalMaxOddsRatio?[d["position"].toString(),Math.log(d["odds_ratio"]),d["p_value"],"INF",d["name"],d["value"]]:[d["position"].toString(),Math.log(d["odds_ratio"]),d["p_value"],d["odds_ratio"],d["name"],d["value"]];var h=!0,g=0;while(h){var p=o[g];if(JSON.stringify(p[d["position"]].toString())===JSON.stringify([d["position"],0,0,0,0].toString()))p[d["position"]]=u,h=!1;else if(g+1>=o.length){o.push(this.createArrayOfZeros());var f=o[g+1];f[d["position"]]=u,h=!1}g+=1}s+=1}var v={};this.barChart.series[0].markArea.data=[this.barChart.series[0].markArea.data[0]],this.barChart.series=[this.barChart.series[0]],this.barChart.series[0].markArea.data[0][0].xAxis=0,this.barChart.series[0].markArea.data[0][1].xAxis=0;for(var y=0;y<o.length;y+=1)if(0===y)this.barChart.series[y].data=o[y];else{var m=void 0;m=y%2===1?"#A8DADC":"#457B9D";var x={type:"bar",radius:"50%",data:o[y],itemStyle:{color:m},large:!0,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},markArea:{tooltip:{show:!1},data:[[{xAxis:0,itemStyle:{color:"red"}},{xAxis:0}]]},stack:"one"};this.barChart.series.push(x)}if(this.selectedDomainForPValue.length>0)for(var _=function(e){var a=t,i=0,n=0,s=t.possibleDomainForPValue.findIndex((function(t){return t["Description"]===a.selectedDomainForPValue[e].split(" / ")[0]&&t["Begin"]===parseInt(a.selectedDomainForPValue[e].split(" / ")[1].replace("(","").replace(")","").split(",")[0])&&t["End"]===parseInt(a.selectedDomainForPValue[e].split(" / ")[1].replace("(","").replace(")","").split(",")[1])}));-1!==s&&(i=t.possibleDomainForPValue[s]["Begin"],n=t.possibleDomainForPValue[s]["End"]);var r=t.color_1,o=e%r.length,l=r[o];l+="80",0!==i&&0!==n&&(v[i-1]=l,v[n-1]=l);var c=[{xAxis:i-.5,itemStyle:{color:l}},{xAxis:n+.5}];t.barChart.series[0].markArea.data.push(c)},b=0;b<this.selectedDomainForPValue.length;b+=1)_(b);if(this.selectedDomainForPValueMutagenesis.length>0)for(var S=function(e){var a=t,i=0,n=0,s=t.possibleDomainForPValueMutagenesis.findIndex((function(t){return t["Description"]===a.selectedDomainForPValueMutagenesis[e].split(" / ")[0]&&t["Begin"]===parseInt(a.selectedDomainForPValueMutagenesis[e].split(" / ")[1].replace("(","").replace(")","").split(",")[0])&&t["End"]===parseInt(a.selectedDomainForPValueMutagenesis[e].split(" / ")[1].replace("(","").replace(")","").split(",")[1])}));-1!==s&&(i=t.possibleDomainForPValueMutagenesis[s]["Begin"],n=t.possibleDomainForPValueMutagenesis[s]["End"]);var r=t.color_2,o=e%r.length,l=r[o];l+="80",0!==i&&0!==n&&(v[i-1]=l,v[n-1]=l);var c=[{xAxis:i-.5,itemStyle:{color:l}},{xAxis:n+.5}];t.barChart.series[0].markArea.data.push(c)},C=0;C<this.selectedDomainForPValueMutagenesis.length;C+=1)S(C);if(this.selectedDomainForPValueAaModifications.length>0)for(var T=function(e){var a=t,i=0,n=0,s=t.possibleDomainForPValueAaModifications.findIndex((function(t){return t["Description"]===a.selectedDomainForPValueAaModifications[e].split(" / ")[0]&&t["Begin"]===parseInt(a.selectedDomainForPValueAaModifications[e].split(" / ")[1].replace("(","").replace(")","").split(",")[0])&&t["End"]===parseInt(a.selectedDomainForPValueAaModifications[e].split(" / ")[1].replace("(","").replace(")","").split(",")[1])}));-1!==s&&(i=t.possibleDomainForPValueAaModifications[s]["Begin"],n=t.possibleDomainForPValueAaModifications[s]["End"]);var r="#FFA50080";0!==i&&0!==n&&(v[i-1]=r,v[n-1]=r);var o=[{xAxis:i-.5,itemStyle:{color:r}},{xAxis:n+.5}];t.barChart.series[0].markArea.data.push(o)},w=0;w<this.selectedDomainForPValueAaModifications.length;w+=1)T(w);if(this.selectedDomainForPValueUploaded.length>0)for(var F=function(e){var a=t,i=0,n=0,s=t.possibleDomainForPValueUploaded.findIndex((function(t){return t["Description"]===a.selectedDomainForPValueUploaded[e].split(" / ")[0]&&t["Begin"]===parseInt(a.selectedDomainForPValueUploaded[e].split(" / ")[1].replace("(","").replace(")","").split(",")[0])&&t["End"]===parseInt(a.selectedDomainForPValueUploaded[e].split(" / ")[1].replace("(","").replace(")","").split(",")[1])}));-1!==s&&(i=t.possibleDomainForPValueUploaded[s]["Begin"],n=t.possibleDomainForPValueUploaded[s]["End"]);var r=t.color_3,o=e%r.length,l=r[o];l+="80",0!==i&&0!==n&&(v[i-1]=l,v[n-1]=l);var c=[{xAxis:i-.5,itemStyle:{color:l}},{xAxis:n+.5}];t.barChart.series[0].markArea.data.push(c)},k=0;k<this.selectedDomainForPValueUploaded.length;k+=1)F(k);"time"===this.type?(this.setStartValuePValueBarChartTime(0),this.setEndValuePValueBarChartTime(r.length)):"geo"===this.type?(this.setStartValuePValueBarChartGeo(0),this.setEndValuePValueBarChartGeo(r.length)):"free"===this.type&&(this.setStartValuePValueBarChartFree(0),this.setEndValuePValueBarChartFree(r.length)),this.barChart.dataZoom[0].startValue=0,this.barChart.dataZoom[0].endValue=r.length,null===this.my_chart||this.my_chart.dispose(),this.my_chart=L["b"](document.getElementById(this.namePValue)),this.my_chart.setOption(this.barChart,!0);var A=document.getElementById(this.namePValue);A.click();var D=this;this.my_chart.on("dataZoom",(function(e){"time"===D.type?(D.setStartValuePValueBarChartTime(e.start/100*r.length),D.setEndValuePValueBarChartTime(e.end/100*r.length)):"geo"===D.type?(D.setStartValuePValueBarChartGeo(e.start/100*r.length),D.setEndValuePValueBarChartGeo(e.end/100*r.length)):"free"===D.type&&(D.setStartValuePValueBarChartFree(e.start/100*r.length),D.setEndValuePValueBarChartFree(e.end/100*r.length))}))},renderGraphSinglePosition:function(e){this.dialog_single_position=!0;var t=document.getElementById(this.namePValue+"_single_position");t.style["width"]="450px";for(var a=e.length,i=[],n=[],s=0;s<a;s++)i.push(e[s]["name"].split("_")[1]),n.push(Math.log(e[s]["odds_ratio"]));this.barChartSinglePosition.series[0]["data"]=n,this.barChartSinglePosition.xAxis.data=i,null===this.my_chart_single_position||this.my_chart_single_position.dispose(),this.my_chart_single_position=L["b"](document.getElementById(this.namePValue+"_single_position")),this.my_chart_single_position.setOption(this.barChartSinglePosition,!0)}}),mounted:function(){var e=JSON.parse(JSON.stringify(this.pValueContent));this.renderGraph(e)},watch:{params:function(){var e=this;if(null!==this.params){this.dialog_single_position=!0,this.single_position=this.params["data"][0];var t=this.pValueContent.filter((function(t){return t.position===parseInt(e.params["data"][0])})),a=100,i=this;setTimeout((function(){i.renderGraphSinglePosition(t)}),a)}},metadataContent:function(){var e=JSON.parse(JSON.stringify(this.pValueContent));this.renderGraph(e)},selectedDomainForPValue:function(){var e=JSON.parse(JSON.stringify(this.pValueContent)),t=2e3,a=this;setTimeout((function(){a.renderGraph(e)}),t)},selectedDomainForPValueMutagenesis:function(){var e=JSON.parse(JSON.stringify(this.pValueContent)),t=2e3,a=this;setTimeout((function(){a.renderGraph(e)}),t)},selectedDomainForPValueAaModifications:function(){var e=JSON.parse(JSON.stringify(this.pValueContent)),t=2e3,a=this;setTimeout((function(){a.renderGraph(e)}),t)},selectedDomainForPValueUploaded:function(){var e=JSON.parse(JSON.stringify(this.pValueContent)),t=2e3,a=this;setTimeout((function(){a.renderGraph(e)}),t)},startValuePValueBarChartTime:function(){"time"===this.type&&(this.barChart.dataZoom[0].startValue===this.startValuePValueBarChartTime&&this.barChart.dataZoom[0].endValue===this.endValuePValueBarChartTime||(this.barChart.dataZoom[0].startValue=this.startValuePValueBarChartTime,this.barChart.dataZoom[0].endValue=this.endValuePValueBarChartTime,null===this.my_chart&&(this.my_chart=L["b"](document.getElementById(this.namePValue))),this.my_chart.setOption(this.barChart,!0)))},endValuePValueBarChartTime:function(){"time"===this.type&&(this.barChart.dataZoom[0].startValue===this.startValuePValueBarChartTime&&this.barChart.dataZoom[0].endValue===this.endValuePValueBarChartTime||(this.barChart.dataZoom[0].startValue=this.startValuePValueBarChartTime,this.barChart.dataZoom[0].endValue=this.endValuePValueBarChartTime,null===this.my_chart&&(this.my_chart=L["b"](document.getElementById(this.namePValue))),this.my_chart.setOption(this.barChart,!0)))},startValuePValueBarChartGeo:function(){"geo"===this.type&&(this.barChart.dataZoom[0].startValue===this.startValuePValueBarChartGeo&&this.barChart.dataZoom[0].endValue===this.endValuePValueBarChartGeo||(this.barChart.dataZoom[0].startValue=this.startValuePValueBarChartGeo,this.barChart.dataZoom[0].endValue=this.endValuePValueBarChartGeo,null===this.my_chart&&(this.my_chart=L["b"](document.getElementById(this.namePValue))),this.my_chart.setOption(this.barChart,!0)))},endValuePValueBarChartGeo:function(){"geo"===this.type&&(this.barChart.dataZoom[0].startValue===this.startValuePValueBarChartGeo&&this.barChart.dataZoom[0].endValue===this.endValuePValueBarChartGeo||(this.barChart.dataZoom[0].startValue=this.startValuePValueBarChartGeo,this.barChart.dataZoom[0].endValue=this.endValuePValueBarChartGeo,null===this.my_chart&&(this.my_chart=L["b"](document.getElementById(this.namePValue))),this.my_chart.setOption(this.barChart,!0)))},startValuePValueBarChartFree:function(){"time"===this.type&&(this.barChart.dataZoom[0].startValue===this.startValuePValueBarChartFree&&this.barChart.dataZoom[0].endValue===this.endValuePValueBarChartFree||(this.barChart.dataZoom[0].startValue=this.startValuePValueBarChartFree,this.barChart.dataZoom[0].endValue=this.endValuePValueBarChartFree,null===this.my_chart&&(this.my_chart=L["b"](document.getElementById(this.namePValue))),this.my_chart.setOption(this.barChart,!0)))},endValuePValueBarChartFree:function(){"time"===this.type&&(this.barChart.dataZoom[0].startValue===this.startValuePValueBarChartFree&&this.barChart.dataZoom[0].endValue===this.endValuePValueBarChartFree||(this.barChart.dataZoom[0].startValue=this.startValuePValueBarChartFree,this.barChart.dataZoom[0].endValue=this.endValuePValueBarChartFree,null===this.my_chart&&(this.my_chart=L["b"](document.getElementById(this.namePValue))),this.my_chart.setOption(this.barChart,!0)))}}}),Dt=At,Pt=Object(x["a"])(Dt,Ft,kt,!1,null,"ccd9fa7e",null),Mt=Pt.exports;b()(Pt,{VBtn:S["a"],VCard:C["a"],VCardText:T["b"],VCardTitle:T["c"],VContainer:w["a"],VDialog:F["a"],VFlex:k["a"],VIcon:A["a"],VLayout:D["a"],VSpacer:B["a"]});var Et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},["lineage"!==e.field?a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("SelectorsPieChart",{attrs:{nameField:e.field+e.field,field:e.field,nameQuery:"geo",fieldContent:e.possibleValues2,isLoading:e.isLoading,pieChartBlocked:e.pieChartBlocked}})],1):e._e(),"lineage"!==e.field?a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-autocomplete",{staticStyle:{position:"relative"},attrs:{items:e.possibleValues2,label:"geo_group"===e.field?"continent":e.field,solo:"",clearable:"","hide-details":"","item-text":e.getFieldText,loading:e.isLoading,disabled:e.isLoading||0===e.possibleValues2.length||e.pieChartBlocked,multiple:e.checkMultiple()},scopedSlots:e._u([{key:"item",fn:function(t){return[a("span",{staticClass:"item-value-span"},[e._v(e._s(e.getFieldText(t.item)))]),a("span",{staticClass:"item-count-span"},[e._v(e._s(t.item.count))])]}}],null,!1,3870911933),model:{value:e.selected2,callback:function(t){e.selected2=t},expression:"selected2"}},[a("span",{staticClass:"firstElement",attrs:{slot:"prepend-item"},slot:"prepend-item"},[e._v("\n              Select multiple locations for separated analysis\n            ")])])],1):e._e(),"lineage"===e.field?a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("LineageTreeSelector",{staticStyle:{width:"100%"},attrs:{isLoading:e.isLoading,possibleValues:e.possibleValues2,type:"geo"}})],1):e._e()],1)],1)],1)],1)},Bt=[],Vt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{staticStyle:{"justify-content":"center"},attrs:{fluid:"","grid-list-xl":""}},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",position:"relative"}},[i("div",{staticStyle:{width:"300px",height:"400px","user-select":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)",padding:"0","background-color":"white","margin-bottom":"30px",border:"black solid 1px"},attrs:{id:e.nameField}}),e.chartBlocked?i("div",{staticStyle:{position:"absolute",top:"100px",width:"200px",height:"200px"}},[i("v-layout",{staticStyle:{height:"100%"},attrs:{wrap:"","justify-center":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",position:"relative"}},[i("h1",{staticStyle:{position:"absolute",top:"80%","text-align":"center"}},[e._v("MULTI TARGET")])]),i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",position:"relative"}},[i("h3",{staticStyle:{position:"absolute",top:"20%","text-align":"center"}},[e._v("A multiple target has already been selected")])])],1)],1):e.isLoading?i("div",{staticStyle:{position:"absolute",top:"100px",width:"200px",height:"200px"}},[i("v-img",{staticStyle:{"z-index":"1"},attrs:{src:a("ef03")}})],1):e.checkNoDataOrSelectLevelAbove()?i("div",{staticStyle:{position:"absolute",top:"100px",width:"200px",height:"200px"}},[i("v-layout",{staticStyle:{height:"100%"},attrs:{wrap:"","justify-center":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",position:"relative"}},["geo_group"===e.field?i("h3",{staticStyle:{position:"absolute",top:"50%","text-align":"center"}},[e._v("Please select a continent")]):"country"===e.field?i("h3",{staticStyle:{position:"absolute",top:"50%","text-align":"center"}},[e._v("Please select a continent to pick a country")]):"region"===e.field?i("h3",{staticStyle:{position:"absolute",top:"50%","text-align":"center"}},[e._v("Please select a country to pick a region")]):"province"===e.field?i("h3",{staticStyle:{position:"absolute",top:"50%","text-align":"center"}},[e._v("Please select a region to pick a province")]):e._e()]),"geo"===e.nameQuery?i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",position:"relative"}},[i("h3",{staticStyle:{position:"absolute",top:"50%","text-align":"center"}},[e._v("(multiple values may be selected here)")])]):e._e()],1)],1):0===e.fieldContent.length?i("div",{staticStyle:{position:"absolute",top:"100px",width:"200px",height:"200px"}},[i("v-layout",{staticStyle:{height:"100%"},attrs:{wrap:"","justify-center":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",position:"relative"}},[i("h3",{staticStyle:{position:"absolute",top:"50%","text-align":"center"}},[e._v("No other options to select")])])],1)],1):e._e()])],1)],1)],1)},jt=[],Ot={name:"SelectorsPieChart",props:{nameField:{required:!0},field:{required:!0},nameQuery:{required:!0},fieldContent:{required:!0},isLoading:{required:!0},pieChartBlocked:{required:!1}},data:function(){return{chartBlocked:!1,pieChart:{title:{},tooltip:{trigger:"item"},series:[{type:"pie",radius:"50%",cursor:"default",data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},my_chart:null}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])(["queryGeo","queryTime","queryFreeTarget","queryFreeBackground"])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])([])),Object(p["b"])([])),{},{renderGraph:function(e){if(this.chartBlocked=!!this.pieChartBlocked,this.chartBlocked)null!==this.my_chart&&(this.my_chart=L["a"](document.getElementById(this.nameField)),this.my_chart=null);else{for(var t=[],a=0,i=0;i<e.length;i++)a+=e[i]["value"];for(var n={name:"Others",value:0},s=0;s<e.length;s++)if(e[s]["value"]>.01*a){var r={name:e[s]["name"],value:e[s]["value"]};t.push(r)}else n["value"]=n["value"]+e[s]["value"];t=t.sort((function(e,t){var a=e["value"],i=t["value"];return a-i})),n["value"]>0&&t.push(n),this.pieChart.series[0].data=t,null===this.my_chart||this.my_chart.dispose(),this.my_chart=L["b"](document.getElementById(this.nameField)),this.my_chart.setOption(this.pieChart,!0)}},checkNoDataOrSelectLevelAbove:function(){if("time"===this.nameQuery){if("country"===this.nameField)return!this.queryTime["geo_group"];if("region"===this.nameField)return!this.queryTime["country"];if("province"===this.nameField)return!this.queryTime["region"]}else if("geo"===this.nameQuery){if("country"===this.field)return!this.queryGeo["geo_group"];if("region"===this.field)return!this.queryGeo["country"];if("province"===this.field)return!this.queryGeo["region"]}else if("freetarget"===this.nameQuery){if("country"===this.field)return!this.queryFreeTarget["geo_group"];if("region"===this.field)return!this.queryFreeTarget["country"];if("province"===this.field)return!this.queryFreeTarget["region"]}else if("freebackground"===this.nameQuery){if("country"===this.field)return!this.queryFreeBackground["geo_group"];if("region"===this.field)return!this.queryFreeBackground["country"];if("province"===this.field)return!this.queryFreeBackground["region"]}}}),mounted:function(){var e=[],t=0,a=this.fieldContent.length;while(t<a){var i={name:this.fieldContent[t]["value"],value:this.fieldContent[t]["count"]};e.push(i),t+=1}var n=JSON.parse(JSON.stringify(e));n.length>0?this.renderGraph(n):null!==this.my_chart&&(this.my_chart=L["a"](document.getElementById(this.nameField)),this.my_chart=null)},watch:{pieChartBlocked:function(){this.chartBlocked=!!this.pieChartBlocked},fieldContent:function(){var e=[],t=0,a=this.fieldContent.length;while(t<a){var i={name:this.fieldContent[t]["value"],value:this.fieldContent[t]["count"]};e.push(i),t+=1}var n=JSON.parse(JSON.stringify(e));n.length>0?this.renderGraph(n):null!==this.my_chart&&(this.my_chart=L["a"](document.getElementById(this.nameField)),this.my_chart=null)}}},It=Ot,Nt=Object(x["a"])(It,Vt,jt,!1,null,"55c442cf",null),qt=Nt.exports;b()(Nt,{VContainer:w["a"],VFlex:k["a"],VImg:lt["a"],VLayout:D["a"],VRow:E["a"]});var zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onClickOutside,expression:"onClickOutside"}]},[a("div",[a("v-text-field",{staticStyle:{position:"relative",width:"350px",padding:"0"},attrs:{label:e.labelLineage,solo:"","hide-details":"",loading:e.isLoading||e.isLoadingLineage,disabled:e.isLoading||e.isLoadingLineage},on:{click:e.clickOnTextField},scopedSlots:e._u([{key:"label",fn:function(){return["lineage"===e.labelLineage.toLowerCase()?a("div",{staticStyle:{color:"grey"},attrs:{id:"label1"+e.type}},[e._v(e._s(e.labelLineage))]):a("div",{staticStyle:{color:"black"},attrs:{id:"label2"+e.type}},[e._v(e._s(e.labelLineage))])]},proxy:!0},{key:"append",fn:function(){return[e.showLineages&&null!==e.search?a("v-icon",{attrs:{dark:"",color:"rgb(105,105,105)"},on:{click:function(t){return e.clearSearch()}}},[e._v("\n            mdi-close\n          ")]):e.showLineages||null===e.selectedLineage?e._e():a("v-icon",{attrs:{dark:"",color:"rgb(105,105,105)"},on:{click:e.clearSelectedLineage}},[e._v("\n            mdi-close\n          ")]),e.showLineages?a("v-icon",{staticStyle:{background:"radial-gradient(rgb(105,105,105), rgb(105,105,105), white, white, white)"},attrs:{dark:""},on:{click:e.onClickOutside}},[e._v("\n            mdi-arrow-up-drop-circle\n          ")]):a("v-icon",{staticStyle:{background:"radial-gradient(rgb(105,105,105), rgb(105,105,105), white, white, white)"},attrs:{dark:""},on:{click:e.clickOnTextField}},[e._v("\n            mdi-arrow-down-drop-circle\n          ")])]},proxy:!0}]),model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-card",{staticClass:"mx-auto scroll",staticStyle:{position:"absolute","margin-top":"1px","z-index":"1","border-radius":"0","box-shadow":"2px 2px 4px darkgrey"},attrs:{id:"dropDownLineages"+e.type,"max-height":"400px","min-width":"350px"}},[a("v-card-text",[a("v-treeview",{ref:"tree",attrs:{items:e.items,search:e.search,filter:e.filter,active:e.activeLineage,activatable:"",open:e.open,dense:""},on:{"update:active":function(t){e.activeLineage=t},"update:open":function(t){e.open=t}},scopedSlots:e._u([{key:"label",fn:function(t){var i=t.item;return[a("div",{staticStyle:{width:"100%",height:"100%"}},[a("span",{staticClass:"item-value-span"},[e._v(e._s(i.name))]),a("span",{staticClass:"item-count-span"},[e._v(e._s(i["count"]))])])]}}])})],1)],1)],1)},Lt=[],Rt=(a("841c"),{name:"LineageTreeSelector",props:{isLoading:{required:!0},possibleValues:{required:!0},type:{required:!0}},data:function(){return{showLineages:!1,selectedLineage:null,labelLineage:"lineage",caseSensitive:!1,isLoadingLineage:!1,deactivate:!1,activeLineage:[],items:[],open:[],allOpened:!1,lastOpen:[],search:null}},computed:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["e"])([])),Object(p["c"])({})),{},{filter:function(){return this.caseSensitive?function(e,t,a){return e[a].indexOf(t)>-1}:void 0}}),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])([])),Object(p["b"])(["setQueryTime","setQueryGeo","setQueryFreeTarget","setQueryFreeBackground"])),{},{saveItem:function(e){0===e.count?(this.activeLineage=[],this.deactivate=!0):(this.deactivate=!1,this.showLineages=!1,document.getElementById("dropDownLineages"+this.type)&&(document.getElementById("dropDownLineages"+this.type).style.display="none"),this.search=null,this.labelLineage=e.name,this.selectedLineage=e.name.split(" ")[0],this.open=[])},computeLineageTree:function(){var e=this;if(this.possibleValues&&this.possibleValues.length>0){this.isLoadingLineage=!0;var t="/analyze/getLineageTree",a={possibleLineages:this.possibleValues};s.a.post(t,a).then((function(e){return e.data})).then((function(t){e.isLoadingLineage=!1,e.items=t}))}},clickOnTextField:function(){this.showLineages=!0,document.getElementById("dropDownLineages"+this.type)&&(document.getElementById("dropDownLineages"+this.type).style.display="block")},onClickOutside:function(){this.showLineages=!1,this.search=null,this.open=[],document.getElementById("dropDownLineages"+this.type)&&(document.getElementById("dropDownLineages"+this.type).style.display="none")},clearSearch:function(){this.search=null},clearSelectedLineage:function(){this.isLoadingLineage=!0,this.search=null,this.activeLineage=[],this.labelLineage="lineage",this.selectedLineage=null;var e=0,t=this;setTimeout((function(){t.onClickOutside(),t.isLoadingLineage=!1}),e)},chechChildrenForId:function(e,t){for(var a=0;a<t.length;a+=1)t[a]["id"]===e?this.saveItem(t[a]):t[a]["children"].length>0&&this.chechChildrenForId(e,t[a]["children"])}}),watch:{possibleValues:function(){this.computeLineageTree()},search:function(){this.search?this.allOpened||(this.lastOpen=this.open,this.allOpened=!0,this.$refs.tree.updateAll(!0)):(this.$refs.tree.updateAll(!1),this.allOpened=!1,this.open=this.lastOpen)},selectedLineage:function(){"time"===this.type?this.setQueryTime({field:"lineage",list:this.selectedLineage}):"geo"===this.type?this.setQueryGeo({field:"lineage",list:this.selectedLineage}):"target"===this.type?this.setQueryFreeTarget({field:"lineage",list:this.selectedLineage}):"background"===this.type&&this.setQueryFreeBackground({field:"lineage",list:this.selectedLineage})},activeLineage:{handler:function(e,t){if(0!==e.length||null===this.selectedLineage||this.deactivate)for(var a=0;a<this.activeLineage.length;a+=1)for(var i=0;i<this.items.length;i+=1)this.items[i]["id"]===this.activeLineage[a]?this.saveItem(this.items[i]):this.items[i]["children"].length>0&&this.chechChildrenForId(this.activeLineage[a],this.items[i]["children"]);else this.activeLineage[0]=t[0]},deep:!0}},mounted:function(){this.computeLineageTree(),document.getElementById("dropDownLineages"+this.type).style.display="none"}}),Gt=Rt,Qt=(a("3f4d"),a("eb2a")),Jt=a("269a"),Ut=a.n(Jt),Ht=a("a293"),Wt=Object(x["a"])(Gt,zt,Lt,!1,null,"296a55d5",null),Yt=Wt.exports;b()(Wt,{VCard:C["a"],VCardText:T["b"],VIcon:A["a"],VTextField:V["a"],VTreeview:Qt["a"]}),Ut()(Wt,{ClickOutside:Ht["a"]});var Xt={name:"SelectorsQueryGeo",components:{LineageTreeSelector:Yt,SelectorsPieChart:qt},props:{field:{required:!0}},data:function(){return{selected2:null,possibleValues2:[],isLoading:!1,selectorDisabled:!1,pieChartBlocked:!1}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])(["queryGeo","startDateQueryGeo","stopDateQueryGeo"])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])([])),Object(p["b"])(["setQueryGeo"])),{},{getFieldText:function(e){var t="";return t=e["value"],t},loadData:function(){var e=this;if("province"===this.field&&!this.queryGeo["region"]||"region"===this.field&&!this.queryGeo["country"]||"country"===this.field&&!this.queryGeo["geo_group"])this.possibleValues2=[],this.isLoading=!1;else{this.isLoading=!0;var t="/analyze/selectorQuery",a=JSON.parse(JSON.stringify(this.queryGeo));a["geo_group"]&&(a["geo_group"]=a["geo_group"][0]),a["country"]&&(a["country"]=a["country"][0]),a["region"]&&(a["region"]=a["region"][0]),a["province"]&&(a["province"]=a["province"][0]);var i={};"geo_group"===this.field?(delete a["country"],delete a["region"],delete a["province"]):"country"===this.field?(delete a["region"],delete a["province"]):"region"===this.field&&delete a["province"],a["toExclude"]=[],i["field"]=this.field,i["query"]=a,s.a.post(t,i).then((function(e){return e.data})).then((function(t){e.possibleValues2=t,e.isLoading=!1}))}},checkMultiple:function(){return!("lineage"===this.field)},clearToExcludeField:function(){this.selected2=[],this.setQueryGeo({field:this.field,list:[]})}}),mounted:function(){this.loadData()},watch:{queryGeo:function(){this.pieChartBlocked=!1,("country"===this.field&&this.queryGeo["geo_group"]&&this.queryGeo["geo_group"].length>1||"region"===this.field&&(this.queryGeo["country"]&&this.queryGeo["country"].length>1||this.queryGeo["geo_group"]&&this.queryGeo["geo_group"].length>1)||"province"===this.field&&(this.queryGeo["region"]&&this.queryGeo["region"].length>1||this.queryGeo["country"]&&this.queryGeo["country"].length>1||this.queryGeo["geo_group"]&&this.queryGeo["geo_group"].length>1))&&(this.pieChartBlocked=!0),this.loadData()},selected2:function(){if(null!==this.selected2)if("lineage"===this.field)this.setQueryGeo({field:this.field,list:null}),this.setQueryGeo({field:this.field,list:this.selected2});else{this.setQueryGeo({field:this.field,list:[]});var e=JSON.parse(JSON.stringify(this.selected2));this.setQueryGeo({field:this.field,list:e})}else this.clearToExcludeField()},"queryGeo.geo_group":function(){"geo_group"!==this.field||this.queryGeo["geo_group"]&&0!==this.queryGeo["geo_group"].length||this.clearToExcludeField()},"queryGeo.country":function(){"country"!==this.field||this.queryGeo["country"]&&0!==this.queryGeo["country"].length||this.clearToExcludeField()},"queryGeo.region":function(){"region"!==this.field||this.queryGeo["region"]&&0!==this.queryGeo["region"].length||this.clearToExcludeField()},"queryGeo.province":function(){"province"!==this.field||this.queryGeo["province"]&&0!==this.queryGeo["province"].length||this.clearToExcludeField()}}},Zt=Xt,$t=(a("90b5"),Object(x["a"])(Zt,Et,Bt,!1,null,"0925c6e1",null)),Kt=$t.exports;b()($t,{VAutocomplete:vt["a"],VFlex:k["a"],VLayout:D["a"]});var ea=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{position:"relative",width:"95%"}},[i("v-container",{staticStyle:{"justify-content":"center","text-align":"center","z-index":"1"},attrs:{fluid:"","grid-list-xl":""}},[i("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"50px"}},[i("h2",[e._v("# GENOMES BY COLLECTION DATE ")]),i("v-btn",{staticStyle:{"margin-left":"20px","margin-bottom":"5px"},attrs:{"x-small":"",icon:""},on:{click:e.download}},[i("v-icon",{attrs:{size:"23"}},[e._v("\n                    mdi-download-circle-outline\n                  ")])],1)],1)],1),i("v-layout",{staticStyle:{"background-color":"white","margin-top":"30px","padding-top":"30px"},attrs:{row:"",wrap:"","justify-center":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 md4 d-flex",staticStyle:{"justify-content":"center","padding-left":"0","padding-right":"0"}},[i("v-btn-toggle",{attrs:{mandatory:"",color:"black"},model:{value:e.perc_or_absolute_num_exclusive,callback:function(t){e.perc_or_absolute_num_exclusive=t},expression:"perc_or_absolute_num_exclusive"}},[i("v-btn",{attrs:{small:""}},[i("span",[e._v("NUM SEQUENCES")])]),i("v-btn",{attrs:{small:""}},[i("span",[e._v("% SEQUENCES")])])],1)],1),i("v-flex",{staticClass:"no-horizontal-padding xs12 md4 d-flex",staticStyle:{"justify-content":"center",padding:"0"}}),i("v-flex",{staticClass:"no-horizontal-padding xs12 md4 d-flex",staticStyle:{"justify-content":"center","padding-left":"0","padding-right":"0"}},[i("v-btn-toggle",{attrs:{mandatory:"",color:"black"},model:{value:e.view_exclusive,callback:function(t){e.view_exclusive=t},expression:"view_exclusive"}},[i("v-btn",{attrs:{small:""}},[i("span",[e._v("SHOW "),i("span",{staticStyle:{color:"#457B9D"}},[e._v("TARGET")])])]),i("v-btn",{attrs:{small:""}},[i("span",[e._v("SHOW "),i("span",{staticStyle:{color:"#1D3557"}},[e._v("BACKGROUND")])])]),i("v-btn",{attrs:{small:""}},[i("span",[e._v("SHOW BOTH")])])],1)],1)],1),i("v-row",{staticStyle:{"z-index":"1","margin-top":"0"},attrs:{justify:"center",align:"center"}},[i("div",{staticStyle:{width:"100%",height:"500px","user-select":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)",padding:"0","border-width":"0","background-color":"white","margin-top":"0","z-index":"1"},attrs:{id:e.timeName}})])],1),e.overlay?i("div",{staticStyle:{position:"absolute",top:"200px",left:"40%",width:"20%",height:"20%"}},[i("v-img",{staticStyle:{"z-index":"1"},attrs:{src:a("ef03")}})],1):e._e(),i("v-container",{staticStyle:{"justify-content":"center","background-color":"white",width:"100%"},attrs:{fluid:"","grid-list-xl":""}},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center","padding-top":"0","padding-bottom":"0"}},[i("div",{staticStyle:{width:"100%","z-index":"3"}},[i("v-range-slider",{attrs:{min:"0",max:e.max_range,color:"#F48C0680","track-color":"grey",height:"2px"},model:{value:e.slider,callback:function(t){e.slider=t},expression:"slider"}})],1)]),i("v-flex",{staticClass:"no-horizontal-padding xs12  d-flex",staticStyle:{"justify-content":"center"}},[i("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs6 md4 lg2 d-flex",staticStyle:{"justify-content":"center"}},[i("v-select",{attrs:{items:e.possibleTarget,label:"Target",solo:"","hide-details":""},model:{value:e.selectedTarget,callback:function(t){e.selectedTarget=t},expression:"selectedTarget"}})],1)],1)],1)],1)],1),i("v-container",{staticStyle:{"justify-content":"center","background-color":"white",width:"100%"},attrs:{fluid:"","grid-list-xl":""}},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg6 d-flex",staticStyle:{"justify-content":"center"}},[i("v-card",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{color:"#457B9D"}},[i("v-card-text",[i("v-layout",{staticStyle:{"padding-bottom":"20px","padding-top":"5px"},attrs:{row:"",wrap:"","justify-space-around":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center",padding:"0",position:"relative","margin-top":"10px"}},[i("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("h3",{staticStyle:{color:"white","text-align":"center"}},[e._v("TARGET: ")])]),i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("v-text-field",{staticClass:"centered-input",attrs:{value:e.target_name,solo:"",readonly:"","hide-details":""}})],1)],1)],1),i("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center",padding:"0",position:"relative","margin-top":"10px"}},[i("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("h3",{staticStyle:{color:"white","text-align":"center"}},[e._v("NUM SEQUENCES TARGET: ")])]),i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("v-text-field",{staticClass:"centered-input",attrs:{value:e.num_sequences_target[e.targetIndex],solo:"",readonly:"","hide-details":""}})],1)],1)],1)],1)],1)],1)],1),i("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg6 d-flex",staticStyle:{"justify-content":"center"}},[i("v-card",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{color:"#1D3557"}},[i("v-card-text",[i("v-layout",{staticStyle:{"padding-bottom":"20px","padding-top":"5px"},attrs:{row:"",wrap:"","justify-space-around":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center",padding:"0",position:"relative","margin-top":"10px"}},[i("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("h3",{staticStyle:{color:"white","text-align":"center"}},[e._v("BACKGROUND: ")])]),i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("v-text-field",{staticClass:"centered-input",attrs:{value:e.background_name,solo:"",readonly:"","hide-details":""}})],1)],1)],1),i("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center",padding:"0",position:"relative","margin-top":"10px"}},[i("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("h3",{staticStyle:{color:"white","text-align":"center"}},[e._v("NUM SEQUENCES BACKGROUND: ")])]),i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("v-text-field",{staticClass:"centered-input",attrs:{value:e.num_sequences_background[e.targetIndex],solo:"",readonly:"","hide-details":""}})],1)],1)],1)],1),e.listLocationExcluded.length>0?i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",margin:"0",padding:"0",color:"white"}},[e._v("\n                * Location excluded from background : "+e._s(e.listLocationExcluded)+"\n              ")]):e._e()],1)],1)],1),i("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg6 d-flex",staticStyle:{"justify-content":"center"}},[i("v-card",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{color:"#F48C0680"}},[i("v-card-title",{staticClass:"justify-center",staticStyle:{margin:"0",padding:"0","margin-top":"5px !important","margin-bottom":"5px!important"}},[e._v("\n            TIME INTERVAL\n          ")]),i("v-card-text",[i("v-layout",{staticStyle:{"padding-bottom":"10px"},attrs:{row:"",wrap:"","justify-space-around":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center",padding:"0",position:"relative","margin-top":"10px"}},[i("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("h3",{staticStyle:{"text-align":"center"}},[e._v("START: ")])]),i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("v-text-field",{staticClass:"centered-input",attrs:{solo:"","hide-details":""},scopedSlots:e._u([{key:"append",fn:function(){return[e.wrong_last_start_date?i("v-icon",{attrs:{color:"#E63946"}},[e._v("\n                            mdi-close-circle\n                          ")]):i("v-icon",{attrs:{color:"#1D3557"}},[e._v("\n                            mdi-checkbox-marked-circle\n                          ")])]},proxy:!0}]),model:{value:e.last_start_date,callback:function(t){e.last_start_date=t},expression:"last_start_date"}})],1),i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("span",{staticStyle:{"text-align":"center"}},[e._v(" (input date using the YYYY-MM-DD format) ")])])],1)],1),i("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center",padding:"0",position:"relative","margin-top":"10px"}},[i("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("h3",{staticStyle:{"text-align":"center"}},[e._v("END: ")])]),i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("v-text-field",{staticClass:"centered-input",attrs:{solo:"","hide-details":""},scopedSlots:e._u([{key:"append",fn:function(){return[e.wrong_last_stop_date?i("v-icon",{attrs:{color:"#E63946"}},[e._v("\n                            mdi-close-circle\n                          ")]):i("v-icon",{attrs:{color:"#1D3557"}},[e._v("\n                            mdi-checkbox-marked-circle\n                          ")])]},proxy:!0}]),model:{value:e.last_stop_date,callback:function(t){e.last_stop_date=t},expression:"last_stop_date"}})],1),i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("span",{staticStyle:{"text-align":"center"}},[e._v(" (input date using the YYYY-MM-DD format) ")])])],1)],1)],1)],1)],1)],1)],1)],1),i("v-overlay",{attrs:{value:e.overlay}},[i("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],1)},ta=[],aa={name:"TimeSelectorQueryGeo",props:{timeName:{required:!0},filterDate:{required:!0}},data:function(){return{targetIndex:0,possibleTarget:[],selectedTarget:null,view_exclusive:2,perc_or_absolute_num_exclusive:0,startDateMultiMinor:null,locationToExclude:[],listLocationExcluded:[],overlay:!1,slider:[0,1500],left_ranges_width:10,total_ranges_width:80,max_range:0,timeContent:[],last_start_date:null,last_stop_date:null,num_sequences_target:[],num_sequences_background:[],wrong_last_start_date:!1,wrong_last_stop_date:!1,min_num_seq_target:50,min_num_seq_background:50,target_name:"World",background_name:"World",timeContentBackground:[],viewBackground:!1,viewTarget:!1,viewBothTargetBackground:!0,graphOnNumSequences:!0,graphOnPercSequences:!1,options_slider:{enableCross:!1},barChart:{title:{},tooltip:{trigger:"item"},legend:{data:["Target","Background","AVG of previous 7 days in target","AVG of previous 7 days in background"],top:"20px",selectedMode:!1,itemGap:50},series:[{type:"bar",name:"Background",radius:"50%",data:[],itemStyle:{color:"#1D3557"},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"#1D3557"}},markArea:{tooltip:{show:!1},data:[[{xAxis:0,itemStyle:{color:"#F48C0680"}},{xAxis:0}]]}},{type:"bar",name:"Target",radius:"50%",data:[],itemStyle:{color:"#457B9D"},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"#457B9D"}}},{name:"AVG of previous 7 days in target",type:"line",data:[],color:"#457B9D"},{name:"AVG of previous 7 days in background",type:"line",data:[],color:"#1D3557"}],xAxis:{type:"category",data:[]},yAxis:{type:"value"},dataZoom:[{type:"inside"}]},my_chart:null}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])(["queryGeo","startDateQueryGeo","stopDateQueryGeo","numLevelAboveBackground","toExcludeGeo"])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])(["setTimeRangesTargetAndBackground","setStartDateQueryGeo","setStopDateQueryGeo","setTrueErrorNumSeqQueryGeo","setFalseErrorNumSeqQueryGeo","setLocationToExcludeMulti"])),Object(p["b"])(["setQueryGeo"])),{},{download:function(){var e=this.my_chart.getConnectedDataURL({pixelRatio:2,backgroundColor:"white"}),t=document.createElement("a"),a="png",i="spatial_analysis_timeDistribution";if(this.queryGeo["lineage"]&&(i+="_"+this.queryGeo["lineage"]),null===this.selectedTarget||void 0===this.selectedTarget?i+="_World":i+="_"+this.selectedTarget,t.download=i+"."+a,t.target="_blank",t.href=e,"function"===typeof MouseEvent){var n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});t.dispatchEvent(n)}else{var s='<body style="margin:0;">![]('+e+")</body>",r=window.open();r.document.write(s)}},getDaysArray:function(e,t){for(var a=[],i=new Date(e);i<=t;i.setDate(i.getDate()+1)){var n=new Date(i).toISOString().slice(0,10);if(a.includes(n)||a.push(n),-1!==n.indexOf("-10-24")){var s=new Date(n);s.setDate(s.getDate()+1);var r=new Date(s).toISOString().slice(0,10);a.push(r)}}return a},renderGraphFilterDate:function(){var e=JSON.parse(JSON.stringify(this.timeContent[this.targetIndex])),t=JSON.parse(JSON.stringify(this.timeContentBackground[this.targetIndex]));this.renderGraph(e,t)},renderGraph:function(e,t){var a=e.length,i=0,n=[],s=[],r=[],o=[],l=[],c=0,d=0;while(i<a){var u=e[i],h=t[i];if(n.push(u["name"]),this.viewTarget||this.viewBothTargetBackground){var g=0;if(i-7>0)for(var p=8;p>0;p-=1)g+=parseInt(e[i-p]["value"]);c+=u["value"],o.push((g/7).toFixed(3)),r.push(u["value"])}if(this.viewBackground||this.viewBothTargetBackground){var f=0;if(i-7>0)for(var v=8;v>0;v-=1)f+=parseInt(t[i-v]["value"]);d+=h["value"],l.push(f/7),s.push(h["value"])}i+=1}if(this.graphOnPercSequences){for(var y=0;y<o.length;y+=1)r[y]=r[y]/c*100,o[y]=o[y]/c*100;for(var m=0;m<l.length;m+=1)s[m]=s[m]/d*100,l[m]=l[m]/d*100}this.barChart.series[0].data=s,this.barChart.series[1].data=r,this.barChart.series[2].data=o,this.barChart.series[3].data=l,this.barChart.xAxis.data=n,null===this.my_chart||this.my_chart.dispose(),this.my_chart=L["b"](document.getElementById(this.timeName)),this.my_chart.setOption(this.barChart,!0)},changeMarkerAndRender:function(e,t){e===t?t<this.max_range?(this.barChart.series[0].markArea.data[0][0].xAxis=e,this.barChart.series[0].markArea.data[0][1].xAxis=t+1):(this.barChart.series[0].markArea.data[0][0].xAxis=e-1,this.barChart.series[0].markArea.data[0][1].xAxis=t):(this.barChart.series[0].markArea.data[0][0].xAxis=e,this.barChart.series[0].markArea.data[0][1].xAxis=t),this.locationToExclude=[],this.setLocationToExcludeMulti(this.locationToExclude),this.num_sequences_target=[],this.num_sequences_background=[],this.setFalseErrorNumSeqQueryGeo();for(var a=0;a<this.timeContent.length;a+=1){var i=e;this.num_sequences_target[a]=0,this.num_sequences_background[a]=0;while(i<=t&&void 0!==this.timeContent[a][i]&&null!==this.timeContent[a][i])this.num_sequences_target[a]=this.num_sequences_target[a]+this.timeContent[a][i].value,this.num_sequences_background[a]=this.num_sequences_background[a]+this.timeContentBackground[a][i].value,i+=1;if(this.num_sequences_target[a]<this.min_num_seq_target||this.num_sequences_background[a]<this.min_num_seq_background){var n=JSON.parse(JSON.stringify(this.queryGeo));n["geo_group"]?n["country"]?n["region"]?n["province"]?this.locationToExclude.push(n["province"][a]):this.locationToExclude.push(n["region"][a]):this.locationToExclude.push(n["country"][a]):this.locationToExclude.push(n["geo_group"][a]):console.log("")}}this.locationToExclude.length===this.timeContent.length&&this.setTrueErrorNumSeqQueryGeo(),this.setLocationToExcludeMulti(this.locationToExclude),this.renderGraphFilterDate()},translateIndexToDate:function(e){if(this.timeContent[this.targetIndex][e])return this.timeContent[this.targetIndex][e].name},translateDateToIndex:function(e){var t=this.timeContent[this.targetIndex].findIndex((function(t){return t.name===e}));return t},loadData:function(){var e=this,t=JSON.parse(JSON.stringify(this.queryGeo)),a=[],i="";if(t["geo_group"]?t["country"]?t["region"]?t["province"]?(a=t["province"],i="province"):(a=t["region"],i="region"):(a=t["country"],i="country"):(a=t["geo_group"],i="geo_group"):(a=[],i=""),a.length>0?(this.possibleTarget=a,this.selectedTarget=a[0]):(this.possibleTarget=[],this.selectedTarget=null),a.length>1){var n=a.length,r=0,o=null,l=null,c=null;this.startDateMultiMinor=null,this.targetIndex=0,r<n&&this.loadDataMultipleTarget(r,n,i,o,l,c)}else{var d="/analyze/analyzeTimeDistributionCountryLineage";this.overlay=!0,t["geo_group"]&&(t["geo_group"]=t["geo_group"][0]),t["country"]&&(t["country"]=t["country"][0]),t["region"]&&(t["region"]=t["region"][0]),t["province"]&&(t["province"]=t["province"][0]),t["toExclude"]=[];var u={query:t};s.a.post(d,u).then((function(e){return e.data})).then((function(t){var a,i,n,r=[];0!==t.length&&(i=new Date(t[0]["name"]),n=new Date,n.setDate(n.getDate()+1),a=e.getDaysArray(i,n),a.forEach((function(e){var a=t.findIndex((function(t){return t["name"]===e}));if(-1===a){var i={name:e,value:0};r.push(i)}else{var n={name:e,value:t[a]["value"]};r.push(n)}}))),e.timeContent[0]=r,e.max_range=e.timeContent[0].length-1;var o=e,l=e.timeContent[0].findIndex((function(e){return e.name===o.last_start_date}));-1===l&&(l=0);var c=e.timeContent[0].findIndex((function(e){return e.name===o.last_stop_date}));-1===c&&(c=e.max_range);var d="/analyze/analyzeTimeDistributionBackgroundQueryGeo",u=JSON.parse(JSON.stringify(e.queryGeo)),h="";if(u["minDate"]=i.toISOString().slice(0,10),u["maxDate"]=n.toISOString().slice(0,10),u["toExclude"]=e.toExcludeGeo,u["geo_group"]&&(u["geo_group"]=u["geo_group"][0]),u["country"]&&(u["country"]=u["country"][0]),u["region"]&&(u["region"]=u["region"][0]),u["province"]&&(u["province"]=u["province"][0]),u["country"])if(u["region"])if(u["province"]){var g=["region","country","geo_group"],p=0,f=g.length;while(p<f&&p<e.numLevelAboveBackground-1)delete u[g[p]],p+=1;h="province"}else{var v=["country","geo_group"],y=0,m=v.length;while(y<m&&y<e.numLevelAboveBackground-1)delete u[v[y]],y+=1;h="region"}else{var x=["geo_group"],_=0,b=x.length;while(_<b&&_<e.numLevelAboveBackground-1)delete u[x[_]],_+=1;h="country"}else h="geo_group";var S={query:u,query_false:h};s.a.post(d,S).then((function(e){return e.data})).then((function(t){e.chosenApplied=!0,e.overlay=!1;var i=[];a.forEach((function(e){var a=t.findIndex((function(t){return t["name"]===e}));if(-1===a){var n={name:e,value:0};i.push(n)}else{var s={name:e,value:t[a]["value"]};i.push(s)}})),e.timeContentBackground[0]=i,e.targetIndex=0,e.slider=[l,c],e.last_start_date=e.translateIndexToDate(e.slider[0]),e.last_stop_date=e.translateIndexToDate(e.slider[1]),e.changeMarkerAndRender(e.slider[0],e.slider[0]),e.setStartDateQueryGeo(e.last_start_date),e.setStopDateQueryGeo(e.last_stop_date),e.overlay=!1}))}))}},loadDataMultipleTarget:function(e,t,a,i,n,r){var o=this,l="/analyze/analyzeTimeDistributionCountryLineage",c=JSON.parse(JSON.stringify(this.queryGeo));this.overlay=!0,c["geo_group"]&&(c["geo_group"]="geo_group"===a?c["geo_group"][e]:c["geo_group"][0]),c["country"]&&(c["country"]="country"===a?c["country"][e]:c["country"][0]),c["region"]&&(c["region"]="region"===a?c["region"][e]:c["region"][0]),c["province"]&&(c["province"]="province"===a?c["province"][e]:c["province"][0]),c["toExclude"]=[];var d={query:c};s.a.post(l,d).then((function(e){return e.data})).then((function(l){var c,d,u,h=[];0!==l.length&&(d=new Date(l[0]["name"]),(null===o.startDateMultiMinor||o.startDateMultiMinor>d)&&(o.startDateMultiMinor=d),null!==i&&d>i?d=i:i=d,u=new Date,u.setDate(u.getDate()+1),c=o.getDaysArray(d,u),c.forEach((function(e){var t=l.findIndex((function(t){return t["name"]===e}));if(-1===t){var a={name:e,value:0};h.push(a)}else{var i={name:e,value:l[t]["value"]};h.push(i)}}))),o.timeContent[e]=h;var g="/analyze/analyzeTimeDistributionBackgroundQueryGeo",p=JSON.parse(JSON.stringify(o.queryGeo)),f="";if(p["minDate"]=d.toISOString().slice(0,10),p["maxDate"]=u.toISOString().slice(0,10),p["toExclude"]=o.toExcludeGeo,p["geo_group"]&&(p["geo_group"]="geo_group"===a?p["geo_group"][e]:p["geo_group"][0]),p["country"]&&(p["country"]="country"===a?p["country"][e]:p["country"][0]),p["region"]&&(p["region"]="region"===a?p["region"][e]:p["region"][0]),p["province"]&&(p["province"]="province"===a?p["province"][e]:p["province"][0]),p["country"])if(p["region"])if(p["province"]){var v=["region","country","geo_group"],y=0,m=v.length;while(y<m&&y<o.numLevelAboveBackground-1)delete p[v[y]],y+=1;f="province"}else{var x=["country","geo_group"],_=0,b=x.length;while(_<b&&_<o.numLevelAboveBackground-1)delete p[x[_]],_+=1;f="region"}else{var S=["geo_group"],C=0,T=S.length;while(C<T&&C<o.numLevelAboveBackground-1)delete p[S[C]],C+=1;f="country"}else f="geo_group";var w={query:p,query_false:f};s.a.post(g,w).then((function(e){return e.data})).then((function(s){var l=[];if(c.forEach((function(e){var t=s.findIndex((function(t){return t["name"]===e}));if(-1===t){var a={name:e,value:0};l.push(a)}else{var i={name:e,value:s[t]["value"]};l.push(i)}})),o.timeContentBackground[e]=l,e+=1,e<t)o.loadDataMultipleTarget(e,t,a,i,n,r);else{for(var h=function(e){if(d=new Date(o.timeContent[e][0]["name"]),o.startDateMultiMinor<d){u=new Date,u.setDate(u.getDate()+1);var t=[];c=o.getDaysArray(o.startDateMultiMinor,u),c.forEach((function(a){var i=o.timeContent[e].findIndex((function(e){return e["name"]===a}));if(-1===i){var n={name:a,value:0};t.push(n)}else{var s={name:a,value:o.timeContent[e][i]["value"]};t.push(s)}})),o.timeContent[e]=t;var a=[];c.forEach((function(t){var i=o.timeContentBackground[e].findIndex((function(e){return e["name"]===t}));if(-1===i){var n={name:t,value:0};a.push(n)}else{var s={name:t,value:o.timeContentBackground[e][i]["value"]};a.push(s)}})),o.timeContentBackground[e]=a}},g=0;g<o.timeContent.length;g+=1)h(g);o.max_range<o.timeContent[o.targetIndex].length-1&&(o.max_range=o.timeContent[o.targetIndex].length-1);var p=o,f=o.timeContent[o.targetIndex].findIndex((function(e){return e.name===p.last_start_date}));-1===f&&(f=0);var v=o.timeContent[o.targetIndex].findIndex((function(e){return e.name===p.last_stop_date}));-1===v&&(v=o.max_range),o.slider=[f,v],o.last_start_date=o.translateIndexToDate(o.slider[0]),o.last_stop_date=o.translateIndexToDate(o.slider[1]),o.changeMarkerAndRender(o.slider[0],o.slider[0]),o.setStartDateQueryGeo(o.last_start_date),o.setStopDateQueryGeo(o.last_stop_date),o.chosenApplied=!0,o.overlay=!1}}))}))},setTargetBackgroundName:function(){var e=JSON.parse(JSON.stringify(this.queryGeo));this.listLocationExcluded=[];var t=Object.keys(this.toExcludeGeo)[0];if(e["geo_group"])if(e["country"])if(e["region"])if(e["province"]){var a=["region","country","geo_group"];this.target_name=e["province"][this.targetIndex];var i=a.length;this.numLevelAboveBackground>i?this.toExcludeGeo["geo_group"]&&this.toExcludeGeo["geo_group"].length>0?(this.background_name="World *",this.listLocationExcluded=this.toExcludeGeo["geo_group"]):this.background_name="World":this.toExcludeGeo[t]&&this.toExcludeGeo[t].length>0?(this.background_name=e[a[this.numLevelAboveBackground-1]]+" *",this.listLocationExcluded=this.toExcludeGeo[t]):this.background_name=e[a[this.numLevelAboveBackground-1]]}else{var n=["country","geo_group"];this.target_name=e["region"][this.targetIndex];var s=n.length;this.numLevelAboveBackground>s?this.toExcludeGeo["geo_group"]&&this.toExcludeGeo["geo_group"].length>0?(this.background_name="World *",this.listLocationExcluded=this.toExcludeGeo["geo_group"]):this.background_name="World":this.toExcludeGeo[t]&&this.toExcludeGeo[t].length>0?(this.background_name=e[n[this.numLevelAboveBackground-1]]+" *",this.listLocationExcluded=this.toExcludeGeo[t]):this.background_name=e[n[this.numLevelAboveBackground-1]]}else{var r=["geo_group"];this.target_name=e["country"][this.targetIndex];var o=r.length;this.numLevelAboveBackground>o?this.toExcludeGeo["geo_group"]&&this.toExcludeGeo["geo_group"].length>0?(this.background_name="World *",this.listLocationExcluded=this.toExcludeGeo["geo_group"]):this.background_name="World":this.toExcludeGeo[t]&&this.toExcludeGeo[t].length>0?(this.background_name=e[r[this.numLevelAboveBackground-1]]+" *",this.listLocationExcluded=this.toExcludeGeo[t]):this.background_name=e[r[this.numLevelAboveBackground-1]]}else this.target_name=e["geo_group"][this.targetIndex],this.toExcludeGeo["geo_group"]&&this.toExcludeGeo["geo_group"].length>0?(this.background_name="World *",this.listLocationExcluded=this.toExcludeGeo["geo_group"]):this.background_name="World";else this.target_name="World",this.background_name="World"}}),watch:{view_exclusive:function(){0===this.view_exclusive?(this.viewTarget=!0,this.viewBackground=!1,this.viewBothTargetBackground=!1):1===this.view_exclusive?(this.viewTarget=!1,this.viewBackground=!0,this.viewBothTargetBackground=!1):2===this.view_exclusive&&(this.viewTarget=!1,this.viewBackground=!1,this.viewBothTargetBackground=!0)},perc_or_absolute_num_exclusive:function(){0===this.perc_or_absolute_num_exclusive?(this.graphOnNumSequences=!0,this.graphOnPercSequences=!1):1===this.perc_or_absolute_num_exclusive&&(this.graphOnNumSequences=!1,this.graphOnPercSequences=!0)},selectedTarget:function(){var e=this,t=this.possibleTarget.findIndex((function(t){return t===e.selectedTarget}));-1!==t?this.targetIndex=t:(this.targetIndex=0,this.selectedTarget=this.possibleTarget[0])},targetIndex:function(){this.renderGraphFilterDate(),this.setTargetBackgroundName();var e=this.slider[0],t=this.slider[1];this.changeMarkerAndRender(e,t)},numLevelAboveBackground:function(){this.setTargetBackgroundName(),this.loadData()},last_start_date:function(){this.wrong_last_start_date=!1;var e=this.translateDateToIndex(this.last_start_date);if(-1===e||e>this.slider[1])this.wrong_last_start_date=!0;else{var t=this.slider[1];this.slider=[e,t]}},last_stop_date:function(){this.wrong_last_stop_date=!1;var e=this.translateDateToIndex(this.last_stop_date);if(-1===e||e<this.slider[0])this.wrong_last_stop_date=!0;else{var t=this.slider[0];this.slider=[t,e]}},timeContent:function(){},filterDate:function(){this.renderGraphFilterDate()},queryGeo:function(){this.setTargetBackgroundName(),this.loadData()},slider:function(){if(!this.overlay){var e=this.slider[0],t=this.slider[1];this.changeMarkerAndRender(e,t),this.last_start_date=this.translateIndexToDate(this.slider[0]),this.last_stop_date=this.translateIndexToDate(this.slider[1]),this.setStartDateQueryGeo(this.last_start_date),this.setStopDateQueryGeo(this.last_stop_date)}},viewBackground:function(){!0===this.viewBackground&&(this.viewTarget=!1,this.viewBothTargetBackground=!1),this.renderGraphFilterDate()},viewTarget:function(){!0===this.viewTarget&&(this.viewBackground=!1,this.viewBothTargetBackground=!1),this.renderGraphFilterDate()},viewBothTargetBackground:function(){!0===this.viewBothTargetBackground&&(this.viewBackground=!1,this.viewTarget=!1),this.renderGraphFilterDate()},graphOnNumSequences:function(){this.graphOnPercSequences=!0!==this.graphOnNumSequences,this.renderGraphFilterDate()},graphOnPercSequences:function(){this.graphOnNumSequences=!0!==this.graphOnPercSequences,this.renderGraphFilterDate()},toExcludeGeo:function(){this.setTargetBackgroundName(),this.loadData()}},mounted:function(){this.loadData()}},ia=aa,na=(a("f608"),a("a609")),sa=Object(x["a"])(ia,ea,ta,!1,null,"99397522",null),ra=sa.exports;b()(sa,{VBtn:S["a"],VBtnToggle:na["a"],VCard:C["a"],VCardText:T["b"],VCardTitle:T["c"],VContainer:w["a"],VFlex:k["a"],VIcon:A["a"],VImg:lt["a"],VLayout:D["a"],VOverlay:P["a"],VProgressCircular:M["a"],VRangeSlider:ct["a"],VRow:E["a"],VSelect:ie["a"],VTextField:V["a"]});var oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-autocomplete",{attrs:{items:e.possibleValues,label:"geo_group"===e.field?"continent":e.field,solo:"",clearable:"","hide-details":"","item-text":e.getFieldText,loading:e.isLoading,multiple:"",disabled:e.isLoading||0===e.possibleValues.length||null===e.field},scopedSlots:e._u([{key:"item",fn:function(t){return[a("span",{staticClass:"item-value-span"},[e._v(e._s(e.getFieldText(t.item)))]),a("span",{staticClass:"item-count-span"},[e._v(e._s(t.item.count))])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)],1)],1)],1)},la=[],ca={name:"SelectorQueryToExclude",props:{mode:{required:!0},field:{required:!0}},data:function(){return{possibleValues:[],isLoading:!1,selectorDisabled:!1,selected:[]}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])(["queryTime","toExcludeTime","queryGeo","toExcludeGeo","queryFreeTarget","toExcludeFreeTarget","queryFreeBackground","toExcludeFreeBackground"])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])([])),Object(p["b"])(["setToExcludeTime","setToExcludeGeo","setToExcludeFreeTarget","setToExcludeFreeBackground"])),{},{getFieldText:function(e){var t="";return t=e["value"],t},loadData:function(){var e,t=this;"time"===this.mode?e=JSON.parse(JSON.stringify(this.queryTime)):"geo"===this.mode?(e=JSON.parse(JSON.stringify(this.queryGeo)),e["geo_group"]&&(e["geo_group"]=e["geo_group"][0]),e["country"]&&(e["country"]=e["country"][0]),e["region"]&&(e["region"]=e["region"][0]),e["province"]&&(e["province"]=e["province"][0])):"freetarget"===this.mode?e=JSON.parse(JSON.stringify(this.queryFreeTarget)):"freebackground"===this.mode&&(e=JSON.parse(JSON.stringify(this.queryFreeBackground))),this.isLoading=!0;var a="/analyze/selectorQuery",i={};"geo_group"===this.field?(delete e["country"],delete e["region"],delete e["province"]):"country"===this.field?(delete e["region"],delete e["province"]):"region"===this.field&&delete e["province"],e["toExclude"]=[],i["field"]=this.field,i["query"]=e,s.a.post(a,i).then((function(e){return e.data})).then((function(e){t.possibleValues=[];for(var a=0;a<e.length;a+=1)t.possibleValues.push(e[a]);t.isLoading=!1}))},clearToExcludeField:function(){this.selected=[],"time"===this.mode?(this.setToExcludeTime({field:"geo_group",list:[]}),this.setToExcludeTime({field:"country",list:[]}),this.setToExcludeTime({field:"region",list:[]}),this.setToExcludeTime({field:"province",list:[]})):"geo"===this.mode?(this.setToExcludeGeo({field:"geo_group",list:[]}),this.setToExcludeGeo({field:"country",list:[]}),this.setToExcludeGeo({field:"region",list:[]}),this.setToExcludeGeo({field:"province",list:[]})):"freetarget"===this.mode?(this.setToExcludeFreeTarget({field:"geo_group",list:[]}),this.setToExcludeFreeTarget({field:"country",list:[]}),this.setToExcludeFreeTarget({field:"region",list:[]}),this.setToExcludeFreeTarget({field:"province",list:[]})):"freebackground"===this.mode&&(this.setToExcludeFreeBackground({field:"geo_group",list:[]}),this.setToExcludeFreeBackground({field:"country",list:[]}),this.setToExcludeFreeBackground({field:"region",list:[]}),this.setToExcludeFreeBackground({field:"province",list:[]}))}}),mounted:function(){null!==this.field&&this.loadData()},watch:{field:function(){null!==this.field&&(this.clearToExcludeField(),this.loadData())},queryTime:function(){"time"===this.mode&&null!==this.field&&(this.clearToExcludeField(),this.loadData())},queryGeo:function(){"geo"===this.mode&&null!==this.field&&(this.clearToExcludeField(),this.loadData())},queryFreeTarget:function(){"freetarget"===this.mode&&null!==this.field&&(this.clearToExcludeField(),this.loadData())},queryFreeBackground:function(){"freebackground"===this.mode&&null!==this.field&&(this.clearToExcludeField(),this.loadData())},selected:function(){null!==this.selected?"time"===this.mode?(this.setToExcludeTime({field:"geo_group",list:[]}),this.setToExcludeTime({field:"country",list:[]}),this.setToExcludeTime({field:"region",list:[]}),this.setToExcludeTime({field:"province",list:[]}),this.setToExcludeTime({field:this.field,list:this.selected})):"geo"===this.mode?(this.setToExcludeGeo({field:"geo_group",list:[]}),this.setToExcludeGeo({field:"country",list:[]}),this.setToExcludeGeo({field:"region",list:[]}),this.setToExcludeGeo({field:"province",list:[]}),this.setToExcludeGeo({field:this.field,list:this.selected})):"freetarget"===this.mode?(this.setToExcludeFreeTarget({field:"geo_group",list:[]}),this.setToExcludeFreeTarget({field:"country",list:[]}),this.setToExcludeFreeTarget({field:"region",list:[]}),this.setToExcludeFreeTarget({field:"province",list:[]}),this.setToExcludeFreeTarget({field:this.field,list:this.selected})):"freebackground"===this.mode&&(this.setToExcludeFreeBackground({field:"geo_group",list:[]}),this.setToExcludeFreeBackground({field:"country",list:[]}),this.setToExcludeFreeBackground({field:"region",list:[]}),this.setToExcludeFreeBackground({field:"province",list:[]}),this.setToExcludeFreeBackground({field:this.field,list:this.selected})):this.clearToExcludeField()}}},da=ca,ua=(a("de24"),Object(x["a"])(da,oa,la,!1,null,"64e337f0",null)),ha=ua.exports;b()(ua,{VAutocomplete:vt["a"],VFlex:k["a"],VLayout:D["a"]});var ga=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticStyle:{"justify-content":"center","z-index":"1",width:"1500px",position:"relative"},attrs:{fluid:"","grid-list-xl":""}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"50px"}},[a("h2",[e._v("HEATMAP\n      "),null!==e.my_chart?a("v-btn",{staticStyle:{"margin-left":"20px","margin-bottom":"5px"},attrs:{"x-small":"",icon:""},on:{click:e.download}},[a("v-icon",{attrs:{size:"23"}},[e._v("\n              mdi-download-circle-outline\n            ")])],1):e._e()],1)]),a("v-flex",{staticClass:"no-horizontal-padding xs8 md4 lg2 d-flex",staticStyle:{"justify-content":"center"}},[a("v-autocomplete",{attrs:{items:e.possibleHeatmapMode,label:"Heatmap mode",solo:"","hide-details":""},model:{value:e.heatmapMode,callback:function(t){e.heatmapMode=t},expression:"heatmapMode"}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",position:"relative"}},[a("v-row",{staticStyle:{"z-index":"1"},attrs:{justify:"center",align:"center"}},[a("div",{staticStyle:{width:"100%",height:"500px","user-select":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)",padding:"0","border-width":"0","background-color":"white","z-index":"1"},attrs:{id:e.nameHeatmap}})]),e.errorShow?a("div",{staticStyle:{position:"absolute",top:"50px",width:"500px",height:"200px"}},[a("v-layout",{staticStyle:{height:"100%"},attrs:{wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",position:"relative"}},[a("h1",{staticStyle:{position:"absolute",top:"10%","text-align":"center","z-index":"1",color:"#E63946"}},[e._v("TOO MANY ROWS")]),a("h3",{staticStyle:{position:"absolute",top:"40%","text-align":"center","z-index":"1",color:"#E63946"}},[e._v("Please select some filters of amino acid changes to reduce the number of rows")])])],1)],1):e.errorNoData?a("div",{staticStyle:{position:"absolute",top:"50px",width:"500px",height:"200px"}},[a("v-layout",{staticStyle:{height:"100%"},attrs:{wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",position:"relative"}},[a("h1",{staticStyle:{position:"absolute",top:"10%","text-align":"center","z-index":"1"}},[e._v("NO DATA")]),a("h3",{staticStyle:{position:"absolute",top:"40%","text-align":"center","z-index":"1"}},[e._v("No data to show")])])],1)],1):e._e()],1),e.errorShow||e.errorNoData||"Odds ratio"!==e.heatmapMode?e._e():a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",position:"absolute",right:"40%",bottom:"90px","z-index":"1"}},[a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                "+e._s(e.heatmapMode)+"\n              ")]),a("v-card-text",{staticStyle:{"margin-top":"10px"}},["Odds ratio"===e.heatmapMode?a("span",[e._v("\n                      Minimum value is 0. Maximum value is the maximum number that the odds ratio reaches, before becoming infinite.\n                  ")]):e._e()])],1)],1)],1)],1)],1)},pa=[],fa={name:"HeatmapMultipleAnalysis",props:{nameHeatmap:{required:!0},contentHeatmap:{required:!0},fixedContent:{required:!0},maxOddsRatio:{required:!0},importantMutation:{required:!0},type:{required:!0}},data:function(){return{overlay:!1,x_axis:[],y_axis:[],data_inside_heatmap:[],array_values:[],row:[],header:[],errorShow:!1,errorNoData:!1,heatmapMode:"% Target",possibleHeatmapMode:["% Target","% Target - % Background","Odds ratio"],options_slider:{enableCross:!1},heatmap:{tooltip:{position:"top",trigger:"item",formatter:function(e){var t='<div style="text-align: center; padding: 0; margin: 0;">'.concat(e.data[3],"</div>");return"".concat(t,"\n                    ").concat(e.name,": ").concat(e.data[2]," (").concat(e.data[4],"%)<br />")},borderWidth:"6"},grid:{top:100},xAxis:{type:"category",data:this.x_axis,splitArea:{show:!0},axisLabel:{interval:"0",rotate:"-90"}},yAxis:{type:"category",data:this.y_axis,splitArea:{show:!0},axisLabel:{interval:"0",formatter:function(e,t){return"{".concat(t,"|").concat(e,"}")},rich:{}}},visualMap:{min:0,max:100,calculable:!0,orient:"horizontal",left:"center",bottom:"0px",inRange:{color:["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"]}},series:[{name:"Distribution",type:"heatmap",data:this.data_inside_heatmap,itemStyle:{borderColor:"white"},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},my_chart:null}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])(["queryTime","queryGeo","startDateQueryGeo","stopDateQueryGeo"])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])([])),Object(p["b"])([])),{},{download:function(){var e=this.my_chart.getConnectedDataURL({pixelRatio:2,backgroundColor:"white"}),t=document.createElement("a"),a="png",i="";if("time"===this.type?this.contentHeatmap.length>0&&(i="temporal_analysis_heatmap_"+this.heatmapMode+"_",this.queryTime["lineage"]&&(i+=this.queryTime["lineage"]+"_"),i+="("+this.contentHeatmap[0][0]["target"]+")_",this.contentHeatmap.length>2&&(i+="etc_"),i+="("+this.contentHeatmap[this.contentHeatmap.length-1][0]["target"]+")_",this.queryTime["geo_group"]?this.queryTime["country"]?this.queryTime["region"]?this.queryTime["province"]?i+=this.queryTime["province"]:i+=this.queryTime["region"]:i+=this.queryTime["country"]:i+=this.queryTime["geo_group"]:i+="World"):"geo"===this.type&&this.contentHeatmap.length>0&&(i="spatial_analysis_heatmap_"+this.heatmapMode+"_",this.queryTime["lineage"]&&(i+=this.queryTime["lineage"]+"_"),i+="("+this.contentHeatmap[0][0]["target"]+")_",this.contentHeatmap.length>2&&(i+="etc_"),i+="("+this.contentHeatmap[this.contentHeatmap.length-1][0]["target"]+")_",i+=this.startDateQueryGeo+"_"+this.stopDateQueryGeo),t.download=i+"."+a,t.target="_blank",t.href=e,"function"===typeof MouseEvent){var n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});t.dispatchEvent(n)}else{var s='<body style="margin:0;">![]('+e+")</body>",r=window.open();r.document.write(s)}},renderGraph:function(){var e=this;this.x_axis=[],this.y_axis=[];for(var t=[],a=!1,i={},n=function(i){e.x_axis.push(e.fixedContent[i][0]["target"].replace("//"," // "));for(var n=function(n){if(e.contentHeatmap[i].length>500)return a=!0,"break";var s=e,r=t.findIndex((function(e){return e["mutation"]===s.contentHeatmap[i][n]["mutation"]}));if(-1===r){var o={mutation:e.contentHeatmap[i][n]["mutation"],mutation_position:e.contentHeatmap[i][n]["mutation_position"]};t.push(o)}},s=0;s<e.contentHeatmap[i].length;s+=1){var r=n(s);if("break"===r)break}},s=0;s<this.contentHeatmap.length;s+=1)n(s);this.my_chart=L["a"](document.getElementById(this.nameHeatmap)),this.my_chart=null,this.errorShow=!1,this.errorNoData=!1,t=t.sort((function(e,t){var a=parseInt(e["mutation_position"]),i=parseInt(t["mutation_position"]);return a>i?-1:1}));for(var r=0;r<t.length;r+=1)this.y_axis.push(t[r]["mutation"]),this.importantMutation["mutation"].includes(t[r]["mutation"])?i[r]={backgroundColor:"red",color:"white",padding:3}:this.importantMutation["additional_mutation"].includes(t[r]["mutation"])?i[r]={backgroundColor:"orange",color:"white",padding:3}:i[r]={backgroundColor:"transparent",color:"rgb(104,104,104)"};this.data_inside_heatmap=[];for(var o=0;o<this.contentHeatmap.length;o+=1)for(var l=function(t){var a=e.y_axis[t],i=e.contentHeatmap[o],n=void 0,s=void 0,r=i.findIndex((function(e){return e["mutation"]===a}));-1!==r?"% Target"===e.heatmapMode?(n=e.contentHeatmap[o][r]["numerator_target"],s=e.contentHeatmap[o][r]["percentage_target"],e.heatmap.visualMap.min=0,e.heatmap.visualMap.max=100,e.heatmap.tooltip.formatter=function(e){var t='<div style="text-align: center; padding: 0; margin: 0;"><b>'.concat(e.data[3],"</b></div>");return"".concat(t,"<br>\n                        <b>").concat(e.name,"</b><br>\n                         <b>num sequences target:</b> ").concat(e.data[2],"<br>\n                         <b>% target:</b> ").concat(e.data[4],"%<br />")}):"% Target - % Background"===e.heatmapMode?(n=e.contentHeatmap[o][r]["percentage_target"],s=e.contentHeatmap[o][r]["percentage_target"]-e.contentHeatmap[o][r]["percentage_background"],e.heatmap.visualMap.min=-10,e.heatmap.visualMap.max=10,e.heatmap.tooltip.formatter=function(e){var t='<div style="text-align: center; padding: 0; margin: 0;"><b>'.concat(e.data[3],"</b></div>");return"".concat(t,"<br>\n                        <b>").concat(e.name,"</b><br>\n                        <b>% target - % background:</b> ").concat(e.data[4],"%<br>\n                        <b>% target:</b> ").concat(e.data[2],"%<br />")}):"Odds ratio"===e.heatmapMode&&(n=e.contentHeatmap[o][r]["percentage_target"],s=e.contentHeatmap[o][r]["odd_ratio"],e.heatmap.visualMap.min=0,e.heatmap.visualMap.max=e.maxOddsRatio,e.heatmap.tooltip.formatter=function(e){var t='<div style="text-align: center; padding: 0; margin: 0;"><b>'.concat(e.data[3],"</b></div>");return"".concat(t,"<br>\n                        <b>").concat(e.name,":</b><br>\n                        <b>odds ratio:</b> ").concat(e.data[4]," <br>\n                        <b>% target:</b> ").concat(e.data[2],"%<br />")}):(n="-",s="-");var l=[o,t,n,a,s];e.data_inside_heatmap.push(l)},c=0;c<this.y_axis.length;c+=1)l(c);this.heatmap.yAxis.axisLabel.rich=i;var d=document.getElementById(this.nameHeatmap),u=20*this.y_axis.length+300;if(d.style["height"]=(u+100).toString()+"px",d.style["width"]="100%",this.heatmap.xAxis.data=this.x_axis,this.heatmap.yAxis.data=this.y_axis,this.heatmap.series[0].data=this.data_inside_heatmap,this.y_axis.length>150&&(a=!0),a||0===t.length)if(0===t.length){var h=document.getElementById(this.nameHeatmap);h.style["height"]="200px",h.style["width"]="500px",this.errorShow=!1,this.errorNoData=!0}else{var g=document.getElementById(this.nameHeatmap);g.style["height"]="200px",g.style["width"]="500px",this.errorShow=!0,this.errorNoData=!1}else null===this.my_chart||this.my_chart.dispose(),this.my_chart=L["b"](document.getElementById(this.nameHeatmap),null,{height:u}),this.heatmap.grid.height=20*this.y_axis.length,this.my_chart.setOption(this.heatmap,!0)}}),mounted:function(){this.renderGraph()},watch:{contentHeatmap:function(){this.renderGraph()},heatmapMode:function(){this.renderGraph()},importantMutation:function(){this.renderGraph()}}},va=fa,ya=Object(x["a"])(va,ga,pa,!1,null,"7e1ce8d4",null),ma=ya.exports;b()(ya,{VAutocomplete:vt["a"],VBtn:S["a"],VCard:C["a"],VCardText:T["b"],VCardTitle:T["c"],VContainer:w["a"],VDialog:F["a"],VFlex:k["a"],VIcon:A["a"],VLayout:D["a"],VRow:E["a"]});var xa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",[e._v("See "),a("a",{on:{click:function(t){e.dialogImportantMutation=!0}}},[e._v("here")]),e._v(" for a more detailed explanation.")]),a("v-dialog",{attrs:{persistent:"",width:"800"},model:{value:e.dialogImportantMutation,callback:function(t){e.dialogImportantMutation=t},expression:"dialogImportantMutation"}},[a("v-card",[a("v-card-title",{staticClass:"headline",staticStyle:{"background-color":"#A8DADC"}},[e._v("\n          Changes to Highlight\n          "),a("v-spacer"),a("v-btn",{staticStyle:{"background-color":"rgb(122, 139, 157)"},attrs:{slot:"activator",icon:"",small:"",color:"white"},on:{click:function(t){e.dialogImportantMutation=!e.dialogImportantMutation}},slot:"activator"},[a("v-icon",[e._v("mdi-close")])],1)],1),a("v-card-text",{staticStyle:{padding:"50px"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"20px","margin-bottom":"10px"}},[a("h3",[e._v(" Legend: ")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-bottom":"50px"}},[a("span",[a("v-icon",{staticClass:"white--text info-button-green",attrs:{slot:"activator",text:"",icon:"",color:"green"},slot:"activator"},[e._v("mdi-circle")]),e._v("\n                All targets have the related change"),a("br"),a("v-icon",{staticClass:"white--text info-button-green",attrs:{slot:"activator",text:"",icon:"",color:"orange"},slot:"activator"},[e._v("mdi-circle")]),e._v("\n                Only some of the targets have the related change (click to see which ones)"),a("br"),a("v-icon",{staticClass:"white--text info-button-green",attrs:{slot:"activator",text:"",icon:"",color:"red"},slot:"activator"},[e._v("mdi-circle")]),e._v("\n                None of the targets have the related change"),a("br")],1)]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[e.importantMutationECDC["mutation"].length>0||e.importantMutationECDC["additional_mutation"].length>0?a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"20px","margin-bottom":"50px"}},[a("h2",[e._v("ECDC changes (Spike): ")])]),e._l(e.importantMutationECDC,(function(t,i,n){return a("v-flex",{key:n,staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"100%",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},["mutation"===i.toLowerCase()?a("span",{staticStyle:{padding:"5px","background-color":"red",color:"white"}},[e._v("\n                          CORE CHANGES\n                        ")]):"additional_mutation"===i.toLowerCase()?a("span",{staticStyle:{padding:"5px","background-color":"orange",color:"white"}},[e._v("\n                          ADDITIONAL CHANGES\n                        ")]):e._e()]),a("v-card-text",{staticStyle:{"text-align":"center"}},e._l(t,(function(t){return a("span",{key:t},[a("span",[e._v(e._s(t))]),e.checkAllMutations[t]===e.totalTargets?a("span",{staticStyle:{display:"inline","margin-left":"5px"}},[a("v-icon",{staticClass:"white--text info-button-green",attrs:{slot:"activator",text:"",icon:"",color:"green"},slot:"activator"},[e._v("mdi-circle")])],1):0===e.checkAllMutations[t]?a("span",{staticStyle:{display:"inline","margin-left":"5px"}},[a("v-icon",{staticClass:"white--text info-button-green",attrs:{slot:"activator",text:"",icon:"",color:"red"},slot:"activator"},[e._v("mdi-circle")])],1):a("span",{staticStyle:{display:"inline","margin-left":"5px"}},[a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"white--text info-button",attrs:{slot:"activator",small:"",text:"",icon:"",color:"orange"},slot:"activator"},i),[a("v-icon",[e._v("mdi-circle")])],1)]}}],null,!0)},[a("v-card",{attrs:{width:"500"}},[a("v-card-title",{staticClass:"headline",staticStyle:{"background-color":"#A8DADC",color:"white"}},[e._v("TARGET WITH THE CHANGE: ")]),a("v-card-text",{staticStyle:{"margin-top":"30px","text-align":"center"}},e._l(e.checkTargetsForAllMutations[t],(function(t){return a("span",{key:t},[e._v("\n                                       "+e._s(t)+" "),a("br"),a("br")])})),0)],1)],1)],1),a("br")])})),0)],1)],1)}))],2):e._e()],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[e.importantMutation75Percentage["mutation"].length>0||e.importantMutation75Percentage["additional_mutation"].length>0?a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[e.importantMutationECDC["mutation"].length>0||e.importantMutationECDC["additional_mutation"].length>0?a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"100px"}}):e._e(),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","text-align":"center","margin-bottom":"50px"}},[e.rowsTable[0][0]&&"empty"===e.rowsTable[0][0]["lineage"]?a("h2",[e._v(" All lineages characteristic changes (present in 75% of sequences): ")]):e.rowsTable[0][0]?a("h2",[e._v(" Lineage "+e._s(e.rowsTable[0][0]["lineage"])+" characteristic changes (present in 75% of lineage sequences): ")]):a("h2",[e._v("Changes present in 75% of sequences of the selected lineages: ")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"100%",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("span",{staticStyle:{padding:"5px","background-color":"red",color:"white"}},[e._v("CHANGES")])]),a("v-card-text",{staticStyle:{"text-align":"center"}},e._l(e.importantMutation75Percentage["mutation"],(function(t){return a("span",{key:t},[a("span",[e._v(e._s(t))]),e.checkAllMutations[t]===e.totalTargets?a("span",{staticStyle:{display:"inline","margin-left":"5px"}},[a("v-icon",{staticClass:"white--text info-button-green",attrs:{slot:"activator",text:"",icon:"",color:"green"},slot:"activator"},[e._v("mdi-circle")])],1):0===e.checkAllMutations[t]?a("span",{staticStyle:{display:"inline","margin-left":"5px"}},[a("v-icon",{staticClass:"white--text info-button-green",attrs:{slot:"activator",text:"",icon:"",color:"red"},slot:"activator"},[e._v("mdi-circle")])],1):a("span",{staticStyle:{display:"inline","margin-left":"5px"}},[a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"white--text info-button",attrs:{slot:"activator",small:"",text:"",icon:"",color:"orange"},slot:"activator"},i),[a("v-icon",[e._v("mdi-circle")])],1)]}}],null,!0)},[a("v-card",{attrs:{width:"500"}},[a("v-card-title",{staticClass:"headline",staticStyle:{"background-color":"#A8DADC",color:"white"}},[e._v("TARGET WITH THE CHANGE: ")]),a("v-card-text",{staticStyle:{"margin-top":"30px","text-align":"center"}},e._l(e.checkTargetsForAllMutations[t],(function(t){return a("span",{key:t},[e._v("\n                                           "+e._s(t)+" "),a("br"),a("br")])})),0)],1)],1)],1),a("br")])})),0)],1)],1)],1)],1)],1):e._e()],1)],1)],1)],1)],1)],1)},_a=[],ba={name:"ImportantMutation",props:{importantMutationECDC:{required:!0},importantMutation75Percentage:{required:!0},rowsTable:{required:!0}},methods:{analyzeMissingMutations:function(){var e=this;this.totalTargets=this.rowsTable.length,this.checkAllMutations={},this.checkTargetsForAllMutations={};for(var t=function(t){var a=void 0;0===t?a=e.importantMutationECDC["mutation"]:1===t?a=e.importantMutationECDC["additional_mutation"]:2===t?a=e.importantMutation75Percentage["mutation"]:3===t&&(a=e.importantMutation75Percentage["additional_mutation"]);for(var i=function(t){for(var i=0;i<e.totalTargets;i+=1){var n=a[t],s=e.rowsTable[i].findIndex((function(e){return e["mutation"]===a[t]}));-1!==s?e.checkAllMutations[n]?e.checkTargetsForAllMutations[n].includes(e.rowsTable[i][s]["target"])||(e.checkAllMutations[n]=e.checkAllMutations[n]+1,e.checkTargetsForAllMutations[n].push(e.rowsTable[i][s]["target"])):(e.checkAllMutations[n]=1,e.checkTargetsForAllMutations[n]=[],e.checkTargetsForAllMutations[n].push(e.rowsTable[i][s]["target"])):e.checkAllMutations[n]||(e.checkAllMutations[n]=0,e.checkTargetsForAllMutations[n]||(e.checkTargetsForAllMutations[n]=[]))}},n=0;n<a.length;n+=1)i(n)},a=0;a<4;a+=1)t(a)}},data:function(){return{dialogImportantMutation:!1,totalTargets:0,checkAllMutations:{},checkTargetsForAllMutations:{}}},mounted:function(){this.analyzeMissingMutations()},watch:{rowsTable:function(){this.analyzeMissingMutations()},importantMutationECDC:function(){this.analyzeMissingMutations()},importantMutation75Percentage:function(){this.analyzeMissingMutations()}}},Sa=ba,Ca=Object(x["a"])(Sa,xa,_a,!1,null,"21c37b17",null),Ta=Ca.exports;b()(Ca,{VBtn:S["a"],VCard:C["a"],VCardText:T["b"],VCardTitle:T["c"],VDialog:F["a"],VFlex:k["a"],VIcon:A["a"],VLayout:D["a"],VSpacer:B["a"]});var wa={name:"AnalyzeProvinceRegion",components:{ImportantMutation:Ta,HeatmapMultipleAnalysis:ma,SelectorQueryToExclude:ha,TimeSelectorQueryGeo:ra,SelectorsQueryGeo:Kt,PValueBarChart:Mt},data:function(){return{overlay:!1,num_sequences_forProvReg:null,selectedContinent_forProvReg:null,possibleContinent_forProvReg:[],selectedCountry_forProvReg:null,possibleCountry_forProvReg:[],selectedRegion_forProvReg:null,possibleRegion_forProvReg:[],selectedProvince_forProvReg:null,possibleProvince_forProvReg:[],headerTableProvReg:[],rowsTableProvReg:[],fixedRowsTableProvReg:[],sortByTableProvReg:["odd_ratio"],sortDescTableProvReg:[!0],geoSelectedName:"",geoSelectedContent:[],pValueName:[],pValueContent:[],p_value_lower:"<0.00001",tableApplied:!1,pValueBarChartApplied:!1,selectedProtein:[],possibleProtein:[],selectedProteinForPValue:null,possibleProteinForPValue:[],selectedProteinForTable:null,possibleProteinForTable:[],selectedMinBackgroundFrequency:0,selectedMaxBackgroundFrequency:100,selectedMinTargetFrequency:0,selectedMaxTargetFrequency:100,selectedMinPValue:0,selectedMaxPValue:1,selectedMinBackgroundNumerator:0,selectedMaxBackgroundNumerator:100,selectedMinTargetNumerator:0,selectedMaxTargetNumerator:100,selectedMinOddsRatio:0,selectedMaxOddsRatio:100,selectedMinPValueBarChart:0,selectedMaxPValueBarChart:1,totalMaxTargetNumerator:0,totalMaxBackgroundNumerator:0,totalMaxOddsRatio:0,isInfinite:!0,listAccessionIds:[],dialogAccessionIds:!1,possibleNumLevelAboveBackground:[],startStopProtein:{},selectedDomainForPValue:[],possibleDomainForPValue:[],begin_value_domain:[],end_value_domain:[],selectedDomainForPValueMutagenesis:[],possibleDomainForPValueMutagenesis:[],begin_value_domain_mutagenesis:[],end_value_domain_mutagenesis:[],selectedAllAaModifications:!1,selectedDomainForPValueAaModificationsFake:[],selectedDomainForPValueAaModifications:[],possibleDomainForPValueAaModifications:[],begin_value_domain_aa_modifications:[],end_value_domain_aa_modifications:[],possibleDomainForPValueUploaded:[],selectedDomainForPValueUploaded:[],selectedHeatmapMode:"% Target",possibleHeatmapMode:["% Target","% Target - % Background","Odds ratio"],selectedMinPercentageMutationPValue:0,selectedMaxPercentageMutationPValue:80,fieldToExclude:null,selectedTabTable:0,importantMutationECDC:{},importantMutation75Percentage:{},importantMutation:{},selectedTypeImportantMutation:"ECDC",possibleTypeImportantMutation:["ECDC","Present in 75% of the lineage (worldwide)"],fileDomainCSV:null,nameFileDomainCSV:null,accessionIdsTargetOrBackground:null,accessionIdsSingleMutation:null}},computed:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["e"])(["all_geo","all_protein","queryGeo","startDateQueryGeo","stopDateQueryGeo","errorNumSeqQueryGeo","numLevelAboveBackground","toExcludeGeo","colorPValueInfoBox","locationToExcludeMulti","color_1","color_2","color_3"])),Object(p["c"])({})),{},{selectedCountryToLower:function(){return null!==this.selectedCountry_forProvReg?this.selectedCountry_forProvReg.toLowerCase():this.selectedCountry_forProvReg},selectedNumLevelAboveBackground:{get:function(){return this.numLevelAboveBackground},set:function(e){this.setNumLevelAboveBackground(e)}}}),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])(["setNumLevelAboveBackground","setToExcludeGeo"])),Object(p["b"])(["setQueryGeo"])),{},{loadDomainCSV:function(){this.fileDomainCSV=null,this.nameFileDomainCSV=null,this.selectedDomainForPValueUploaded=[],this.possibleDomainForPValueUploaded=[];var e=new FileReader,t=document.getElementById("inputDomainCSVGeo").files[0];this.nameFileDomainCSV=t.name;var a=this;e.onload=function(){var t=e.result.replaceAll('"',""),i=a.CSVToJson(t);localStorage.setItem("uploadedDomainsGeo",i),localStorage.setItem("uploadedFileNameGeo",a.nameFileDomainCSV),a.calculateUploadedDomains()},e.readAsText(t)},CSVToJson:function(e){for(var t=e.split("\r\n"),a=[],i=t[0].split(","),n=1;n<t.length;n++){for(var s={},r=t[n].split(","),o=0;o<i.length;o++)"Begin"===i[o]||"End"===i[o]?s[i[o]]=parseInt(r[o]):s[i[o]]=r[o];a.push(s)}return JSON.stringify(a)},deleteDomainCSV:function(){this.fileDomainCSV=null,this.nameFileDomainCSV=null,this.selectedDomainForPValueUploaded=[],this.possibleDomainForPValueUploaded=[],localStorage.setItem("uploadedDomainsGeo",JSON.stringify([])),localStorage.setItem("uploadedFileNameGeo",null),this.calculateUploadedDomains()},calculateUploadedDomains:function(){var e=localStorage.getItem("uploadedFileNameGeo");null===e||"null"===e?(this.fileDomainCSV=null,this.nameFileDomainCSV=null):(this.fileDomainCSV=JSON.parse(localStorage.getItem("uploadedDomainsGeo")),this.nameFileDomainCSV=localStorage.getItem("uploadedFileNameGeo"),this.pValueBarChartApplied&&this.calculatePossibleAndSelectedUploadedDomain())},calculatePossibleAndSelectedUploadedDomain:function(){var e=this;this.possibleDomainForPValueUploaded=this.fileDomainCSV.filter((function(t){return t["Protein"]===e.selectedProteinForPValue}));for(var t=0;t<this.possibleDomainForPValueUploaded.length;t+=1){var a=this.possibleDomainForPValueUploaded[t]["Description"]+" / ("+this.possibleDomainForPValueUploaded[t]["Begin"]+" , "+this.possibleDomainForPValueUploaded[t]["End"]+")";this.selectedDomainForPValueUploaded.push(a)}},downloadExampleCSV:function(){var e="",t=[{Protein:"Spike",Description:"Receptor-binding Domain (RBD)",Begin:319,End:541},{Protein:"Spike",Description:"Receptor-binding Motif (RBM)",Begin:438,End:506},{Protein:"M",Description:"Whole protein",Begin:1,End:222},{Protein:"E",Description:"Whole protein",Begin:1,End:75},{Protein:"N",Description:"Whole protein",Begin:1,End:419},{Protein:"ORF10",Description:"Whole protein",Begin:1,End:38},{Protein:"NSP16",Description:"Whole protein",Begin:1,End:298},{Protein:"NSP3",Description:"Whole protein",Begin:1,End:1945},{Protein:"NSP4",Description:"Whole protein",Begin:1,End:500},{Protein:"NSP15",Description:"Whole protein",Begin:1,End:346},{Protein:"NSP5",Description:"Whole protein",Begin:1,End:306},{Protein:"NSP14",Description:"Whole protein",Begin:1,End:527},{Protein:"NSP11",Description:"Whole protein",Begin:1,End:13},{Protein:"NSP13",Description:"Whole protein",Begin:1,End:601},{Protein:"NSP6",Description:"Whole protein",Begin:1,End:290},{Protein:"NSP7",Description:"Whole protein",Begin:1,End:84},{Protein:"NSP8",Description:"Whole protein",Begin:1,End:198},{Protein:"NSP9",Description:"Whole protein",Begin:1,End:113},{Protein:"NSP12",Description:"Whole protein",Begin:1,End:932},{Protein:"ORF1ab",Description:"Whole protein",Begin:1,End:7096},{Protein:"NSP10",Description:"Whole protein",Begin:1,End:138},{Protein:"NSP1",Description:"Whole protein",Begin:1,End:180},{Protein:"ORF1a",Description:"Whole protein",Begin:1,End:4405},{Protein:"NSP2",Description:"Whole protein",Begin:1,End:638},{Protein:"NS3",Description:"Whole protein",Begin:1,End:275},{Protein:"NS6",Description:"Whole protein",Begin:1,End:61},{Protein:"NS7a",Description:"Whole protein",Begin:1,End:121},{Protein:"NS7b",Description:"Whole protein",Begin:1,End:43},{Protein:"NS8",Description:"Whole protein",Begin:1,End:121}],a=[{text:"Protein",value:"Protein"},{text:"Description",value:"Description"},{text:"Begin",value:"Begin"},{text:"End",value:"End"}];e=this.json2csvDomains(t,a);var i="exampleDomain.csv",n=document.createElement("a");n.setAttribute("download",i);var s=new Blob([e]);n.href=URL.createObjectURL(s),document.body.appendChild(n),n.click(),document.body.removeChild(n)},computeFieldToExclude:function(){var e=this.selectedNumLevelAboveBackground;this.queryGeo["province"]?1===e?this.fieldToExclude="province":2===e?this.fieldToExclude="region":3===e?this.fieldToExclude="country":4===e&&(this.fieldToExclude="geo_group"):this.queryGeo["region"]?1===e?this.fieldToExclude="region":2===e?this.fieldToExclude="country":3===e&&(this.fieldToExclude="geo_group"):this.queryGeo["country"]?1===e?this.fieldToExclude="country":2===e&&(this.fieldToExclude="geo_group"):this.queryGeo["geo_group"]?1===e&&(this.fieldToExclude="geo_group"):this.fieldToExclude=null},filter:function(){for(var e=this,t=[],a=0;a<this.rowsTableProvReg.length;a+=1){var i=JSON.parse(JSON.stringify(this.fixedRowsTableProvReg[a]));if(null!==this.selectedProteinForTable)(function(){var t=e;i=i.filter((function(e){var a=JSON.parse(JSON.stringify(e["percentage_background"])),i=JSON.parse(JSON.stringify(e["percentage_target"])),n=JSON.parse(JSON.stringify(e["p_value"])),s=JSON.parse(JSON.stringify(e["numerator_background"])),r=JSON.parse(JSON.stringify(e["numerator_target"])),o=JSON.parse(JSON.stringify(e["odd_ratio"])),l=JSON.parse(JSON.stringify(e["product"]));return a>=t.selectedMinBackgroundFrequency&&a<=t.selectedMaxBackgroundFrequency&&i>=t.selectedMinTargetFrequency&&i<=t.selectedMaxTargetFrequency&&n>=t.selectedMinPValue&&n<=t.selectedMaxPValue&&s>=t.selectedMinBackgroundNumerator&&s<=t.selectedMaxBackgroundNumerator&&r>=t.selectedMinTargetNumerator&&r<=t.selectedMaxTargetNumerator&&(o>=t.selectedMinOddsRatio&&o<=t.selectedMaxOddsRatio||t.isInfinite&&o>t.totalMaxOddsRatio)&&l===t.selectedProteinForTable}))})();else{var n=this;i=i.filter((function(e){var t=JSON.parse(JSON.stringify(e["percentage_background"])),a=JSON.parse(JSON.stringify(e["percentage_target"])),i=JSON.parse(JSON.stringify(e["p_value"])),s=JSON.parse(JSON.stringify(e["numerator_background"])),r=JSON.parse(JSON.stringify(e["numerator_target"])),o=JSON.parse(JSON.stringify(e["odd_ratio"]));return t>=n.selectedMinBackgroundFrequency&&t<=n.selectedMaxBackgroundFrequency&&a>=n.selectedMinTargetFrequency&&a<=n.selectedMaxTargetFrequency&&i>=n.selectedMinPValue&&i<=n.selectedMaxPValue&&s>=n.selectedMinBackgroundNumerator&&s<=n.selectedMaxBackgroundNumerator&&r>=n.selectedMinTargetNumerator&&r<=n.selectedMaxTargetNumerator&&(o>=n.selectedMinOddsRatio&&o<=n.selectedMaxOddsRatio||n.isInfinite&&o>n.totalMaxOddsRatio)}))}t[a]=i}this.rowsTableProvReg=t},downloadTable:function(e,t){var a="",i=this.sortResults(e,t);"table_prov_reg"===e&&(a=this.json2csv(i,this.headerTableProvReg));var n="noResult.csv";t.length>0&&(n="spatial_analysis_table_",this.queryGeo["lineage"]&&(n+=this.queryGeo["lineage"]+"_"),n+="("+t[0]["target"]+")_vs_("+t[0]["background"]+")",n+="_"+this.startDateQueryGeo+"_"+this.stopDateQueryGeo),n+=".csv";var s=document.createElement("a");s.setAttribute("download",n);var r=new Blob([a]);s.href=URL.createObjectURL(r),document.body.appendChild(s),s.click(),document.body.removeChild(s)},json2csvDomains:function(e,t){var a=e,i=[],n=[];t.forEach((function(e){i.push(e.text)})),t.forEach((function(e){n.push(e.value)}));var s=a.map((function(e){return n.map((function(t){var a;return"mutation_position"===t?(a=e["mutation"],("string"===typeof a||a instanceof String)&&(a=a.replaceAll("\n"," "))):(a=e[t],("string"===typeof a||a instanceof String)&&(a=a.replaceAll("\n"," "))),a})).join(",")}));return s.unshift(i.join(",")),s.join("\r\n")},json2csv:function(e,t){var a=e,i=[],n=[];t.forEach((function(e){i.push(e.text)})),t.forEach((function(e){n.push(e.value)}));var s=a.map((function(e){return n.map((function(t){var a;return"mutation_position"===t?(a=String(e["mutation"]),a=a.replaceAll("\n"," ")):(a=String(e[t]),a=a.replaceAll("\n"," ")),JSON.stringify(a)})).join(",")}));return s.unshift(i.join(",")),s.join("\r\n")},sortResults:function(e,t){var a,i,n,s;return"table_prov_reg"===e&&(a=this.sortByTableProvReg.length,i=this.sortByTableProvReg,n=this.sortDescTableProvReg,s=JSON.parse(JSON.stringify(t))),a>0?s.sort((function(e,t){var a=0,s=e[i[a]],r=t[i[a]];return!1===n[a]?s>r?1:-1:s<r?1:-1})):s},applyFilterOnTableProvReg:function(){this.filter()},applyTableProvReg:function(){var e=this;this.possibleProteinForPValue=[],this.headerTable=[],this.rowsTableProvReg=[],this.fixedRowsTableProvReg=[],this.importantMutation={},this.importantMutationECDC={};var t=JSON.parse(JSON.stringify(this.queryGeo)),a="/analyze/getImportantMutation",i=null;t["lineage"]&&(i=t["lineage"]);var n={lineage:i};s.a.post(a,n).then((function(e){return e.data})).then((function(a){e.importantMutationECDC=a,"ECDC"===e.selectedTypeImportantMutation&&(t["lineage"]?e.importantMutation=a:e.importantMutation={mutation:[],additional_mutation:[]})}));var r=[];r=0===this.selectedProtein.length?this.possibleProtein:this.selectedProtein;var o={lineage:i,proteins:r},l="/analyze/getAllImportantMutationPerLineage";s.a.post(l,o).then((function(e){return e.data})).then((function(t){var a={};a["mutation"]=t,a["additional_mutation"]=[],e.importantMutation75Percentage=a,"Present in 75% of the lineage (worldwide)"===e.selectedTypeImportantMutation&&(e.importantMutation=a)}));var c,d,u=JSON.parse(JSON.stringify(this.queryGeo));if(u["country"]?u["region"]?u["province"]?(c=u["province"],d="province"):(c=u["region"],d="region"):(c=u["country"],d="country"):(c=u["geo_group"],d="geo_group"),c.length>1){var h=c.length,g=0;this.headerTableProvReg=[{text:"mutation",value:"mutation_position",show:!0,align:"center",width:"23vh"},{text:"p_value",value:"p_value",show:!0,align:"center",width:"23vh"},{text:"odds_ratio",value:"odd_ratio",show:!0,align:"center",width:"23vh"},{text:"%_target",value:"percentage_target",show:!0,align:"center",width:"23vh"},{text:"%_background",value:"percentage_background",show:!0,align:"center",width:"23vh"}],g<h&&this.applyAnalysisMultipleTarget(g,h,d)}else{var p="/analyze/analyzeMutationProvinceRegion";this.overlay=!0;var f,v=[];if(v=null===this.selectedProtein?[]:this.selectedProtein,null!==this.startDateQueryGeo&&(u["minDate"]=this.startDateQueryGeo),null!==this.stopDateQueryGeo&&(u["maxDate"]=this.stopDateQueryGeo),u["geo_group"]&&(u["geo_group"]=u["geo_group"][0]),u["country"]&&(u["country"]=u["country"][0]),u["region"]&&(u["region"]=u["region"][0]),u["province"]&&(u["province"]=u["province"][0]),u["country"])if(u["region"])if(u["province"]){var y=["region","country","geo_group"],m=0,x=y.length;while(m<x&&m<this.numLevelAboveBackground-1)delete u[y[m]],m+=1;f="province"}else{var _=["country","geo_group"],b=0,S=_.length;while(b<S&&b<this.numLevelAboveBackground-1)delete u[_[b]],b+=1;f="region"}else{var C=["geo_group"],T=0,w=C.length;while(T<w&&T<this.numLevelAboveBackground-1)delete u[C[T]],T+=1;f="country"}else f="geo_group";var F={query:u,protein:v,query_false:f,toExcludeBackground:this.toExcludeGeo};s.a.post(p,F).then((function(e){return e.data})).then((function(t){var a=[{text:"mutation",value:"mutation_position",show:!0,align:"center",width:"23vh"},{text:"p_value",value:"p_value",show:!0,align:"center",width:"23vh"},{text:"odds_ratio",value:"odd_ratio",show:!0,align:"center",width:"23vh"},{text:"%_target",value:"percentage_target",show:!0,align:"center",width:"23vh"},{text:"%_background",value:"percentage_background",show:!0,align:"center",width:"23vh"}];e.headerTableProvReg=a,e.rowsTableProvReg[0]=t,e.fixedRowsTableProvReg[0]=t;var i=JSON.parse(JSON.stringify(e.rowsTableProvReg[0]));e.possibleProteinForPValue=Object(wt["a"])(new Set(i.map((function(e){return e.product})))),e.possibleProteinForTable=Object(wt["a"])(new Set(i.map((function(e){return e.product}))));var n=JSON.parse(JSON.stringify(e.rowsTableProvReg[0]));e.totalMaxTargetNumerator=Math.max.apply(Math,n.map((function(e){return e["denominator_target"]}))),e.selectedMaxTargetNumerator=e.totalMaxTargetNumerator,e.totalMaxBackgroundNumerator=Math.max.apply(Math,n.map((function(e){return e["denominator_background"]}))),e.selectedMaxBackgroundNumerator=e.totalMaxBackgroundNumerator;var s=JSON.parse(JSON.stringify(e.rowsTableProvReg[0]));s=s.filter((function(e){var t=e["percentage_background"];return 0!==t}));var r=Math.ceil(Math.max.apply(Math,s.map((function(e){return e["odd_ratio"]}))));r>e.totalMaxOddsRatio&&(e.totalMaxOddsRatio=r,e.selectedMaxOddsRatio=r),e.tableApplied=!0,e.overlay=!1}))}},applyAnalysisMultipleTarget:function(e,t,a){var i=this,n=JSON.parse(JSON.stringify(this.queryGeo)),r="/analyze/analyzeMutationProvinceRegion";this.overlay=!0;var o=[];o=null===this.selectedProtein?[]:this.selectedProtein,null!==this.startDateQueryGeo&&(n["minDate"]=this.startDateQueryGeo),null!==this.stopDateQueryGeo&&(n["maxDate"]=this.stopDateQueryGeo);var l,c=!1;if(n["geo_group"]&&("geo_group"===a?(n["geo_group"]=n["geo_group"][e],this.locationToExcludeMulti.includes(n["geo_group"])&&(c=!0)):n["geo_group"]=n["geo_group"][0]),n["country"]&&("country"===a?(n["country"]=n["country"][e],this.locationToExcludeMulti.includes(n["country"])&&(c=!0)):n["country"]=n["country"][0]),n["region"]&&("region"===a?(n["region"]=n["region"][e],this.locationToExcludeMulti.includes(n["region"])&&(c=!0)):n["region"]=n["region"][0]),n["province"]&&("province"===a?(n["province"]=n["province"][e],this.locationToExcludeMulti.includes(n["province"])&&(c=!0)):n["province"]=n["province"][0]),n["country"])if(n["region"])if(n["province"]){var d=["region","country","geo_group"],u=0,h=d.length;while(u<h&&u<this.numLevelAboveBackground-1)delete n[d[u]],u+=1;l="province"}else{var g=["country","geo_group"],p=0,f=g.length;while(p<f&&p<this.numLevelAboveBackground-1)delete n[g[p]],p+=1;l="region"}else{var v=["geo_group"],y=0,m=v.length;while(y<m&&y<this.numLevelAboveBackground-1)delete n[v[y]],y+=1;l="country"}else l="geo_group";var x={query:n,protein:o,query_false:l,toExcludeBackground:this.toExcludeGeo};c?(e+=1,e<t?this.applyAnalysisMultipleTarget(e,t,a):(this.tableApplied=!0,this.overlay=!1)):s.a.post(r,x).then((function(e){return e.data})).then((function(n){i.rowsTableProvReg.push(n),i.fixedRowsTableProvReg.push(n);var s=JSON.parse(JSON.stringify(i.rowsTableProvReg[i.rowsTableProvReg.length-1]));i.possibleProteinForPValue=Object(wt["a"])(new Set(s.map((function(e){return e.product})))),i.possibleProteinForTable=Object(wt["a"])(new Set(s.map((function(e){return e.product}))));var r=JSON.parse(JSON.stringify(i.rowsTableProvReg[i.rowsTableProvReg.length-1])),o=Math.max.apply(Math,r.map((function(e){return e["denominator_target"]})));o>i.totalMaxTargetNumerator&&(i.totalMaxTargetNumerator=o,i.selectedMaxTargetNumerator=o);var l=Math.max.apply(Math,r.map((function(e){return e["denominator_background"]})));l>i.totalMaxBackgroundNumerator&&(i.totalMaxBackgroundNumerator=l,i.selectedMaxBackgroundNumerator=l);var c=JSON.parse(JSON.stringify(i.rowsTableProvReg[i.rowsTableProvReg.length-1]));c=c.filter((function(e){var t=e["percentage_background"];return 0!==t}));var d=Math.ceil(Math.max.apply(Math,c.map((function(e){return e["odd_ratio"]}))));d>i.totalMaxOddsRatio&&(i.totalMaxOddsRatio=d,i.selectedMaxOddsRatio=d),e+=1,e<t?i.applyAnalysisMultipleTarget(e,t,a):(i.tableApplied=!0,i.overlay=!1)}))},applyFilterPValueChart:function(){var e=this;this.selectedDomainForPValue=[],this.pValueBarChartApplied=!1,this.selectedDomainForPValueMutagenesis=[],this.selectedDomainForPValueAaModifications=[],this.selectedDomainForPValueUploaded=[],this.possibleDomainForPValueUploaded=[],this.selectedAllAaModifications=!1,this.pValueContent=[],this.pValueName=[];for(var t=function(t){var a=JSON.parse(JSON.stringify(e.fixedRowsTableProvReg[t]));i=e,a=a.filter((function(e){var t=JSON.parse(JSON.stringify(e["p_value"])),a=JSON.parse(JSON.stringify(e["product"])),n=JSON.parse(JSON.stringify(e["percentage_target"]));return t>=i.selectedMinPValueBarChart&&t<=i.selectedMaxPValueBarChart&&n<=i.selectedMaxPercentageMutationPValue&&n>=i.selectedMinPercentageMutationPValue&&i.selectedProteinForPValue===a}));var n=[];a.forEach((function(e){var t=e["mutation"],a=e["mutation_position"],i=n.findIndex((function(e){return e["name"]===t}));if(-1===i){var s={name:t,value:e["numerator_target"],position:a,p_value:e["p_value"],odds_ratio:e["odd_ratio"]};n.push(s)}else n[i]["value"]=n[i]["value"]+e["numerator_target"]})),n=n.sort((function(e,t){var a=e["position"],i=t["position"];return a>i?1:-1})),e.pValueContent[t]=n,e.pValueName[t]="p_value_province_region"+t},a=0;a<this.rowsTableProvReg.length;a+=1){var i;t(a)}var n="/analyze/getProteinPosition",r={protein:this.selectedProteinForPValue};s.a.post(n,r).then((function(e){return e.data})).then((function(t){e.startStopProtein=t;var a="/analyze/getDomains",i={protein:e.selectedProteinForPValue};s.a.post(a,i).then((function(e){return e.data})).then((function(t){if(e.possibleDomainForPValue=t["sites_and_domains"].sort((function(e,t){var a=e["Description"].toLowerCase(),i=t["Description"].toLowerCase();return a>i?1:-1})),e.possibleDomainForPValueMutagenesis=t["mutagenesis"].sort((function(e,t){var a=e["Description"].toLowerCase(),i=t["Description"].toLowerCase();return a>i?1:-1})),e.possibleDomainForPValueAaModifications=t["aa_modifications"].sort((function(e,t){e["disabled"]=!0,t["disabled"]=!0;var a=e["Description"].toLowerCase(),i=t["Description"].toLowerCase();return a>i?1:-1})),null!==e.fileDomainCSV){var a=e;e.possibleDomainForPValueUploaded=e.fileDomainCSV.filter((function(e){return e["Protein"]===a.selectedProteinForPValue}));for(var i=0;i<e.possibleDomainForPValueUploaded.length;i+=1){var n=e.possibleDomainForPValueUploaded[i]["Description"]+" / ("+e.possibleDomainForPValueUploaded[i]["Begin"]+" , "+e.possibleDomainForPValueUploaded[i]["End"]+")";e.selectedDomainForPValueUploaded.push(n)}}e.overlay=!1,e.pValueBarChartApplied=!0}))}))},openDialogAccession:function(e,t){var a=this,i="/analyze/getAccessionIds";this.overlay=!0,this.listAccessionIds=[];var n=JSON.parse(JSON.stringify(this.queryGeo)),r="";"target"===e?(this.accessionIdsTargetOrBackground=e,this.accessionIdsSingleMutation="("+t["product"]+"_"+t["sequence_aa_original"]+t["start_aa_original"]+t["sequence_aa_alternative"]+")",n["lineage"]=t["lineage"],n["start_aa_original"]=t["start_aa_original"],n["sequence_aa_original"]=t["sequence_aa_original"],n["sequence_aa_alternative"]=t["sequence_aa_alternative"],n["minDateBackground"]=this.startDateQueryGeo,n["maxDateBackground"]=this.stopDateQueryGeo,n["product"]=t["product"],n["toExclude"]=[],n["country"]?n["region"]?n["province"]?n["province"]=t["target"]:n["region"]=t["target"]:n["country"]=t["target"]:n["geo_group"]=t["target"]):"background"===e&&(this.accessionIdsTargetOrBackground=e,this.accessionIdsSingleMutation="("+t["product"]+"_"+t["sequence_aa_original"]+t["start_aa_original"]+t["sequence_aa_alternative"]+")",n["lineage"]=t["lineage"],n["start_aa_original"]=t["start_aa_original"],n["sequence_aa_original"]=t["sequence_aa_original"],n["sequence_aa_alternative"]=t["sequence_aa_alternative"],n["minDateBackground"]=this.startDateQueryGeo,n["maxDateBackground"]=this.stopDateQueryGeo,n["product"]=t["product"],n["toExclude"]=this.toExcludeGeo,n["country"]?n["region"]?n["province"]?n["province"]=t["target"]:n["region"]=t["target"]:n["country"]=t["target"]:n["geo_group"]=t["target"],r=n["country"]?n["region"]?n["province"]?"province":"region":"country":"geo_group");var o="empty",l={query:n,query_false:r,query_target:o};s.a.post(i,l).then((function(e){return e.data})).then((function(e){a.listAccessionIds=e[0]["acc_ids"],a.overlay=!1,null!==a.listAccessionIds&&a.listAccessionIds.length>0&&(a.dialogAccessionIds=!0)}))},downloadAccessionIds:function(){for(var e="",t=0;t<this.listAccessionIds.length;t+=1)e=e+this.listAccessionIds[t]+";  ";var a="noResult.csv";this.rowsTableProvReg[this.selectedTabTable].length>0&&(a="spatial_analysis_"+this.accessionIdsSingleMutation+"_",this.queryGeo["lineage"]&&(a+=this.queryGeo["lineage"]+"_"),"target"===this.accessionIdsTargetOrBackground?a+=this.rowsTableProvReg[this.selectedTabTable][0]["target"]:a+=this.rowsTableProvReg[this.selectedTabTable][0]["background"],a+="_"+this.startDateQueryGeo+"_"+this.stopDateQueryGeo),a+=".txt";var i=document.createElement("a");i.setAttribute("download",a);var n=new Blob([e]);i.href=URL.createObjectURL(n),document.body.appendChild(i),i.click(),document.body.removeChild(i)},modifyPossibleBackground:function(){var e=[];if(this.possibleNumLevelAboveBackground=[],this.queryGeo["province"]){var t;if(this.queryGeo["province"].length>1){t="( ";for(var a=0;a<this.queryGeo["province"].length;a+=1)t+=this.queryGeo["province"][a],a<this.queryGeo["province"].length-1&&(t+=" , ");t+=" )"}else t=this.queryGeo["province"];var i={value:1,background:t+" vs "+this.queryGeo["region"]},n={value:2,background:t+" vs "+this.queryGeo["country"]},s={value:3,background:t+" vs "+this.queryGeo["geo_group"]},r={value:4,background:t+" vs World"};e.push(i),e.push(n),e.push(s),e.push(r)}else if(this.queryGeo["region"]){var o;if(this.queryGeo["region"].length>1){o="( ";for(var l=0;l<this.queryGeo["region"].length;l+=1)o+=this.queryGeo["region"][l],l<this.queryGeo["region"].length-1&&(o+=" , ");o+=" )"}else o=this.queryGeo["region"];var c={value:1,background:o+" vs "+this.queryGeo["country"]},d={value:2,background:o+" vs "+this.queryGeo["geo_group"]},u={value:3,background:o+" vs World"};e.push(c),e.push(d),e.push(u)}else if(this.queryGeo["country"]){var h;if(this.queryGeo["country"].length>1){h="( ";for(var g=0;g<this.queryGeo["country"].length;g+=1)h+=this.queryGeo["country"][g],g<this.queryGeo["country"].length-1&&(h+=" , ");h+=" )"}else h=this.queryGeo["country"];var p={value:1,background:h+" vs "+this.queryGeo["geo_group"]},f={value:2,background:h+" vs World"};e.push(p),e.push(f)}else if(this.queryGeo["geo_group"]){var v;if(this.queryGeo["geo_group"].length>1){v="( ";for(var y=0;y<this.queryGeo["geo_group"].length;y+=1)v+=this.queryGeo["geo_group"][y],y<this.queryGeo["geo_group"].length-1&&(v+=" , ");v+=" )"}else v=this.queryGeo["geo_group"];var m={value:1,background:v+" vs World"};e.push(m)}else e=[];this.possibleNumLevelAboveBackground=e},getFieldText:function(e){var t="";return t=e["background"],t},getFieldTextDomain:function(e){return"".concat(e["Description"])+" / ("+"".concat(e["Begin"])+" , "+"".concat(e["End"])+")"}}),watch:{selectedAllAaModifications:function(){if(this.selectedDomainForPValueAaModifications=[],this.selectedAllAaModifications)for(var e=0;e<this.possibleDomainForPValueAaModifications.length;e+=1){var t=this.possibleDomainForPValueAaModifications[e]["Description"]+" / ("+this.possibleDomainForPValueAaModifications[e]["Begin"]+" , "+this.possibleDomainForPValueAaModifications[e]["End"]+")";this.selectedDomainForPValueAaModifications.push(t)}},selectedTypeImportantMutation:function(){"ECDC"===this.selectedTypeImportantMutation?this.importantMutation=this.importantMutationECDC:"Present in 75% of the lineage (worldwide)"===this.selectedTypeImportantMutation&&(this.importantMutation=this.importantMutation75Percentage)},selectedNumLevelAboveBackground:function(){this.computeFieldToExclude()},selectedDomainForPValue:function(){var e=this;this.begin_value_domain=[],this.end_value_domain=[];for(var t=function(t){var a=e,i=0,n=0,s=e.possibleDomainForPValue.findIndex((function(e){return e["Description"]===a.selectedDomainForPValue[t].split(" / ")[0]}));-1!==s&&(i=e.possibleDomainForPValue[s]["Begin"],n=e.possibleDomainForPValue[s]["End"]),e.begin_value_domain.push(i),e.end_value_domain.push(n)},a=0;a<this.selectedDomainForPValue.length;a+=1)t(a)},selectedDomainForPValueMutagenesis:function(){var e=this;this.begin_value_domain_mutagenesis=[],this.end_value_domain_mutagenesis=[];for(var t=function(t){var a=e,i=0,n=0,s=e.possibleDomainForPValueMutagenesis.findIndex((function(e){return e["Description"]===a.selectedDomainForPValueMutagenesis[t].split(" / ")[0]}));-1!==s&&(i=e.possibleDomainForPValueMutagenesis[s]["Begin"],n=e.possibleDomainForPValueMutagenesis[s]["End"]),e.begin_value_domain_mutagenesis.push(i),e.end_value_domain_mutagenesis.push(n)},a=0;a<this.selectedDomainForPValueMutagenesis.length;a+=1)t(a)},selectedDomainForPValueAaModifications:function(){var e=this;this.begin_value_domain_aa_modifications=[],this.end_value_domain_aa_modifications=[];for(var t=function(t){var a=e,i=0,n=0,s=e.possibleDomainForPValueAaModifications.findIndex((function(e){return e["Description"]===a.selectedDomainForPValueAaModifications[t].split(" / ")[0]}));-1!==s&&(i=e.possibleDomainForPValueAaModifications[s]["Begin"],n=e.possibleDomainForPValueAaModifications[s]["End"]),e.begin_value_domain_aa_modifications.push(i),e.end_value_domain_aa_modifications.push(n)},a=0;a<this.selectedDomainForPValueAaModifications.length;a+=1)t(a)},selectedMinPercentageMutationPValue:function(){this.pValueBarChartApplied=!1},selectedMaxPercentageMutationPValue:function(){this.pValueBarChartApplied=!1},toExcludeGeo:function(){this.pValueBarChartApplied=!1,this.selectedProteinForPValue=null,this.selectedProteinForTable=null,this.tableApplied=!1},numLevelAboveBackground:function(){this.pValueBarChartApplied=!1,this.selectedProteinForPValue=null,this.selectedProteinForTable=null,this.tableApplied=!1},startDateQueryGeo:function(){this.pValueBarChartApplied=!1,this.selectedProteinForPValue=null,this.selectedProteinForTable=null,this.tableApplied=!1},stopDateQueryGeo:function(){this.pValueBarChartApplied=!1,this.selectedProteinForPValue=null,this.selectedProteinForTable=null,this.tableApplied=!1},"queryGeo.geo_group":function(){this.modifyPossibleBackground(),(!this.queryGeo["geo_group"]||0===this.queryGeo["geo_group"].length||this.queryGeo["geo_group"].length>1)&&(this.setQueryGeo({field:"country",list:[]}),this.setQueryGeo({field:"region",list:[]}),this.setQueryGeo({field:"province",list:[]}))},"queryGeo.country":function(){this.modifyPossibleBackground(),(!this.queryGeo["country"]||0===this.queryGeo["country"].length||this.queryGeo["country"].length>1)&&(this.setQueryGeo({field:"region",list:[]}),this.setQueryGeo({field:"province",list:[]}))},"queryGeo.region":function(){this.modifyPossibleBackground(),(!this.queryGeo["region"]||0===this.queryGeo["region"].length||this.queryGeo["region"].length>1)&&this.setQueryGeo({field:"province",list:[]})},"queryGeo.province":function(){this.modifyPossibleBackground()},queryGeo:function(){this.pValueBarChartApplied=!1,this.selectedProteinForPValue=null,this.selectedProteinForTable=null,this.tableApplied=!1,this.computeFieldToExclude()},all_protein:function(){this.possibleProtein=this.all_protein},selectedContinent_forProvReg:function(){var e=this;if(this.selectedProteinForTable=null,this.pValueBarChartApplied=!1,this.selectedProteinForPValue=null,this.tableApplied=!1,this.headerTableProvReg=[],this.rowsTableProvReg=[],this.num_sequences_forProvReg=null,this.selectedCountry_forProvReg=null,this.possibleCountry_forProvReg=[],this.selectedRegion_forProvReg=null,this.possibleRegion_forProvReg=[],this.selectedProvince_forProvReg=null,this.possibleProvince_forProvReg=[],null!==this.selectedContinent_forProvReg){var t=[];this.all_geo.forEach((function(a){null!==a["country"]&&(a["geo_group"]!==e.selectedContinent_forProvReg||t.includes(a["country"])||t.push(a["country"]))})),t.sort((function(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),e<t?-1:e>t?1:0})),this.possibleCountry_forProvReg=t}},selectedCountry_forProvReg:function(){var e=this;if(this.selectedProteinForTable=null,this.pValueBarChartApplied=!1,this.selectedProteinForPValue=null,this.tableApplied=!1,this.headerTableProvReg=[],this.rowsTableProvReg=[],this.num_sequences_forProvReg=null,this.selectedRegion_forProvReg=null,this.possibleRegion_forProvReg=[],this.selectedProvince_forProvReg=null,this.possibleProvince_forProvReg=[],null!==this.selectedCountry_forProvReg){var t=[];if(this.all_geo.forEach((function(a){null!==a["region"]&&(a["country"]!==e.selectedCountry_forProvReg||t.includes(a["region"])||t.push(a["region"]))})),t.sort((function(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),e<t?-1:e>t?1:0})),this.possibleRegion_forProvReg=t,"usa"!==this.selectedCountryToLower){this.geoSelectedName=this.selectedCountry_forProvReg;var a=[],i=JSON.parse(JSON.stringify(this.all_geo));i.forEach((function(t){if(t["country"]===e.selectedCountry_forProvReg){var i="";i=null===t["region"]?"N/D":t["region"];var n=a.findIndex((function(e){return e["name"]===i}));if(-1===n){var s={name:i,value:t["count"]};a.push(s)}else a[n]["value"]=a[n]["value"]+t["count"]}})),this.geoSelectedContent=a}}},selectedRegion_forProvReg:function(){var e=this;if(this.selectedProteinForTable=null,this.pValueBarChartApplied=!1,this.selectedProteinForPValue=null,this.tableApplied=!1,this.headerTableProvReg=[],this.rowsTableProvReg=[],this.num_sequences_forProvReg=null,this.selectedProvince_forProvReg=null,this.possibleProvince_forProvReg=[],null!==this.selectedRegion_forProvReg){var t=[];if(this.all_geo.forEach((function(a){null!==a["province"]&&(a["region"]!==e.selectedRegion_forProvReg||t.includes(a["province"])||t.push(a["province"]))})),t.sort((function(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),e<t?-1:e>t?1:0})),this.possibleProvince_forProvReg=t,"usa"===this.selectedCountryToLower){this.geoSelectedName=this.selectedRegion_forProvReg;var a=[],i=JSON.parse(JSON.stringify(this.all_geo));i.forEach((function(t){if(t["region"]===e.selectedRegion_forProvReg){var i="";i=null===t["province"]?"N/D":t["province"];var n=a.findIndex((function(e){return e["name"]===i}));if(-1===n){var s={name:i,value:t["count"]};a.push(s)}else a[n]["value"]=a[n]["value"]+t["count"]}})),this.geoSelectedContent=a}}},selectedProvince_forProvReg:function(){var e=this;if(this.selectedProteinForTable=null,this.pValueBarChartApplied=!1,this.selectedProteinForPValue=null,this.tableApplied=!1,this.headerTableProvReg=[],this.rowsTableProvReg=[],null!==this.selectedProvince_forProvReg){var t=[];this.all_geo.forEach((function(a){a["province"]===e.selectedProvince_forProvReg&&t.push(a["count"])})),this.num_sequences_forProvReg=t}},all_geo:function(){var e=[];this.all_geo.forEach((function(t){null!==t["geo_group"]&&(e.includes(t["geo_group"])||e.push(t["geo_group"]))})),e.sort((function(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),e<t?-1:e>t?1:0})),this.possibleContinent_forProvReg=e},selectedProtein:function(){this.selectedProteinForTable=null,this.pValueBarChartApplied=!1,this.selectedProteinForPValue=null,this.tableApplied=!1},selectedProteinForPValue:function(){this.pValueBarChartApplied=!1},selectedMinBackgroundFrequency:function(){this.selectedMinBackgroundFrequency<0?this.selectedMinBackgroundFrequency=0:this.selectedMinBackgroundFrequency>this.selectedMaxBackgroundFrequency&&(this.selectedMinBackgroundFrequency=this.selectedMaxBackgroundFrequency)},selectedMaxBackgroundFrequency:function(){this.selectedMaxBackgroundFrequency<this.selectedMinBackgroundFrequency?this.selectedMaxBackgroundFrequency=this.selectedMinBackgroundFrequency:this.selectedMaxBackgroundFrequency>100&&(this.selectedMaxBackgroundFrequency=100)},selectedMinTargetFrequency:function(){this.selectedMinTargetFrequency<0?this.selectedMinTargetFrequency=0:this.selectedMinTargetFrequency>this.selectedMaxTargetFrequency&&(this.selectedMinTargetFrequency=this.selectedMaxTargetFrequency)},selectedMaxTargetFrequency:function(){this.selectedMaxTargetFrequency<this.selectedMinTargetFrequency?this.selectedMaxTargetFrequency=this.selectedMinTargetFrequency:this.selectedMaxTargetFrequency>100&&(this.selectedMaxTargetFrequency=100)},selectedMinPValue:function(){this.selectedMinPValue<0?this.selectedMinPValue=0:this.selectedMinPValue>this.selectedMaxPValue&&(this.selectedMinPValue=this.selectedMaxPValue)},selectedMaxPValue:function(){this.selectedMaxPValue<this.selectedMinPValue?this.selectedMaxPValue=this.selectedMinPValue:this.selectedMaxPValue>1&&(this.selectedMaxPValue=1)},selectedMinBackgroundNumerator:function(){this.selectedMinBackgroundNumerator<0?this.selectedMinBackgroundNumerator=0:this.selectedMinBackgroundNumerator>this.selectedMaxBackgroundNumerator&&(this.selectedMinBackgroundNumerator=this.selectedMaxBackgroundNumerator)},selectedMaxBackgroundNumerator:function(){this.selectedMaxBackgroundNumerator<this.selectedMinBackgroundNumerator?this.selectedMaxBackgroundNumerator=this.selectedMinBackgroundNumerator:this.selectedMaxBackgroundNumerator>this.totalMaxBackgroundNumerator&&(this.selectedMaxBackgroundNumerator=this.totalMaxBackgroundNumerator)},selectedMinTargetNumerator:function(){this.selectedMinTargetNumerator<0?this.selectedMinTargetNumerator=0:this.selectedMinTargetNumerator>this.selectedMaxTargetNumerator&&(this.selectedMinTargetNumerator=this.selectedMaxTargetNumerator)},selectedMaxTargetNumerator:function(){this.selectedMaxTargetNumerator<this.selectedMinTargetNumerator?this.selectedMaxTargetNumerator=this.selectedMinTargetNumerator:this.selectedMaxTargetNumerator>this.totalMaxTargetNumerator&&(this.selectedMaxTargetNumerator=this.totalMaxTargetNumerator)},selectedMinOddsRatio:function(){this.selectedMinOddsRatio<0?this.selectedMinOddsRatio=0:this.selectedMinOddsRatio>this.selectedMaxOddsRatio&&(this.selectedMinOddsRatio=this.selectedMaxOddsRatio)},selectedMaxOddsRatio:function(){this.selectedMaxOddsRatio<this.selectedMinOddsRatio?this.selectedMaxOddsRatio=this.selectedMinOddsRatio:this.selectedMaxOddsRatio>this.totalMaxOddsRatio&&(this.selectedMaxOddsRatio=this.totalMaxOddsRatio)},selectedMinPValueBarChart:function(){this.pValueBarChartApplied=!1,this.selectedMinPValueBarChart<0?this.selectedMinPValueBarChart=0:this.selectedMinPValueBarChart>this.selectedMaxPValueBarChart&&(this.selectedMinPValueBarChart=this.selectedMaxPValueBarChart)},selectedMaxPValueBarChart:function(){this.pValueBarChartApplied=!1,this.selectedMaxPValueBarChart<this.selectedMinPValueBarChart?this.selectedMaxPValueBarChart=this.selectedMinPValueBarChart:this.selectedMaxPValueBarChart>1&&(this.selectedMaxPValueBarChart=1)}},mounted:function(){this.calculateUploadedDomains(),this.computeFieldToExclude();var e=[];this.all_geo.forEach((function(t){null!==t["geo_group"]&&(e.includes(t["geo_group"])||e.push(t["geo_group"]))})),e.sort((function(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),e<t?-1:e>t?1:0})),this.possibleContinent_forProvReg=e,this.possibleProtein=this.all_protein}},Fa=wa,ka=(a("4c4f"),a("ac7c")),Aa=a("aac8"),Da=Object(x["a"])(Fa,Ct,Tt,!1,null,"8988ccf8",null),Pa=Da.exports;b()(Da,{VAutocomplete:vt["a"],VBtn:S["a"],VCard:C["a"],VCardText:T["b"],VCardTitle:T["c"],VCheckbox:ka["a"],VDataTable:Ve["a"],VDialog:F["a"],VFlex:k["a"],VIcon:A["a"],VLayout:D["a"],VOverlay:P["a"],VProgressCircular:M["a"],VRow:E["a"],VSelect:ie["a"],VSpacer:B["a"],VTab:le["a"],VTabItem:ce["a"],VTabs:de["a"],VTabsItems:Aa["a"],VTextField:V["a"]});var Ma=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{staticStyle:{padding:"50px"},attrs:{width:"100%",color:"white"}},[a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-card",{staticStyle:{padding:"50px","margin-top":"50px","margin-bottom":"50px"},attrs:{width:"1600px",color:"#A8DADC"}},[a("v-card-title",{staticClass:"justify-center"},[a("h1",[e._v("EVOLUTION IN TIME")])]),a("v-card-text",[a("v-layout",{staticStyle:{padding:"30px"},attrs:{row:"",wrap:"","justify-space-between":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"10px"}},[a("h2",[e._v("PICK LINEAGE AND PLACE OF INTEREST")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 lg12 xl12 d-flex",staticStyle:{"justify-content":"center"}},[a("SelectorsQueryTime",{attrs:{field:"lineage"}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg2 d-flex",staticStyle:{"justify-content":"center"}},[a("SelectorsQueryTime",{attrs:{field:"geo_group"}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg2 d-flex",staticStyle:{"justify-content":"center"}},[a("SelectorsQueryTime",{attrs:{field:"country"}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg2 d-flex",staticStyle:{"justify-content":"center"}},[a("SelectorsQueryTime",{attrs:{field:"region"}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg2 d-flex",staticStyle:{"justify-content":"center"}},[a("SelectorsQueryTime",{attrs:{field:"province"}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"10px"}},[a("h3",[e._v("Exclude one or more places")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0",margin:"0"}},[a("SelectorQueryToExclude",{attrs:{mode:"time",field:e.fieldToExclude}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticClass:"white--text",attrs:{color:"#E63946"},on:{click:function(t){return e.applyChosenLineageCountry()}}},[e._v("\n                    APPLY\n                ")])],1),e.chosenApplied&&0!==e.timeContent.length?a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"50px"}},[a("h2",[e._v("SELECT TARGET AND BACKGROUND:")])]):e._e(),e.chosenApplied&&0!==e.timeContent.length?a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex"},[a("v-container",{staticStyle:{"justify-content":"center",padding:"0","margin-top":"10px"},attrs:{fluid:"","grid-list-xl":""}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 d-flex",staticStyle:{"justify-content":"right"}},[a("v-btn",{staticStyle:{width:"400px",height:"70px"},attrs:{id:"two_comparison",large:"",color:"#457B9D"},on:{click:function(t){e.selectedTabSelectTargetBackground=0}}},[e._v(" COMPARE TWO INTERVALS ")])],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 d-flex",staticStyle:{"justify-content":"left"}},[a("v-btn",{staticStyle:{width:"400px",height:"70px"},attrs:{id:"n_comparison",large:"",color:"#457B9D"},on:{click:function(t){e.selectedTabSelectTargetBackground=1}}},[e._v(" TIME SERIES ANALYSIS ")])],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[0===e.selectedTabSelectTargetBackground?a("div",[a("TimeDistributionChart",{staticStyle:{width:"100%"},attrs:{timeName:e.timeName,timeContent:e.timeContent,filterDate:e.filterDate}})],1):e._e(),1===e.selectedTabSelectTargetBackground?a("div",[a("TimeDistributionChartWeekMonth",{staticStyle:{width:"100%"},attrs:{timeName:e.timeName+e.timeName,timeContent:e.timeContent,filterDate:e.filterDate}})],1):e._e()])],1)],1)],1):e._e()],1),e.chosenApplied&&0!==e.timeContent.length?a("v-layout",{staticStyle:{padding:"30px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("h2",[e._v("SELECT THE PROTEINS TO COMPARE")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("h4",[e._v('(selecting none is equivalent to "all proteins")')])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 md4 lg2 d-flex",staticStyle:{"justify-content":"center"}},[a("v-autocomplete",{attrs:{items:e.possibleProtein,label:"Protein",solo:"","hide-details":"",multiple:""},model:{value:e.selectedProtein,callback:function(t){e.selectedProtein=t},expression:"selectedProtein"}})],1)],1),e.errorNumSeqQueryTime?a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("span",{staticStyle:{color:"red"}},[e._v(" The number of currently selected genomic sequences is too low. A minimum of 50 sequences must be selected for both the target and background. Please change your setting.")])]):e._e(),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticClass:"white--text",attrs:{color:"#E63946",disabled:e.errorNumSeqQueryTime},on:{click:function(t){return e.applySingleLineageAnalysis()}}},[e._v("\n                    APPLY\n                ")])],1)],1):e._e(),e.chosenApplied&&0===e.timeContent.length?a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-row",{attrs:{justify:"center",align:"center"}},[a("span",{staticStyle:{"background-color":"#F1FAEE",width:"60%",height:"100px","border-radius":"10%",border:"darkred solid 10px"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("span",{staticStyle:{"font-size":"50px",color:"red","margin-top":"30px"}},[e._v("NO DATA TO SHOW")])])],1)],1)])],1):e._e()],1)],1)],1),e.tableApplied?a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-card",{staticStyle:{"margin-bottom":"50px","margin-top":"50px",padding:"50px"},attrs:{width:"1600px",color:"#A8DADC"}},[a("v-card-text",[a("v-layout",{staticStyle:{padding:"30px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("h2",[e._v("ADVANCED FILTERS")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 xl3 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("% BACKGROUND:")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                              % BACKGROUND\n                          ")]),a("v-card-text",[e._v("\n                           This filter allows to reduce the number of mutations shown in the results, based on the percentage of appearance of each mutation in the background population.\n                          ")])],1)],1)],1),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MIN")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:"0",max:e.selectedMaxBackgroundFrequency,type:"number"},model:{value:e.selectedMinBackgroundFrequency,callback:function(t){e.selectedMinBackgroundFrequency=e._n(t)},expression:"selectedMinBackgroundFrequency"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MAX")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:e.selectedMinBackgroundFrequency,max:"100",type:"number"},model:{value:e.selectedMaxBackgroundFrequency,callback:function(t){e.selectedMaxBackgroundFrequency=e._n(t)},expression:"selectedMaxBackgroundFrequency"}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 xl3 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("# SEQUENCES IN BACKGROUND:")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                              # SEQUENCES IN BACKGROUND\n                          ")]),a("v-card-text",[e._v("\n                           This filter allows to reduce the number of mutations shown in the results, based on the appearance (in absolute numbers) of each mutation in the background population.\n                          ")])],1)],1)],1),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MIN")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:"0",max:e.selectedMaxBackgroundNumerator,type:"number"},model:{value:e.selectedMinBackgroundNumerator,callback:function(t){e.selectedMinBackgroundNumerator=e._n(t)},expression:"selectedMinBackgroundNumerator"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MAX")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:e.selectedMinBackgroundNumerator,max:e.totalMaxBackgroundNumerator,type:"number"},model:{value:e.selectedMaxBackgroundNumerator,callback:function(t){e.selectedMaxBackgroundNumerator=e._n(t)},expression:"selectedMaxBackgroundNumerator"}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 xl3 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("% TARGET:")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                              % TARGET\n                          ")]),a("v-card-text",[e._v("\n                           This filter allows to reduce the number of mutations shown in the results, based on the percentage of appearance of each mutation in the target population.\n                          ")])],1)],1)],1),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MIN")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:"0",max:e.selectedMaxTargetFrequency,type:"number"},model:{value:e.selectedMinTargetFrequency,callback:function(t){e.selectedMinTargetFrequency=e._n(t)},expression:"selectedMinTargetFrequency"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MAX")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:e.selectedMinTargetFrequency,max:"100",type:"number"},model:{value:e.selectedMaxTargetFrequency,callback:function(t){e.selectedMaxTargetFrequency=e._n(t)},expression:"selectedMaxTargetFrequency"}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 xl3 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("# SEQUENCES IN TARGET:")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                              # SEQUENCES IN TARGET\n                          ")]),a("v-card-text",[e._v("\n                           This filter allows to reduce the number of mutations shown in the results, based on the appearance (in absolute numbers) of each mutation in the target population.\n                          ")])],1)],1)],1),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MIN")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:"0",max:e.selectedMaxTargetNumerator,type:"number"},model:{value:e.selectedMinTargetNumerator,callback:function(t){e.selectedMinTargetNumerator=e._n(t)},expression:"selectedMinTargetNumerator"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MAX")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:e.selectedMinTargetNumerator,max:e.totalMaxTargetNumerator,type:"number"},model:{value:e.selectedMaxTargetNumerator,callback:function(t){e.selectedMaxTargetNumerator=e._n(t)},expression:"selectedMaxTargetNumerator"}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 xl3 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("P-VALUE:")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                              P-VALUE\n                          ")]),a("v-card-text",[e._v("\n                           This filter allows to reduce the number of mutations shown in the results, based on their p-values. The p-value is calculated through a chi-squared test.\n                          ")])],1)],1)],1),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MIN")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:"0",max:e.selectedMaxPValue,step:"0.01",type:"number"},model:{value:e.selectedMinPValue,callback:function(t){e.selectedMinPValue=e._n(t)},expression:"selectedMinPValue"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MAX")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:e.selectedMinPValue,max:"1",step:"0.01",type:"number"},model:{value:e.selectedMaxPValue,callback:function(t){e.selectedMaxPValue=e._n(t)},expression:"selectedMaxPValue"}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 xl3 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("ODDS RATIO:")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                              ODDS RATIO\n                          ")]),a("v-card-text",[e._v("\n                           This filter allows to reduce the number of mutations shown in the results, based on their odds ratio. The odds ratio is calculated as: (percentage in target + epsilon) / (percentage in background + epsilon)\n                          ")])],1)],1)],1),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MIN")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:"0",max:e.selectedMaxOddsRatio,"hide-details":"",step:"0.1",type:"number"},model:{value:e.selectedMinOddsRatio,callback:function(t){e.selectedMinOddsRatio=e._n(t)},expression:"selectedMinOddsRatio"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MAX")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"","hide-details":"",min:e.selectedMinOddsRatio,max:e.totalMaxOddsRatio,step:"0.1",type:"number"},model:{value:e.selectedMaxOddsRatio,callback:function(t){e.selectedMaxOddsRatio=e._n(t)},expression:"selectedMaxOddsRatio"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs2 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("INF")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0","margin-bottom":"0"}},[a("v-checkbox",{attrs:{"hide-details":"","input-value":"true"},model:{value:e.isInfinite,callback:function(t){e.isInfinite=t},expression:"isInfinite"}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 xl3 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("FILTER PROTEIN:")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                              FILTER PROTEIN\n                          ")]),a("v-card-text",[e._v("\n                           This filter allows to reduce the number of mutations shown in the results, based on their protein.\n                          ")])],1)],1)],1),a("v-card-text",[a("v-autocomplete",{attrs:{items:e.possibleProteinForTable,label:"Protein",solo:"",clearable:"","hide-details":""},model:{value:e.selectedProteinForTable,callback:function(t){e.selectedProteinForTable=t},expression:"selectedProteinForTable"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticClass:"white--text",attrs:{color:"#E63946"},on:{click:function(t){return e.applyFilterOnTable()}}},[e._v("\n                    APPLY\n                ")])],1),e.queryTime["lineage"]?a("v-card",{staticStyle:{"margin-top":"50px",padding:"10px"},attrs:{width:"1000px",color:"#F1FAEE"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[0!==e.rowsAnalyzeTime.length?a("v-flex",{staticClass:"no-horizontal-padding xs4 d-flex",staticStyle:{"justify-content":"center","margin-top":"12px"}},[a("h3",[e._v("CHANGES TO HIGHLIGHT:")])]):e._e(),0!==e.rowsAnalyzeTime.length?a("v-flex",{staticClass:"no-horizontal-padding xs4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-select",{attrs:{items:e.possibleTypeImportantMutation,label:"Type Important Change",solo:"","hide-details":""},model:{value:e.selectedTypeImportantMutation,callback:function(t){e.selectedTypeImportantMutation=t},expression:"selectedTypeImportantMutation"}})],1):e._e(),0!==e.rowsAnalyzeTime.length?a("v-flex",{staticClass:"no-horizontal-padding xs4 d-flex",staticStyle:{"justify-content":"center","margin-top":"12px"}},[a("ImportantMutation",{attrs:{importantMutationECDC:e.importantMutationECDC,importantMutation75Percentage:e.importantMutation75Percentage,rowsTable:e.fixedRowAnalyzeTime}})],1):e._e()],1)],1):e._e(),e.rowsAnalyzeTime.length>1?a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-bottom":"30px"}},[a("HeatmapMultipleAnalysis",{attrs:{nameHeatmap:"multipleAnalysisHeatmapTime",contentHeatmap:e.rowsAnalyzeTime,fixedContent:e.fixedRowAnalyzeTime,maxOddsRatio:e.totalMaxOddsRatio,importantMutation:e.importantMutation,type:"time"}})],1):e._e(),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"50px"}},[a("h2",{staticStyle:{"text-align":"center"}},[e._v("CHANGES IN TARGET vs BACKGROUND PERIOD")]),e.rowsAnalyzeTime.length>1?a("h2",[e._v("S")]):e._e()]),a("v-tabs",{attrs:{"background-color":"#457B9D",dark:"",vertical:"","show-arrows":"","slider-color":"#E63946","slider-size":"6"},model:{value:e.selectedTabTable,callback:function(t){e.selectedTabTable=t},expression:"selectedTabTable"}},[e._l(e.rowsAnalyzeTime,(function(t,i){return a("v-tab",{key:i,staticStyle:{"border-bottom":"black solid 1px",width:"150px"}},[a("span",[e._v(e._s(e.fixedRowAnalyzeTime[i][0]["target"].split(" / ")[0])),a("br"),e._v("\n                  "+e._s(e.fixedRowAnalyzeTime[i][0]["target"].split(" / ")[1])+"\n                ")])])})),a("v-tabs-items",{staticStyle:{background:"#F1FAEE"},model:{value:e.selectedTabTable,callback:function(t){e.selectedTabTable=t},expression:"selectedTabTable"}},e._l(e.rowsAnalyzeTime,(function(t,i){return a("v-tab-item",{key:i,staticStyle:{padding:"20px","background-color":"#F1FAEE"}},[a("v-layout",{staticStyle:{"margin-top":"10px"},attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{staticStyle:{border:"black solid 1px"},attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("INFO:")])]),a("v-card-text",[a("span",[a("b",[e._v(" - TARGET: ")]),a("span",[e._v(e._s(e.fixedRowAnalyzeTime[i][0]["target"]))]),a("br")]),a("span",[a("b",[e._v(" - TOT NUM SEQ IN TARGET: ")]),a("span",[e._v(e._s(e.fixedRowAnalyzeTime[i][0]["denominator_target"]))]),a("br")]),a("br"),a("span",[a("b",[e._v(" - BACKGROUND: ")]),a("span",[e._v(e._s(e.fixedRowAnalyzeTime[i][0]["background"]))]),a("br")]),a("span",[a("b",[e._v(" - TOT NUM SEQ IN BACKGROUND: ")]),a("span",[e._v(e._s(e.fixedRowAnalyzeTime[i][0]["denominator_background"]))]),a("br")])])],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("h2",[e._v("TABLE"),a("v-btn",{staticStyle:{"margin-left":"20px","margin-bottom":"5px"},attrs:{"x-small":"",icon:""},on:{click:function(a){return e.downloadTable("analyze_mutation",t)}}},[a("v-icon",{attrs:{size:"23"}},[e._v("\n                                    mdi-download-circle-outline\n                                  ")])],1)],1)]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-data-table",{staticClass:"data-table table_analyze_time",staticStyle:{width:"98%",border:"grey solid 1px"},attrs:{headers:e.headerAnalyzeTime,items:t,"multi-sort":"","sort-by":e.sortByAnalyzeTime,"sort-desc":e.sortDescAnalyzeTime},on:{"update:sortBy":function(t){e.sortByAnalyzeTime=t},"update:sort-by":function(t){e.sortByAnalyzeTime=t},"update:sortDesc":function(t){e.sortDescAnalyzeTime=t},"update:sort-desc":function(t){e.sortDescAnalyzeTime=t}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item;return[a("tr",e._l(e.headerAnalyzeTime,(function(t){return a("td",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"header.show"}],key:t.value,staticStyle:{"white-space":"pre-wrap","word-wrap":"break-word","text-align":"center","align-content":"center"}},["mutation_position"===t.value&&e.importantMutation["mutation"].includes(i["mutation"])?a("span",{staticStyle:{color:"white","font-weight":"900","background-color":"red",padding:"5px"}},[e._v(e._s(i["mutation"]))]):"mutation_position"===t.value&&e.importantMutation["additional_mutation"].includes(i["mutation"])?a("span",{staticStyle:{color:"white","font-weight":"900","background-color":"orange",padding:"5px"}},[e._v(e._s(i["mutation"]))]):"mutation_position"===t.value?a("span",[e._v(e._s(i["mutation"]))]):"p_value"===t.value&&i["p_value"]>=1e-5?a("span",[e._v(e._s(i["p_value"].toFixed(5)))]):"p_value"===t.value&&i["p_value"]>0&&i["p_value"]<1e-5?a("span",[e._v(e._s(i["p_value"]))]):"p_value"===t.value&&0===i["p_value"]?a("span",[e._v(e._s(e.p_value_lower))]):"odd_ratio"===t.value?a("span",[0===i["percentage_background"]?a("span",[e._v(" INF ")]):a("span",[e._v(e._s(i["odd_ratio"].toFixed(5)))])]):"percentage_target"===t.value?a("span",[e._v(e._s(i["percentage_target"].toFixed(5))+" %  "),a("a",{on:{click:function(t){return e.openDialogAccession("target",i)}}},[e._v("("+e._s(i["numerator_target"])+")")])]):"percentage_background"===t.value?a("span",[e._v(e._s(i["percentage_background"].toFixed(5))+" %  "),a("a",{on:{click:function(t){return e.openDialogAccession("background",i)}}},[e._v("("+e._s(i["numerator_background"])+")")])]):a("span",[e._v(e._s(i[t.value]))])])})),0)]}}],null,!0)})],1)],1)],1)})),1)],2)],1)],1)],1)],1):e._e(),e.tableApplied?a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-card",{staticStyle:{"margin-bottom":"50px","margin-top":"50px",padding:"50px"},attrs:{width:"1600px",color:"#A8DADC"}},[a("v-card-text",[a("v-layout",{staticStyle:{padding:"30px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("h2",[e._v("TARGET SEQUENCES BAR CHART")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("P-VALUE:")])]),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MIN")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:"0",max:e.selectedMaxPValueBarChart,step:"0.01",type:"number"},model:{value:e.selectedMinPValueBarChart,callback:function(t){e.selectedMinPValueBarChart=e._n(t)},expression:"selectedMinPValueBarChart"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MAX")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:e.selectedMinPValueBarChart,max:"1",step:"0.01",type:"number"},model:{value:e.selectedMaxPValueBarChart,callback:function(t){e.selectedMaxPValueBarChart=e._n(t)},expression:"selectedMaxPValueBarChart"}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("SELECT PROTEIN (mandatory):")])]),a("v-card-text",{staticStyle:{"margin-top":"10px"}},[a("v-autocomplete",{attrs:{items:e.possibleProteinForPValue,label:"Protein",solo:"","hide-details":""},model:{value:e.selectedProteinForPValue,callback:function(t){e.selectedProteinForPValue=t},expression:"selectedProteinForPValue"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center",staticStyle:{margin:"0","padding-bottom":"0"}},[a("h5",[e._v("PREVALENCE RANGE OF AA CHANGES:")])]),a("v-card-text",{staticStyle:{"padding-top":"0","margin-top":"0"}},[a("v-layout",{staticStyle:{"margin-top":"0",padding:"0"},attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MIN")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:"0",max:e.selectedMaxPercentageMutationPValue,step:"1",type:"number"},model:{value:e.selectedMinPercentageMutationPValue,callback:function(t){e.selectedMinPercentageMutationPValue=e._n(t)},expression:"selectedMinPercentageMutationPValue"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MAX")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:e.selectedMinPercentageMutationPValue,max:"100",step:"1",type:"number"},model:{value:e.selectedMaxPercentageMutationPValue,callback:function(t){e.selectedMaxPercentageMutationPValue=e._n(t)},expression:"selectedMaxPercentageMutationPValue"}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticClass:"white--text",attrs:{color:"#E63946",disabled:null===e.selectedProteinForPValue},on:{click:function(t){return e.applyFilterPValueChart()}}},[e._v("\n                    APPLY\n               ")])],1),e.pValueBarChartApplied?a("div",[a("v-layout",{staticStyle:{"margin-top":"30px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"400px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("HIGHLIGHT DOMAINS:")])]),a("v-card-text",[a("v-autocomplete",{attrs:{items:e.possibleDomainForPValue,label:"Sites, family, and domains",solo:"","hide-details":"","item-text":e.getFieldTextDomain,multiple:""},model:{value:e.selectedDomainForPValue,callback:function(t){e.selectedDomainForPValue=t},expression:"selectedDomainForPValue"}})],1)],1)],1),e._l(e.selectedDomainForPValue,(function(t,i){return a("v-flex",{key:i,staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0","padding-bottom":"5px!important"}},[e.selectedDomainForPValue.length>0?a("v-card",{staticStyle:{width:"400px"},attrs:{color:"white"}},[a("v-card",{attrs:{color:e.color_1[i%e.color_1.length]+80,height:"100%"}},[a("h5",{staticStyle:{"text-align":"center",color:"black"}},[e._v(e._s(t.toUpperCase()))])])],1):e._e()],1)}))],2)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"400px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("HIGHLIGHT FUNCTIONALLY CHARACTERISED"),a("br"),e._v(" SITES:")])]),a("v-card-text",[a("v-autocomplete",{attrs:{items:e.possibleDomainForPValueMutagenesis,label:"Functionally Characterised Sites",solo:"","hide-details":"","item-text":e.getFieldTextDomain,multiple:""},model:{value:e.selectedDomainForPValueMutagenesis,callback:function(t){e.selectedDomainForPValueMutagenesis=t},expression:"selectedDomainForPValueMutagenesis"}})],1)],1)],1),e._l(e.selectedDomainForPValueMutagenesis,(function(t,i){return a("v-flex",{key:i,staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0","padding-bottom":"5px!important"}},[e.selectedDomainForPValueMutagenesis.length>0?a("v-card",{staticStyle:{width:"400px"},attrs:{color:"white"}},[a("v-card",{attrs:{color:e.color_2[i%e.color_2.length]+80,height:"100%"}},[a("h5",{staticStyle:{"text-align":"center",color:"black"}},[e._v(e._s(t.toUpperCase()))])])],1):e._e()],1)}))],2)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"400px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("HIGHLIGHT GLYCOSYLATION SITES:")])]),a("v-card-text",[a("v-autocomplete",{attrs:{items:e.possibleDomainForPValueAaModifications,label:"Glycosylation Sites",solo:"","hide-details":"","item-text":e.getFieldTextDomain},model:{value:e.selectedDomainForPValueAaModificationsFake,callback:function(t){e.selectedDomainForPValueAaModificationsFake=t},expression:"selectedDomainForPValueAaModificationsFake"}}),a("v-layout",{staticStyle:{padding:"0",margin:"0"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0",margin:"0"}},[a("v-checkbox",{attrs:{label:"Select All","input-value":"true","hide-details":""},model:{value:e.selectedAllAaModifications,callback:function(t){e.selectedAllAaModifications=t},expression:"selectedAllAaModifications"}})],1)],1)],1)],1)],1),e._l(e.selectedDomainForPValueAaModifications,(function(t,i){return a("v-flex",{key:i,staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0","padding-bottom":"5px!important"}},[e.selectedDomainForPValueAaModifications.length>0?a("v-card",{staticStyle:{width:"400px"},attrs:{color:"white"}},[a("v-card",{attrs:{color:"#FFA50080",height:"100%"}},[a("h5",{staticStyle:{"text-align":"center",color:"black"}},[e._v(e._s(t.toUpperCase()))])])],1):e._e()],1)}))],2)],1)],1),a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"400px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("UPLOAD YOUR REGIONS:")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                                    UPLOAD YOUR REGIONS:\n                                ")]),a("v-card-text",{staticStyle:{"text-align":"center"}},[a("span",[a("br"),a("br")]),a("span",[a("b",[e._v("EXAMPLE OF FILE")]),a("v-btn",{staticStyle:{"margin-left":"20px"},attrs:{"x-small":"",icon:""},on:{click:function(t){return e.downloadExampleCSV()}}},[a("v-icon",{attrs:{size:"18"}},[e._v("\n                                        mdi-download-circle-outline\n                                      ")])],1)],1)])],1)],1)],1),a("v-card-text",[a("v-layout",{attrs:{wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs3 d-flex",staticStyle:{"justify-content":"center"}},[a("input",{staticStyle:{display:"none"},attrs:{id:"inputDomainCSVTime",type:"file",accept:".csv",onclick:"document.getElementById('inputDomainCSVTime').value = ''"},on:{change:function(t){return e.loadDomainCSV()}}}),a("v-btn",{staticClass:"white--text",staticStyle:{"margin-top":"10px"},attrs:{onclick:"document.getElementById('inputDomainCSVTime').click()",small:"",color:"#E63946"}},[e._v("\n                                  Upload CSV\n                              ")])],1),a("v-flex",{staticClass:"no-horizontal-padding xs8 d-flex",staticStyle:{"justify-content":"center"}},[a("v-text-field",{staticStyle:{"margin-right":"10px"},attrs:{value:this.nameFileDomainCSV,solo:"",readonly:"","hide-details":""}}),a("v-btn",{staticStyle:{"background-color":"red","margin-top":"10px"},attrs:{icon:"","x-small":"",color:"white"},on:{click:function(t){return e.deleteDomainCSV()}}},[a("v-icon",{attrs:{size:"18"}},[e._v("mdi-close")])],1)],1)],1)],1)],1)],1)],1),a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},e._l(e.selectedDomainForPValueUploaded,(function(t,i){return a("v-flex",{key:i,staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0","padding-bottom":"5px!important"}},[e.selectedDomainForPValueUploaded.length>0?a("v-card",{staticStyle:{width:"400px"},attrs:{color:"white"}},[a("v-card",{attrs:{color:e.color_3[i%e.color_3.length]+80,height:"100%"}},[a("h5",{staticStyle:{"text-align":"center",color:"black"}},[e._v(e._s(t.toUpperCase()))])])],1):e._e()],1)})),1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}}),e._l(e.rowsAnalyzeTime,(function(t,i){return a("v-flex",{key:"pValue"+i,staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-space-between":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 md2 d-flex",staticStyle:{"justify-content":"left"}},[a("v-card",{staticStyle:{height:"250px"},attrs:{"max-width":"500px",color:"#F1FAEE"}},[a("v-card-text",{staticStyle:{"text-align":"center","padding-top":"55px"}},[a("span",[a("b",[e._v(" TARGET: ")]),a("br")]),a("span",[a("span",[e._v(e._s(e.fixedRowAnalyzeTime[i][0]["target"]))]),a("br")]),a("span",[e._v(" NUM SEQ:\n                            "),a("span",[e._v(e._s(e.fixedRowAnalyzeTime[i][0]["denominator_target"]))]),a("br")]),a("br"),a("span",[a("b",[e._v(" BACKGROUND: ")]),a("br")]),a("span",[a("span",[e._v(e._s(e.fixedRowAnalyzeTime[i][0]["background"]))]),a("br")]),a("span",[e._v(" NUM SEQ:\n                            "),a("span",[e._v(e._s(e.fixedRowAnalyzeTime[i][0]["denominator_background"]))]),a("br")])])],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md10 d-flex",staticStyle:{"justify-content":"center"}},[a("PValueBarChart",{attrs:{namePValue:e.pValueName[i],pValueContent:e.pValueContent[i],totalMaxOddsRatio:e.totalMaxOddsRatio,startStopProtein:e.startStopProtein,selectedDomainForPValue:e.selectedDomainForPValue,possibleDomainForPValue:e.possibleDomainForPValue,selectedDomainForPValueMutagenesis:e.selectedDomainForPValueMutagenesis,possibleDomainForPValueMutagenesis:e.possibleDomainForPValueMutagenesis,selectedDomainForPValueAaModifications:e.selectedDomainForPValueAaModifications,possibleDomainForPValueAaModifications:e.possibleDomainForPValueAaModifications,selectedDomainForPValueUploaded:e.selectedDomainForPValueUploaded,possibleDomainForPValueUploaded:e.possibleDomainForPValueUploaded,type:"time",rowsAnalTime:t,protein:e.selectedProteinForPValue}})],1)],1)],1)}))],2):e._e()],1)],1)],1)],1):e._e()],1),a("v-overlay",{attrs:{value:e.overlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),a("v-dialog",{attrs:{persistent:"",scrollable:"",width:"700"},model:{value:e.dialogAccessionIds,callback:function(t){e.dialogAccessionIds=t},expression:"dialogAccessionIds"}},[a("v-card",[a("v-card-title",{staticClass:"headline",staticStyle:{"background-color":"#A8DADC"}},[e._v("\n        Accession IDs\n        "),a("v-spacer"),a("v-btn",{attrs:{color:"rgb(122, 139, 157)",text:""},on:{click:function(t){return e.downloadAccessionIds()}}},[e._v("\n          DOWNLOAD\n        ")]),a("v-btn",{attrs:{color:"rgb(122, 139, 157)",text:""},on:{click:function(t){e.dialogAccessionIds=!e.dialogAccessionIds}}},[e._v("\n          CLOSE\n        ")])],1),a("v-card-text",{staticStyle:{padding:"50px"}},e._l(e.listAccessionIds,(function(t){return a("span",{key:t},[a("span",[e._v(" - "+e._s(t))]),a("br")])})),0)],1)],1)],1)},Ea=[],Ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"95%"}},[a("v-container",{staticStyle:{"justify-content":"center","text-align":"center","z-index":"1"},attrs:{fluid:"","grid-list-xl":""}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"50px"}},[a("h2",{staticStyle:{"text-align":"center"}},[e._v("# GENOMES BY COLLECTION DATE ")]),a("v-btn",{staticStyle:{"margin-left":"20px","margin-bottom":"5px"},attrs:{"x-small":"",icon:""},on:{click:e.download}},[a("v-icon",{attrs:{size:"23"}},[e._v("\n                          mdi-download-circle-outline\n                        ")])],1)],1)],1),a("v-row",{staticStyle:{"z-index":"1"},attrs:{justify:"center",align:"center"}},[a("div",{staticStyle:{width:"100%",height:"500px","user-select":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)",padding:"0","border-width":"0","background-color":"white","margin-top":"50px","z-index":"1"},attrs:{id:e.timeName}})])],1),a("v-container",{staticStyle:{"justify-content":"center","background-color":"white",width:"100%"},attrs:{fluid:"","grid-list-xl":""}},[a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center","padding-top":"0","padding-bottom":"0"}},[a("div",{staticStyle:{width:"100%","z-index":"3"}},[a("v-range-slider",{attrs:{min:"0",max:e.max_range,color:"#F48C0680","track-color":"grey",height:"2px","hide-details":""},model:{value:e.background_slider,callback:function(t){e.background_slider=t},expression:"background_slider"}})],1)]),a("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center","padding-top":"0","padding-bottom":"0","margin-top":"30px"}},[a("div",{staticStyle:{width:"100%","z-index":"3"}},[a("v-range-slider",{attrs:{min:"0",max:e.max_range,color:"#DC2F0280","track-color":"grey",height:"2px","hide-details":""},model:{value:e.target_slider,callback:function(t){e.target_slider=t},expression:"target_slider"}})],1)]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","padding-top":"0","padding-bottom":"0"}}),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 d-flex",staticStyle:{"justify-content":"center",margin:"0",padding:"0"}},[a("v-checkbox",{attrs:{label:"Start Target = Stop Background + 1","input-value":"true","hide-details":""},model:{value:e.isStartTargetStopBackground,callback:function(t){e.isStartTargetStopBackground=t},expression:"isStartTargetStopBackground"}})],1)],1)],1),a("v-container",{staticStyle:{"justify-content":"center","background-color":"white",width:"100%","padding-bottom":"50px"},attrs:{fluid:"","grid-list-xl":""}},[a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{staticStyle:{width:"80%"},attrs:{color:"#F48C0680"}},[a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 md12 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center",padding:"0","margin-top":"10px"}},[a("h3",{staticStyle:{"text-align":"center"}},[e._v("BACKGROUND NUM SEQUENCES: ")])]),a("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{value:e.num_sequences_background,solo:"",readonly:"","hide-details":""}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("div",{staticStyle:{color:"#F48C0680"}},[e._v(" . ")])])],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center",padding:"0","margin-top":"10px"}},[a("h3",{staticStyle:{"text-align":"center"}},[e._v("START BACKGROUND: ")])]),a("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center",padding:"0",position:"relative"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"","hide-details":""},scopedSlots:e._u([{key:"append",fn:function(){return[e.wrongDateStartBackground?a("v-icon",{attrs:{color:"#E63946"}},[e._v("\n                            mdi-close-circle\n                          ")]):a("v-icon",{attrs:{color:"#1D3557"}},[e._v("\n                            mdi-checkbox-marked-circle\n                          ")])]},proxy:!0}]),model:{value:e.startBackgroundField,callback:function(t){e.startBackgroundField=t},expression:"startBackgroundField"}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",{staticStyle:{"text-align":"center"}},[e._v(" (input date using the YYYY-MM-DD format) ")])])],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center",padding:"0","margin-top":"10px"}},[a("h3",{staticStyle:{"text-align":"center"}},[e._v("END BACKGROUND: ")])]),a("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"","hide-details":""},scopedSlots:e._u([{key:"append",fn:function(){return[e.wrongDateStopBackground?a("v-icon",{attrs:{color:"#E63946"}},[e._v("\n                            mdi-close-circle\n                          ")]):a("v-icon",{attrs:{color:"#1D3557"}},[e._v("\n                            mdi-checkbox-marked-circle\n                          ")])]},proxy:!0}]),model:{value:e.stopBackgroundField,callback:function(t){e.stopBackgroundField=t},expression:"stopBackgroundField"}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",{staticStyle:{"text-align":"center"}},[e._v(" (input date using the YYYY-MM-DD format) ")])])],1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{staticStyle:{width:"80%"},attrs:{color:"#DC2F0280"}},[a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 md12 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center",padding:"0","margin-top":"10px"}},[a("h3",{staticStyle:{"text-align":"center"}},[e._v("TARGET NUM SEQUENCES: ")])]),a("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{value:e.num_sequences_target,solo:"",readonly:"","hide-details":""}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("div",{staticStyle:{color:"#DC2F0280"}},[e._v(" . ")])])],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center",padding:"0","margin-top":"10px"}},[a("h3",{staticStyle:{"text-align":"center"}},[e._v("START TARGET: ")])]),a("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"","hide-details":""},scopedSlots:e._u([{key:"append",fn:function(){return[e.wrongDateStartTarget?a("v-icon",{attrs:{color:"#E63946"}},[e._v("\n                            mdi-close-circle\n                          ")]):a("v-icon",{attrs:{color:"#1D3557"}},[e._v("\n                            mdi-checkbox-marked-circle\n                          ")])]},proxy:!0}]),model:{value:e.startTargetField,callback:function(t){e.startTargetField=t},expression:"startTargetField"}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",{staticStyle:{"text-align":"center"}},[e._v(" (input date using the YYYY-MM-DD format) ")])])],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center",padding:"0","margin-top":"10px"}},[a("h3",{staticStyle:{"text-align":"center"}},[e._v("END TARGET: ")])]),a("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"","hide-details":""},scopedSlots:e._u([{key:"append",fn:function(){return[e.wrongDateStopTarget?a("v-icon",{attrs:{color:"#E63946"}},[e._v("\n                            mdi-close-circle\n                          ")]):a("v-icon",{attrs:{color:"#1D3557"}},[e._v("\n                            mdi-checkbox-marked-circle\n                          ")])]},proxy:!0}]),model:{value:e.stopTargetField,callback:function(t){e.stopTargetField=t},expression:"stopTargetField"}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",{staticStyle:{"text-align":"center"}},[e._v(" (input date using the YYYY-MM-DD format) ")])])],1)],1)],1)],1)],1)],1)],1)],1)],1)},Va=[],ja={name:"TimeDistributionChart",props:{timeName:{required:!0},timeContent:{required:!0},filterDate:{required:!0}},data:function(){return{background_slider:[0,500],target_slider:[500,1500],left_ranges_width:10,total_ranges_width:80,max_range:0,num_sequences_background:0,num_sequences_target:0,startBackgroundField:0,stopBackgroundField:0,startTargetField:0,stopTargetField:0,wrongDateStartBackground:!1,wrongDateStopBackground:!1,wrongDateStartTarget:!1,wrongDateStopTarget:!1,min_num_seq_target:50,min_num_seq_background:50,isStartTargetStopBackground:!1,options_slider:{enableCross:!1},barChart:{title:{},tooltip:{trigger:"item"},legend:{data:["Time distribution","AVG of previous 7 days"],top:"20px",selectedMode:!1,itemGap:50},series:[{name:"Time distribution",type:"bar",radius:"50%",data:[],itemStyle:{color:"#1D3557"},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"#1D3557"}},markArea:{tooltip:{show:!1},data:[[{xAxis:0,itemStyle:{color:"#F48C0680"}},{xAxis:0}],[{xAxis:0,itemStyle:{color:"#DC2F0280"}},{xAxis:0}]]}},{name:"AVG of previous 7 days",type:"line",data:[],color:"#1D3557"}],xAxis:{type:"category",data:[]},yAxis:{type:"value"},dataZoom:[{type:"inside"}]},my_chart:null}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])(["queryTime"])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])(["setTimeRangesTargetAndBackground","setTrueErrorNumSeqQueryTime","setFalseErrorNumSeqQueryTime"])),Object(p["b"])([])),{},{download:function(){var e=this.my_chart.getConnectedDataURL({pixelRatio:2,backgroundColor:"white"}),t=document.createElement("a"),a="png",i="temporal_analysis_timeDistribution2Periods";if(this.queryTime["lineage"]&&(i+="_"+this.queryTime["lineage"]),this.queryTime["geo_group"]?this.queryTime["country"]?this.queryTime["region"]?this.queryTime["province"]?i+="_"+this.queryTime["province"]:i+="_"+this.queryTime["region"]:i+="_"+this.queryTime["country"]:i+="_"+this.queryTime["geo_group"]:i+="_World",t.download=i+"."+a,t.target="_blank",t.href=e,"function"===typeof MouseEvent){var n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});t.dispatchEvent(n)}else{var s='<body style="margin:0;">![]('+e+")</body>",r=window.open();r.document.write(s)}},renderGraphFilterDate:function(){if("Month"===this.filterDate){var e=JSON.parse(JSON.stringify(this.timeContent)),t=[],a=e.length,i=0;while(i<a){var n=e[i],s=n["name"],r=s.split("-"),o=r[0]+"-"+r[1],l=!1;for(var c in t){var d=t[c];d["name"]===o&&(l=!0,d["value"]=d["value"]+n["value"])}if(!l){var u={name:o,value:n["value"]};t.push(u)}i+=1}this.renderGraph(t)}else if("Year"===this.filterDate){var h=JSON.parse(JSON.stringify(this.timeContent)),g=[],p=h.length,f=0;while(f<p){var v=h[f],y=v["name"],m=y.split("-"),x=m[0],_=!1;for(var b in g){var S=g[b];S["name"]===x&&(_=!0,S["value"]=S["value"]+v["value"])}if(!_){var C={name:x,value:v["value"]};g.push(C)}f+=1}this.renderGraph(g)}else if("Day"===this.filterDate){var T=JSON.parse(JSON.stringify(this.timeContent));this.renderGraph(T)}},renderGraph:function(e){var t=e.length,a=0,i=[],n=[],s=[];while(a<t){var r=e[a],o=0;if(a-7>0)for(var l=8;l>0;l-=1)o+=parseInt(e[a-l]["value"]);s.push((o/7).toFixed(3)),i.push(r["name"]),n.push(r["value"]),a+=1}this.barChart.series[0].data=n,this.barChart.series[1].data=s,this.barChart.xAxis.data=i,null===this.my_chart||this.my_chart.dispose(),this.my_chart=L["b"](document.getElementById(this.timeName)),this.my_chart.setOption(this.barChart,!0)},changeMarkerAndRender:function(e,t,a,i){e===t||t===a-1?t<this.max_range?(this.barChart.series[0].markArea.data[0][0].xAxis=e,this.barChart.series[0].markArea.data[0][1].xAxis=t+1):(this.barChart.series[0].markArea.data[0][0].xAxis=e-1,this.barChart.series[0].markArea.data[0][1].xAxis=t):(this.barChart.series[0].markArea.data[0][0].xAxis=e,this.barChart.series[0].markArea.data[0][1].xAxis=t),a===i?i<this.max_range?(this.barChart.series[0].markArea.data[1][0].xAxis=a,this.barChart.series[0].markArea.data[1][1].xAxis=i+1):(this.barChart.series[0].markArea.data[1][0].xAxis=a-1,this.barChart.series[0].markArea.data[1][1].xAxis=i):(this.barChart.series[0].markArea.data[1][0].xAxis=a,this.barChart.series[0].markArea.data[1][1].xAxis=i),this.startBackgroundField=this.translateIndexToDate(e),this.stopBackgroundField=this.translateIndexToDate(t),this.startTargetField=this.translateIndexToDate(a),this.stopTargetField=this.translateIndexToDate(i);var n=this.timeContent.length,s=0;this.num_sequences_background=0,this.num_sequences_target=0;while(s<n)s>=e&&s<=t?this.num_sequences_background=this.num_sequences_background+this.timeContent[s].value:s>=a&&s<=i&&(this.num_sequences_target=this.num_sequences_target+this.timeContent[s].value),s+=1;this.num_sequences_target<this.min_num_seq_target||this.num_sequences_background<this.min_num_seq_background?this.setTrueErrorNumSeqQueryTime():this.setFalseErrorNumSeqQueryTime(),this.renderGraphFilterDate()},translateIndexToDate:function(e){return this.timeContent[e].name},translateDateToIndex:function(e){var t=this.timeContent.findIndex((function(t){return t.name===e}));return t}}),watch:{isStartTargetStopBackground:function(){var e=this.translateDateToIndex(this.startTargetField),t=this.background_slider[0];this.background_slider=[t,e-1]},timeContent:function(){this.renderGraphFilterDate()},filterDate:function(){this.renderGraphFilterDate()},startBackgroundField:function(){this.wrongDateStartBackground=!1;var e=this.translateDateToIndex(this.startBackgroundField);if(-1===e||e>this.background_slider[1])this.wrongDateStartBackground=!0;else{var t=this.background_slider[1];this.background_slider=[e,t]}},stopBackgroundField:function(){this.wrongDateStopBackground=!1;var e=this.translateDateToIndex(this.stopBackgroundField);if(-1===e||e<this.background_slider[0]||e>=this.target_slider[0]&&!this.isStartTargetStopBackground)this.wrongDateStopBackground=!0;else{var t=this.background_slider[0];if(this.background_slider=[t,e],this.isStartTargetStopBackground){var a=this.target_slider[1];this.target_slider=[e+1,a]}}},startTargetField:function(){this.wrongDateStartTarget=!1;var e=this.translateDateToIndex(this.startTargetField);if(-1===e||e<=this.background_slider[1]&&!this.isStartTargetStopBackground||e>this.target_slider[1])this.wrongDateStartTarget=!0;else{var t=this.target_slider[1];if(this.target_slider=[e,t],this.isStartTargetStopBackground){var a=this.background_slider[0];this.background_slider=[a,e-1]}}},stopTargetField:function(){this.wrongDateStopTarget=!1;var e=this.translateDateToIndex(this.stopTargetField);if(-1===e||e<this.target_slider[0])this.wrongDateStopTarget=!0;else{var t=this.target_slider[0];this.target_slider=[t,e]}},background_slider:function(){this.target_slider[0]<=this.background_slider[1]&&!this.isStartTargetStopBackground&&(this.background_slider[1]=this.target_slider[0]-1),this.changeMarkerAndRender(this.background_slider[0],this.background_slider[1],this.target_slider[0],this.target_slider[1]);var e={start_background_time:this.timeContent[this.background_slider[0]].name,end_background_time:this.timeContent[this.background_slider[1]].name,start_target_time:this.timeContent[this.target_slider[0]].name,end_target_time:this.timeContent[this.target_slider[1]].name};this.setTimeRangesTargetAndBackground(e)},target_slider:function(){this.background_slider[1]>=this.target_slider[0]&&!this.isStartTargetStopBackground&&(this.target_slider[0]=this.background_slider[1]+1),this.changeMarkerAndRender(this.background_slider[0],this.background_slider[1],this.target_slider[0],this.target_slider[1]);var e={start_background_time:this.timeContent[this.background_slider[0]].name,end_background_time:this.timeContent[this.background_slider[1]].name,start_target_time:this.timeContent[this.target_slider[0]].name,end_target_time:this.timeContent[this.target_slider[1]].name};this.setTimeRangesTargetAndBackground(e)}},mounted:function(){this.setFalseErrorNumSeqQueryTime(),this.max_range=this.timeContent.length-1;var e="2021-03-31",t=this.timeContent.findIndex((function(t){return t.name===e}));-1===t&&(t=Math.floor(this.max_range/2)),this.background_slider[0]=0,this.background_slider[1]=t,this.target_slider[0]=t+1,this.target_slider[1]=this.max_range,this.changeMarkerAndRender(0,t,t,this.max_range)}},Oa=ja,Ia=(a("b05c"),Object(x["a"])(Oa,Ba,Va,!1,null,"5e8dbe4e",null)),Na=Ia.exports;b()(Ia,{VBtn:S["a"],VCard:C["a"],VCardText:T["b"],VCheckbox:ka["a"],VContainer:w["a"],VFlex:k["a"],VIcon:A["a"],VLayout:D["a"],VRangeSlider:ct["a"],VRow:E["a"],VTextField:V["a"]});var qa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},["lineage"!==e.field?a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("SelectorsPieChart",{attrs:{nameField:e.field,field:e.field,nameQuery:"time",fieldContent:e.possibleValues,isLoading:e.isLoading}})],1):e._e(),"lineage"!==e.field?a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-autocomplete",{attrs:{items:e.possibleValues,label:"geo_group"===e.field?"continent":e.field,solo:"",clearable:"","hide-details":"","item-text":e.getFieldText,loading:e.isLoading,disabled:e.isLoading||0===e.possibleValues.length},scopedSlots:e._u([{key:"item",fn:function(t){return[a("span",{staticClass:"item-value-span"},[e._v(e._s(e.getFieldText(t.item)))]),a("span",{staticClass:"item-count-span"},[e._v(e._s(t.item.count))])]}}],null,!1,3870911933),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1):e._e(),"lineage"===e.field?a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("LineageTreeSelector",{staticStyle:{width:"100%"},attrs:{isLoading:e.isLoading,possibleValues:e.possibleValues,type:"time"}})],1):e._e()],1)],1)],1)],1)},za=[],La={name:"SelectorsQueryTime",components:{LineageTreeSelector:Yt,SelectorsPieChart:qt},props:{field:{required:!0}},data:function(){return{possibleValues:[],isLoading:!1,selectorDisabled:!1}},computed:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["e"])(["queryTime","toExcludeTime"])),Object(p["c"])({})),{},{selected:{get:function(){return this.queryTime[this.field]},set:function(e){this.setQueryTime({field:this.field,list:e})}}}),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])([])),Object(p["b"])(["setQueryTime"])),{},{getFieldText:function(e){var t="";return t=e["value"],t},loadData:function(){var e=this;if("province"===this.field&&!this.queryTime["region"]||"region"===this.field&&!this.queryTime["country"]||"country"===this.field&&!this.queryTime["geo_group"])this.possibleValues=[],this.isLoading=!1;else{this.isLoading=!0;var t="/analyze/selectorQuery",a=JSON.parse(JSON.stringify(this.queryTime)),i={};"geo_group"===this.field?(delete a["country"],delete a["region"],delete a["province"]):"country"===this.field?(delete a["region"],delete a["province"]):"region"===this.field&&delete a["province"],a["toExclude"]=[],i["field"]=this.field,i["query"]=a,s.a.post(t,i).then((function(e){return e.data})).then((function(t){e.possibleValues=t,e.isLoading=!1}))}}}),mounted:function(){this.loadData()},watch:{queryTime:function(){this.loadData()}}},Ra=La,Ga=(a("d17f"),Object(x["a"])(Ra,qa,za,!1,null,"0ed730e4",null)),Qa=Ga.exports;b()(Ga,{VAutocomplete:vt["a"],VFlex:k["a"],VLayout:D["a"]});var Ja=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{position:"relative",width:"95%"}},[i("v-container",{staticStyle:{"justify-content":"center","text-align":"center","z-index":"1"},attrs:{fluid:"","grid-list-xl":""}},[i("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"50px"}},[i("h2",[e._v("# GENOMES BY COLLECTION DATE ")]),i("v-btn",{staticStyle:{"margin-left":"20px","margin-bottom":"5px"},attrs:{"x-small":"",icon:""},on:{click:e.download}},[i("v-icon",{attrs:{size:"23"}},[e._v("\n                  mdi-download-circle-outline\n                ")])],1)],1)],1),i("v-row",{staticStyle:{"z-index":"1"},attrs:{justify:"center",align:"center"}},[i("div",{staticStyle:{width:"100%",height:"500px","user-select":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)",padding:"0","border-width":"0","background-color":"white","margin-top":"50px","z-index":"1"},attrs:{id:e.timeName}})])],1),e.overlay?i("div",{staticStyle:{position:"absolute",top:"200px",left:"40%",width:"20%",height:"20%"}},[i("v-img",{staticStyle:{"z-index":"1"},attrs:{src:a("ef03")}})],1):e._e(),i("v-container",{staticStyle:{"justify-content":"center","background-color":"white",width:"100%"},attrs:{fluid:"","grid-list-xl":""}},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center","padding-top":"0","padding-bottom":"0"}},[i("div",{staticStyle:{width:"100%","z-index":"3"}},[i("v-range-slider",{attrs:{min:"0",max:e.max_range,color:"#F48C0680","track-color":"grey",height:"2px"},model:{value:e.slider,callback:function(t){e.slider=t},expression:"slider"}})],1)])],1)],1),i("v-container",{staticStyle:{"justify-content":"center","background-color":"white",width:"100%"},attrs:{fluid:"","grid-list-xl":""}},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 md10 lg6 d-flex",staticStyle:{"justify-content":"center"}},[i("v-card",{staticStyle:{width:"100%",margin:"20px"},attrs:{color:"#F48C0680"}},[i("v-card-text",[i("v-layout",{staticStyle:{"padding-bottom":"30px","padding-top":"30px"},attrs:{row:"",wrap:"","justify-space-around":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center","padding-bottom":"0"}},[i("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("h3",{staticStyle:{"text-align":"center"}},[e._v("START: ")])]),i("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("v-text-field",{staticClass:"centered-input",attrs:{solo:"","hide-details":""},scopedSlots:e._u([{key:"append",fn:function(){return[e.wrong_last_start_date?i("v-icon",{attrs:{color:"#E63946"}},[e._v("\n                            mdi-close-circle\n                          ")]):i("v-icon",{attrs:{color:"#1D3557"}},[e._v("\n                            mdi-checkbox-marked-circle\n                          ")])]},proxy:!0}]),model:{value:e.last_start_date,callback:function(t){e.last_start_date=t},expression:"last_start_date"}})],1),i("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center","padding-top":"0"}},[i("span",{staticStyle:{"text-align":"center"}},[e._v(" (input date using the YYYY-MM-DD format) ")])])],1)],1),i("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center","padding-bottom":"0"}},[i("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("h3",{staticStyle:{"text-align":"center"}},[e._v("END: ")])]),i("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("v-text-field",{staticClass:"centered-input",attrs:{solo:"","hide-details":""},scopedSlots:e._u([{key:"append",fn:function(){return[e.wrong_last_stop_date?i("v-icon",{attrs:{color:"#E63946"}},[e._v("\n                            mdi-close-circle\n                          ")]):i("v-icon",{attrs:{color:"#1D3557"}},[e._v("\n                            mdi-checkbox-marked-circle\n                          ")])]},proxy:!0}]),model:{value:e.last_stop_date,callback:function(t){e.last_stop_date=t},expression:"last_stop_date"}})],1),i("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center","padding-top":"0"}},[i("span",{staticStyle:{"text-align":"center"}},[e._v(" (input date using the YYYY-MM-DD format) ")])])],1)],1)],1)],1)],1)],1),i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}}),i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-bottom":"20px"}},[i("v-card",{staticStyle:{width:"80%",padding:"10px",background:"linear-gradient(0deg, #F1FAEE 50%, #F1FAEE 50%)"}},[i("v-card-title",{staticClass:"justify-center"},[i("h3",[e._v("Type of analysis")])]),i("v-card-text",[i("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 md4 lg4 d-flex",staticStyle:{"justify-content":"center"}},[i("v-select",{attrs:{items:e.possibleTypeOfAnalysis,label:"Protein",solo:"","hide-details":""},model:{value:e.selectedTypeOfAnalysis,callback:function(t){e.selectedTypeOfAnalysis=t},expression:"selectedTypeOfAnalysis"}})],1),"User defined interval"===e.selectedTypeOfAnalysis?i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[i("h3",[e._v("Span of the user defined interval (in days)")])]):e._e(),"User defined interval"===e.selectedTypeOfAnalysis?i("v-flex",{staticClass:"no-horizontal-padding xs2 d-flex",staticStyle:{"justify-content":"center",margin:"0",padding:"0"}},[i("v-text-field",{attrs:{label:"Protein",solo:"",min:"0",max:"365","hide-details":"",type:"number"},model:{value:e.selectedNumDaysAnalysis,callback:function(t){e.selectedNumDaysAnalysis=t},expression:"selectedNumDaysAnalysis"}})],1):e._e(),i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-bottom":"20px"}},[i("span",[i("b",[e._v("Only intervals associated with a sufficient number of genomic sequences (in bold) will be compared")])])]),e._l(e.timeDivision,(function(t,a){return i("v-flex",{key:t[0],staticClass:"no-horizontal-padding xs12 md5 lg5 d-flex",staticStyle:{"justify-content":"center","margin-bottom":"5px"}},[e.timeDivisionAcceptable.includes(t)?i("v-row",{staticStyle:{width:"100%",border:"#1D3557 solid 7px"},attrs:{"justify-center":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs6 d-flex",staticStyle:{"justify-content":"center"}},[i("span",{staticStyle:{"text-align":"center"}},[i("b",[e._v("PERIOD: ")]),i("br"),e._v(" "+e._s(t[0])+" - "+e._s(t[1]))])]),i("v-flex",{staticClass:"no-horizontal-padding xs4 d-flex",staticStyle:{"justify-content":"center"}},[i("span",{staticStyle:{"text-align":"center"}},[i("b",[e._v("NUM SEQUENCES:")]),i("br"),e._v(" "+e._s(t[2]))])]),i("v-flex",{staticClass:"no-horizontal-padding xs2 d-flex",staticStyle:{"justify-content":"center"}},[i("span",{staticStyle:{"text-align":"center"}},[i("b",[e._v("ORDER:")]),i("br"),e._v(" "+e._s(a+1))])])],1):e.timeDivisionNumSeqAcceptable.includes(t)?i("v-row",{staticStyle:{width:"100%",border:"grey solid 1px"},attrs:{"justify-center":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs6 d-flex",staticStyle:{"justify-content":"center"}},[i("span",{staticStyle:{"text-align":"center"}},[i("b",[e._v("PERIOD: ")]),i("br"),e._v(" "+e._s(t[0])+" - "+e._s(t[1]))])]),i("v-flex",{staticClass:"no-horizontal-padding xs4 d-flex",staticStyle:{"justify-content":"center"}},[i("span",{staticStyle:{"text-align":"center"}},[i("b",[e._v("NUM SEQUENCE:")]),i("br"),e._v(" "+e._s(t[2]))])]),i("v-flex",{staticClass:"no-horizontal-padding xs2 d-flex",staticStyle:{"justify-content":"center"}},[i("span",{staticStyle:{"text-align":"center"}},[i("b",[e._v("ORDER:")]),i("br"),e._v(" "+e._s(a+1))])])],1):i("v-row",{staticStyle:{width:"100%",border:"grey solid 1px"},attrs:{"justify-center":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs6 d-flex",staticStyle:{"justify-content":"center"}},[i("span",{staticStyle:{"text-align":"center"}},[i("b",[e._v("PERIOD: ")]),i("br"),e._v(" "+e._s(t[0])+" - "+e._s(t[1]))])]),i("v-flex",{staticClass:"no-horizontal-padding xs4 d-flex",staticStyle:{"justify-content":"center"}},[i("span",{staticStyle:{"text-align":"center"}},[i("b",[e._v("NUM SEQUENCES:")]),i("br"),e._v(" "+e._s(t[2]))])]),i("v-flex",{staticClass:"no-horizontal-padding xs2 d-flex",staticStyle:{"justify-content":"center"}},[i("span",{staticStyle:{"text-align":"center"}},[i("b",[e._v("ORDER:")]),i("br"),e._v(" "+e._s(a+1))])])],1)],1)}))],2)],1)],1)],1)],1)],1)],1)},Ua=[],Ha={name:"TimeDistributionChartWeekMonth",props:{timeName:{required:!0},timeContent:{required:!0},filterDate:{required:!0}},data:function(){return{overlay:!1,slider:[0,1500],max_range:0,last_start_date:null,last_stop_date:null,num_sequences:0,wrong_last_start_date:!1,wrong_last_stop_date:!1,selectedTypeOfAnalysis:"Months",possibleTypeOfAnalysis:["Months","Weeks","User defined interval"],selectedNumDaysAnalysis:30,timeDivision:[],timeDivisionNumSeqAcceptable:[],min_num_seq:50,options_slider:{enableCross:!1},barChart:{title:{},tooltip:{trigger:"item"},legend:{data:["Time distribution","AVG of previous 7 days"],top:"20px",selectedMode:!1,itemGap:50},series:[{name:"Time distribution",type:"bar",radius:"50%",data:[],itemStyle:{color:"#323F8B"},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"#323F8B"}},markArea:{tooltip:{show:!1},data:[[{xAxis:0,itemStyle:{color:"#F48C0680"}},{xAxis:0}]]}},{name:"AVG of previous 7 days",type:"line",data:[],color:"#323F8B"}],xAxis:{type:"category",data:[]},yAxis:{type:"value"},dataZoom:[{type:"inside"}]},my_chart:null}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])(["timeDivisionAcceptable","queryTime"])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])(["setTimeDivisionAcceptable","setTrueErrorNumSeqQueryTime","setFalseErrorNumSeqQueryTime"])),Object(p["b"])([])),{},{download:function(){var e=this.my_chart.getConnectedDataURL({pixelRatio:2,backgroundColor:"white"}),t=document.createElement("a"),a="png",i="temporal_analysis_timeDistributionNPeriods";if(this.queryTime["lineage"]&&(i+="_"+this.queryTime["lineage"]),this.queryTime["geo_group"]?this.queryTime["country"]?this.queryTime["region"]?this.queryTime["province"]?i+="_"+this.queryTime["province"]:i+="_"+this.queryTime["region"]:i+="_"+this.queryTime["country"]:i+="_"+this.queryTime["geo_group"]:i+="_World",t.download=i+"."+a,t.target="_blank",t.href=e,"function"===typeof MouseEvent){var n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});t.dispatchEvent(n)}else{var s='<body style="margin:0;">![]('+e+")</body>",r=window.open();r.document.write(s)}},renderGraphFilterDate:function(){var e=JSON.parse(JSON.stringify(this.timeContent));this.renderGraph(e)},renderGraph:function(e){var t=e.length,a=0,i=[],n=[],s=[];while(a<t){var r=e[a],o=0;if(a-7>0)for(var l=8;l>0;l-=1)o+=parseInt(e[a-l]["value"]);s.push((o/7).toFixed(3)),i.push(r["name"]),n.push(r["value"]),a+=1}this.barChart.series[0].data=n,this.barChart.series[1].data=s,this.barChart.xAxis.data=i,null===this.my_chart||this.my_chart.dispose(),this.my_chart=L["b"](document.getElementById(this.timeName)),this.my_chart.setOption(this.barChart,!0)},changeMarkerAndRender:function(e,t){e===t?t<this.max_range?(this.barChart.series[0].markArea.data[0][0].xAxis=e,this.barChart.series[0].markArea.data[0][1].xAxis=t+1):(this.barChart.series[0].markArea.data[0][0].xAxis=e-1,this.barChart.series[0].markArea.data[0][1].xAxis=t):(this.barChart.series[0].markArea.data[0][0].xAxis=e,this.barChart.series[0].markArea.data[0][1].xAxis=t);var a=this.timeContent.length,i=0;this.num_sequences=0;while(i<a)i>=e&&i<=t&&(this.num_sequences=this.num_sequences+this.timeContent[i].value),i+=1;this.renderGraphFilterDate()},translateIndexToDate:function(e){if(this.timeContent[e])return this.timeContent[e].name},translateDateToIndex:function(e){return this.timeContent.findIndex((function(t){return t.name===e}))},computeTimeDivision:function(){var e,t,a;this.timeDivision=[];var i=[];if(this.selectedTypeOfAnalysis===this.possibleTypeOfAnalysis[2]){e=this.slider[0],t=this.slider[1],a=parseInt(this.selectedNumDaysAnalysis);var n=!0,s=e;while(n){var r=[];r[0]=this.translateIndexToDate(s),s+a>t?(r[1]=this.translateIndexToDate(t),n=!1):r[1]=this.translateIndexToDate(s+a-1);var o=s,l=0;while(o<s+a)o<=t&&(l+=this.timeContent[o].value),o+=1;r[2]=l,l>this.min_num_seq&&i.push(r),this.timeDivision.push(r),s+=a}}else if(this.selectedTypeOfAnalysis===this.possibleTypeOfAnalysis[1]){var c,d,u=new Date(this.translateIndexToDate(this.slider[0])),h=new Date(this.translateIndexToDate(this.slider[1]));a=7;var g=u.getDay()||7;1!==g?(c=g-1,u.setHours(-24*(g-1))):c=g-1;var p=h.getDay()||7;7!==p?(d=7-p,h.setHours(24*(7-p))):d=7-p,this.slider[0]-c>=0?e=this.slider[0]-c:(e=this.slider[0],a=7-c),t=this.slider[1]+d<=this.max_range?this.slider[1]+d:this.slider[1];var f=!0,v=e;while(f){var y=[];y[0]=this.translateIndexToDate(v),v+a>t?(y[1]=this.translateIndexToDate(t),f=!1):y[1]=this.translateIndexToDate(v+a-1);var m=v,x=0;while(m<v+a)m<=t&&(x+=this.timeContent[m].value),m+=1;y[2]=x,x>this.min_num_seq&&i.push(y),this.timeDivision.push(y),v+=a,a=7}}else if(this.selectedTypeOfAnalysis===this.possibleTypeOfAnalysis[0]){var _=new Date(this.translateIndexToDate(this.slider[0])),b=new Date(this.translateIndexToDate(this.slider[1])),S=new Date(_).toISOString().slice(0,10).split("-"),C=new Date(b).toISOString().slice(0,10).split("-"),T=S[2]-1,w=this.dayInMoth(C[1],C[0]),F=w-C[2],k=0;if(this.slider[0]-T>=0)e=this.slider[0]-T;else{var A=this.dayInMoth(S[1],S[0]);e=this.slider[0],k=A-T}t=this.slider[1]+F<=this.max_range?this.slider[1]+F:this.slider[1];var D=!0,P=e;while(D){var M=[];M[0]=this.translateIndexToDate(P);var E=new Date(M[0]).toISOString().slice(0,10).split("-"),B=void 0;B=0!==k?k:this.dayInMoth(E[1],E[0]),P+B>t?(M[1]=this.translateIndexToDate(t),D=!1):M[1]=this.translateIndexToDate(P+B-1);var V=P,j=0;while(V<P+B)V<=t&&(j+=this.timeContent[V].value),V+=1;M[2]=j,j>this.min_num_seq&&i.push(M),this.timeDivision.push(M),P+=B,k=0}}this.timeDivisionNumSeqAcceptable=i;for(var O=[],I=0;I<this.timeDivisionNumSeqAcceptable.length;I+=1){if(I>0){var N=new Date(this.timeDivisionNumSeqAcceptable[I][0]),q=new Date(this.timeDivisionNumSeqAcceptable[I-1][1]);N.setDate(N.getDate()-1);var z=new Date(N).toISOString().slice(0,10),L=new Date(q).toISOString().slice(0,10);z===L&&O.push(this.timeDivisionNumSeqAcceptable[I])}if(I<this.timeDivisionNumSeqAcceptable.length-1){var R=new Date(this.timeDivisionNumSeqAcceptable[I][1]),G=new Date(this.timeDivisionNumSeqAcceptable[I+1][0]);G.setDate(G.getDate()-1);var Q=new Date(R).toISOString().slice(0,10),J=new Date(G).toISOString().slice(0,10);Q===J&&O.push(this.timeDivisionNumSeqAcceptable[I])}}O.length<2?this.setTrueErrorNumSeqQueryTime():this.setFalseErrorNumSeqQueryTime(),this.setTimeDivisionAcceptable(O)},dayInMoth:function(e,t){var a,i=parseInt(e),n=parseInt(t);return a=4===i||6===i||9===i||11===i?30:2===i?!(n%4)&&n%100||!n%400?29:28:31,a}}),watch:{last_start_date:function(){this.wrong_last_start_date=!1;var e=this.translateDateToIndex(this.last_start_date);if(-1===e||e>this.slider[1])this.wrong_last_start_date=!0;else{var t=this.slider[1];this.slider=[e,t]}},last_stop_date:function(){this.wrong_last_stop_date=!1;var e=this.translateDateToIndex(this.last_stop_date);if(-1===e||e<this.slider[0])this.wrong_last_stop_date=!0;else{var t=this.slider[0];this.slider=[t,e]}},slider:function(){var e=this.slider[0],t=this.slider[1];this.changeMarkerAndRender(e,t),this.last_start_date=this.translateIndexToDate(this.slider[0]),this.last_stop_date=this.translateIndexToDate(this.slider[1]),this.computeTimeDivision()},selectedNumDaysAnalysis:function(){null!==this.selectedNumDaysAnalysis&&void 0!==this.selectedNumDaysAnalysis&&""!==this.selectedNumDaysAnalysis&&" "!==this.selectedNumDaysAnalysis&&this.selectedNumDaysAnalysis>0&&this.computeTimeDivision()},selectedTypeOfAnalysis:function(){(this.selectedTypeOfAnalysis!==this.possibleTypeOfAnalysis[2]||null!==this.selectedNumDaysAnalysis&&void 0!==this.selectedNumDaysAnalysis&&""!==this.selectedNumDaysAnalysis&&" "!==this.selectedNumDaysAnalysis&&this.selectedNumDaysAnalysis>0)&&this.computeTimeDivision()}},mounted:function(){this.setFalseErrorNumSeqQueryTime(),this.max_range=this.timeContent.length-1,this.slider=[0,this.max_range],this.changeMarkerAndRender(0,this.max_range),this.computeTimeDivision()}},Wa=Ha,Ya=(a("a7fb"),Object(x["a"])(Wa,Ja,Ua,!1,null,"6fb216ca",null)),Xa=Ya.exports;b()(Ya,{VBtn:S["a"],VCard:C["a"],VCardText:T["b"],VCardTitle:T["c"],VContainer:w["a"],VFlex:k["a"],VIcon:A["a"],VImg:lt["a"],VLayout:D["a"],VRangeSlider:ct["a"],VRow:E["a"],VSelect:ie["a"],VTextField:V["a"]});var Za={name:"AnalyzeTimeLinCou",components:{ImportantMutation:Ta,SelectorQueryToExclude:ha,HeatmapMultipleAnalysis:ma,TimeDistributionChartWeekMonth:Xa,SelectorsQueryTime:Qa,TimeDistributionChart:Na,PValueBarChart:Mt},data:function(){return{overlay:!1,rowsAnalyzeTime:[],fixedRowAnalyzeTime:[],headerAnalyzeTime:[],sortByAnalyzeTime:["odd_ratio"],sortDescAnalyzeTime:[!0],maxNumeratorTarget:100,maxDenominatorTarget:100,tableApplied:!1,pValueName:[],pValueContent:[],pValueBarChartApplied:!1,p_value_lower:"<0.00001",timeContent:[],timeName:"timeDistribution",filterDate:"Day",chosenApplied:!1,selectedProtein:[],possibleProtein:[],selectedProteinForPValue:null,possibleProteinForPValue:[],selectedProteinForTable:null,possibleProteinForTable:[],selectedMinBackgroundFrequency:0,selectedMaxBackgroundFrequency:100,selectedMinTargetFrequency:0,selectedMaxTargetFrequency:100,selectedMinPValue:0,selectedMaxPValue:1,selectedMinBackgroundNumerator:0,selectedMaxBackgroundNumerator:100,selectedMinTargetNumerator:0,selectedMaxTargetNumerator:100,selectedMinOddsRatio:0,selectedMaxOddsRatio:100,selectedMinPValueBarChart:0,selectedMaxPValueBarChart:1,totalMaxTargetNumerator:0,totalMaxBackgroundNumerator:0,totalMaxOddsRatio:0,isInfinite:!0,listAccessionIds:[],dialogAccessionIds:!1,selectedTabSelectTargetBackground:0,startStopProtein:{},selectedDomainForPValue:[],possibleDomainForPValue:[],begin_value_domain:[],end_value_domain:[],selectedDomainForPValueMutagenesis:[],possibleDomainForPValueMutagenesis:[],begin_value_domain_mutagenesis:[],end_value_domain_mutagenesis:[],selectedAllAaModifications:!1,selectedDomainForPValueAaModificationsFake:[],selectedDomainForPValueAaModifications:[],possibleDomainForPValueAaModifications:[],begin_value_domain_aa_modifications:[],end_value_domain_aa_modifications:[],possibleDomainForPValueUploaded:[],selectedDomainForPValueUploaded:[],selectedMinPercentageMutationPValue:0,selectedMaxPercentageMutationPValue:80,fieldToExclude:null,selectedTabTable:0,importantMutationECDC:{},importantMutation75Percentage:{},importantMutation:{},selectedTypeImportantMutation:"ECDC",possibleTypeImportantMutation:["ECDC","Present in 75% of the lineage (worldwide)"],fileDomainCSV:null,nameFileDomainCSV:null,accessionIdsTargetOrBackground:null,accessionIdsSingleMutation:null}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])(["all_protein","timeRangesTargetAndBackground","queryTime","errorNumSeqQueryTime","toExcludeTime","timeDivisionAcceptable","colorPValueInfoBox","color_1","color_2","color_3"])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])([])),Object(p["b"])(["setQueryTime"])),{},{loadDomainCSV:function(){this.fileDomainCSV=null,this.nameFileDomainCSV=null,this.selectedDomainForPValueUploaded=[],this.possibleDomainForPValueUploaded=[];var e=new FileReader,t=document.getElementById("inputDomainCSVTime").files[0];this.nameFileDomainCSV=t.name;var a=this;e.onload=function(){var t=e.result.replaceAll('"',""),i=a.CSVToJson(t);localStorage.setItem("uploadedDomainsTime",i),localStorage.setItem("uploadedFileNameTime",a.nameFileDomainCSV),a.calculateUploadedDomains()},e.readAsText(t)},CSVToJson:function(e){for(var t=e.split("\r\n"),a=[],i=t[0].split(","),n=1;n<t.length;n++){for(var s={},r=t[n].split(","),o=0;o<i.length;o++)"Begin"===i[o]||"End"===i[o]?s[i[o]]=parseInt(r[o]):s[i[o]]=r[o];a.push(s)}return JSON.stringify(a)},deleteDomainCSV:function(){this.fileDomainCSV=null,this.nameFileDomainCSV=null,this.selectedDomainForPValueUploaded=[],this.possibleDomainForPValueUploaded=[],localStorage.setItem("uploadedDomainsTime",JSON.stringify([])),localStorage.setItem("uploadedFileNameTime",null),this.calculateUploadedDomains()},calculateUploadedDomains:function(){var e=localStorage.getItem("uploadedFileNameTime");null===e||"null"===e?(this.fileDomainCSV=null,this.nameFileDomainCSV=null):(this.fileDomainCSV=JSON.parse(localStorage.getItem("uploadedDomainsTime")),this.nameFileDomainCSV=localStorage.getItem("uploadedFileNameTime"),this.pValueBarChartApplied&&this.calculatePossibleAndSelectedUploadedDomain())},calculatePossibleAndSelectedUploadedDomain:function(){var e=this;this.possibleDomainForPValueUploaded=this.fileDomainCSV.filter((function(t){return t["Protein"]===e.selectedProteinForPValue}));for(var t=0;t<this.possibleDomainForPValueUploaded.length;t+=1){var a=this.possibleDomainForPValueUploaded[t]["Description"]+" / ("+this.possibleDomainForPValueUploaded[t]["Begin"]+" , "+this.possibleDomainForPValueUploaded[t]["End"]+")";this.selectedDomainForPValueUploaded.push(a)}},downloadExampleCSV:function(){var e="",t=[{Protein:"Spike",Description:"Receptor-binding Domain (RBD)",Begin:319,End:541},{Protein:"Spike",Description:"Receptor-binding Motif (RBM)",Begin:438,End:506},{Protein:"M",Description:"Whole protein",Begin:1,End:222},{Protein:"E",Description:"Whole protein",Begin:1,End:75},{Protein:"N",Description:"Whole protein",Begin:1,End:419},{Protein:"ORF10",Description:"Whole protein",Begin:1,End:38},{Protein:"NSP16",Description:"Whole protein",Begin:1,End:298},{Protein:"NSP3",Description:"Whole protein",Begin:1,End:1945},{Protein:"NSP4",Description:"Whole protein",Begin:1,End:500},{Protein:"NSP15",Description:"Whole protein",Begin:1,End:346},{Protein:"NSP5",Description:"Whole protein",Begin:1,End:306},{Protein:"NSP14",Description:"Whole protein",Begin:1,End:527},{Protein:"NSP11",Description:"Whole protein",Begin:1,End:13},{Protein:"NSP13",Description:"Whole protein",Begin:1,End:601},{Protein:"NSP6",Description:"Whole protein",Begin:1,End:290},{Protein:"NSP7",Description:"Whole protein",Begin:1,End:84},{Protein:"NSP8",Description:"Whole protein",Begin:1,End:198},{Protein:"NSP9",Description:"Whole protein",Begin:1,End:113},{Protein:"NSP12",Description:"Whole protein",Begin:1,End:932},{Protein:"ORF1ab",Description:"Whole protein",Begin:1,End:7096},{Protein:"NSP10",Description:"Whole protein",Begin:1,End:138},{Protein:"NSP1",Description:"Whole protein",Begin:1,End:180},{Protein:"ORF1a",Description:"Whole protein",Begin:1,End:4405},{Protein:"NSP2",Description:"Whole protein",Begin:1,End:638},{Protein:"NS3",Description:"Whole protein",Begin:1,End:275},{Protein:"NS6",Description:"Whole protein",Begin:1,End:61},{Protein:"NS7a",Description:"Whole protein",Begin:1,End:121},{Protein:"NS7b",Description:"Whole protein",Begin:1,End:43},{Protein:"NS8",Description:"Whole protein",Begin:1,End:121}],a=[{text:"Protein",value:"Protein"},{text:"Description",value:"Description"},{text:"Begin",value:"Begin"},{text:"End",value:"End"}];e=this.json2csvDomains(t,a);var i="exampleDomain.csv",n=document.createElement("a");n.setAttribute("download",i);var s=new Blob([e]);n.href=URL.createObjectURL(s),document.body.appendChild(n),n.click(),document.body.removeChild(n)},computeFieldToExclude:function(){this.queryTime["geo_group"]?this.queryTime["country"]?this.queryTime["region"]?this.queryTime["province"]?this.fieldToExclude=null:this.fieldToExclude="province":this.fieldToExclude="region":this.fieldToExclude="country":this.fieldToExclude="geo_group"},filter:function(){for(var e=this,t=[],a=0;a<this.rowsAnalyzeTime.length;a+=1){var i=JSON.parse(JSON.stringify(this.fixedRowAnalyzeTime[a]));if(null!==this.selectedProteinForTable)(function(){var t=e;i=i.filter((function(e){var a=JSON.parse(JSON.stringify(e["percentage_background"])),i=JSON.parse(JSON.stringify(e["percentage_target"])),n=JSON.parse(JSON.stringify(e["p_value"])),s=JSON.parse(JSON.stringify(e["numerator_background"])),r=JSON.parse(JSON.stringify(e["numerator_target"])),o=JSON.parse(JSON.stringify(e["odd_ratio"])),l=JSON.parse(JSON.stringify(e["product"]));return a>=t.selectedMinBackgroundFrequency&&a<=t.selectedMaxBackgroundFrequency&&i>=t.selectedMinTargetFrequency&&i<=t.selectedMaxTargetFrequency&&n>=t.selectedMinPValue&&n<=t.selectedMaxPValue&&s>=t.selectedMinBackgroundNumerator&&s<=t.selectedMaxBackgroundNumerator&&r>=t.selectedMinTargetNumerator&&r<=t.selectedMaxTargetNumerator&&(o>=t.selectedMinOddsRatio&&o<=t.selectedMaxOddsRatio||t.isInfinite&&o>t.totalMaxOddsRatio)&&l===t.selectedProteinForTable}))})();else{var n=this;i=i.filter((function(e){var t=JSON.parse(JSON.stringify(e["percentage_background"])),a=JSON.parse(JSON.stringify(e["percentage_target"])),i=JSON.parse(JSON.stringify(e["p_value"])),s=JSON.parse(JSON.stringify(e["numerator_background"])),r=JSON.parse(JSON.stringify(e["numerator_target"])),o=JSON.parse(JSON.stringify(e["odd_ratio"]));return t>=n.selectedMinBackgroundFrequency&&t<=n.selectedMaxBackgroundFrequency&&a>=n.selectedMinTargetFrequency&&a<=n.selectedMaxTargetFrequency&&i>=n.selectedMinPValue&&i<=n.selectedMaxPValue&&s>=n.selectedMinBackgroundNumerator&&s<=n.selectedMaxBackgroundNumerator&&r>=n.selectedMinTargetNumerator&&r<=n.selectedMaxTargetNumerator&&(o>=n.selectedMinOddsRatio&&o<=n.selectedMaxOddsRatio||n.isInfinite&&o>n.totalMaxOddsRatio)}))}t[a]=i}this.rowsAnalyzeTime=t},getDaysArray:function(e,t){for(var a=[],i=new Date(e);i<=t;i.setDate(i.getDate()+1)){var n=new Date(i).toISOString().slice(0,10);if(a.includes(n)||a.push(n),-1!==n.indexOf("-10-24")){var s=new Date(n);s.setDate(s.getDate()+1);var r=new Date(s).toISOString().slice(0,10);a.push(r)}}return a},downloadTable:function(e,t){var a="",i=this.sortResults(e,t);"analyze_mutation"===e&&(a=this.json2csv(i,this.headerAnalyzeTime));var n="noResult.csv";t.length>0&&(n="temporal_analysis_table_",this.queryTime["lineage"]&&(n+=this.queryTime["lineage"]+"_"),n+="("+t[0]["target"]+")_vs_("+t[0]["background"]+")",this.queryTime["geo_group"]?this.queryTime["country"]?this.queryTime["region"]?this.queryTime["province"]?n+="_"+this.queryTime["province"]+".csv":n+="_"+this.queryTime["region"]+".csv":n+="_"+this.queryTime["country"]+".csv":n+="_"+this.queryTime["geo_group"]+".csv":n+="_World.csv");var s=document.createElement("a");s.setAttribute("download",n);var r=new Blob([a]);s.href=URL.createObjectURL(r),document.body.appendChild(s),s.click(),document.body.removeChild(s)},json2csvDomains:function(e,t){var a=e,i=[],n=[];t.forEach((function(e){i.push(e.text)})),t.forEach((function(e){n.push(e.value)}));var s=a.map((function(e){return n.map((function(t){var a;return"mutation_position"===t?(a=e["mutation"],("string"===typeof a||a instanceof String)&&(a=a.replaceAll("\n"," "))):(a=e[t],("string"===typeof a||a instanceof String)&&(a=a.replaceAll("\n"," "))),a})).join(",")}));return s.unshift(i.join(",")),s.join("\r\n")},json2csv:function(e,t){var a=e,i=[],n=[];t.forEach((function(e){i.push(e.text)})),t.forEach((function(e){n.push(e.value)}));var s=a.map((function(e){return n.map((function(t){var a;return"mutation_position"===t?(a=String(e["mutation"]),a=a.replaceAll("\n"," ")):(a=String(e[t]),a=a.replaceAll("\n"," ")),JSON.stringify(a)})).join(",")}));return s.unshift(i.join(",")),s.join("\r\n")},sortResults:function(e,t){var a,i,n,s;return"analyze_mutation"===e&&(a=this.sortByAnalyzeTime.length,i=this.sortByAnalyzeTime,n=this.sortDescAnalyzeTime,s=JSON.parse(JSON.stringify(t))),a>0?s.sort((function(e,t){var a=0,s=e[i[a]],r=t[i[a]];return!1===n[a]?s>r?1:-1:s<r?1:-1})):s},getFieldText:function(e){return"".concat(e["lineage"])},getFieldTextDomain:function(e){return"".concat(e["Description"])+" / ("+"".concat(e["Begin"])+" , "+"".concat(e["End"])+")"},applySingleLineageAnalysis:function(){var e=this,t="/analyze/analyzeMutationCountryLineageInTime";this.overlay=!0,this.importantMutation={},this.importantMutationECDC={};var a=JSON.parse(JSON.stringify(this.queryTime)),i="/analyze/getImportantMutation",n=null;a["lineage"]&&(n=a["lineage"]);var r={lineage:n};s.a.post(i,r).then((function(e){return e.data})).then((function(t){e.importantMutationECDC=t,"ECDC"===e.selectedTypeImportantMutation&&(a["lineage"]?e.importantMutation=t:e.importantMutation={mutation:[],additional_mutation:[]})}));var o=[];o=0===this.selectedProtein.length?this.possibleProtein:this.selectedProtein;var l={lineage:n,proteins:o},c="/analyze/getAllImportantMutationPerLineage";if(s.a.post(c,l).then((function(e){return e.data})).then((function(t){var a={};a["mutation"]=t,a["additional_mutation"]=[],e.importantMutation75Percentage=a,"Present in 75% of the lineage (worldwide)"===e.selectedTypeImportantMutation&&(e.importantMutation=a)})),this.possibleProteinForTable=[],this.possibleProteinForPValue=[],this.headerAnalyzeTime=[],this.rowsAnalyzeTime=[],this.fixedRowAnalyzeTime=[],0===this.selectedTabSelectTargetBackground){var d=JSON.parse(JSON.stringify(this.queryTime));d["toExclude"]=this.toExcludeTime;var u=this.timeRangesTargetAndBackground["start_target_time"],h=this.timeRangesTargetAndBackground["end_target_time"],g=this.timeRangesTargetAndBackground["start_background_time"],p=this.timeRangesTargetAndBackground["end_background_time"],f=[];f=null===this.selectedProtein?[]:this.selectedProtein;var v={start_target:u,end_target:h,start_background:g,end_background:p,protein:f};v["query"]=d,s.a.post(t,v).then((function(e){return e.data})).then((function(t){e.headerAnalyzeTime=[{text:"mutation",value:"mutation_position",show:!0,align:"center",width:"23vh"},{text:"p_value",value:"p_value",show:!0,align:"center",width:"23vh"},{text:"odds_ratio",value:"odd_ratio",show:!0,align:"center",width:"23vh"},{text:"%_target",value:"percentage_target",show:!0,align:"center",width:"23vh"},{text:"%_background",value:"percentage_background",show:!0,align:"center",width:"23vh"}],e.rowsAnalyzeTime[0]=t,e.fixedRowAnalyzeTime[0]=t;var a=JSON.parse(JSON.stringify(e.rowsAnalyzeTime[0]));e.possibleProteinForPValue=Object(wt["a"])(new Set(a.map((function(e){return e.product})))),e.possibleProteinForTable=Object(wt["a"])(new Set(a.map((function(e){return e.product}))));var i=JSON.parse(JSON.stringify(e.rowsAnalyzeTime[0]));e.totalMaxTargetNumerator=Math.max.apply(Math,i.map((function(e){return e["denominator_target"]}))),e.selectedMaxTargetNumerator=e.totalMaxTargetNumerator,e.totalMaxBackgroundNumerator=Math.max.apply(Math,i.map((function(e){return e["denominator_background"]}))),e.selectedMaxBackgroundNumerator=e.totalMaxBackgroundNumerator;var n=JSON.parse(JSON.stringify(e.rowsAnalyzeTime[0]));n=n.filter((function(e){var t=e["percentage_background"];return 0!==t})),e.totalMaxOddsRatio=Math.ceil(Math.max.apply(Math,n.map((function(e){return e["odd_ratio"]}))));var s=Math.ceil(Math.max.apply(Math,n.map((function(e){return e["odd_ratio"]}))));s>e.totalMaxOddsRatio&&(e.totalMaxOddsRatio=s,e.selectedMaxOddsRatio=s),e.tableApplied=!0,e.overlay=!1}))}else if(1===this.selectedTabSelectTargetBackground){var y=this.timeDivisionAcceptable.length-1,m=0;this.headerAnalyzeTime=[{text:"mutation",value:"mutation_position",show:!0,align:"center",width:"23vh"},{text:"p_value",value:"p_value",show:!0,align:"center",width:"23vh"},{text:"odds_ratio",value:"odd_ratio",show:!0,align:"center",width:"23vh"},{text:"%_target",value:"percentage_target",show:!0,align:"center",width:"23vh"},{text:"%_background",value:"percentage_background",show:!0,align:"center",width:"23vh"}],m<y&&this.applyAnalysisTimeDivisions(m,y)}},applyAnalysisTimeDivisions:function(e,t){var a=this,i="/analyze/analyzeMutationCountryLineageInTime",n=JSON.parse(JSON.stringify(this.queryTime));n["toExclude"]=this.toExcludeTime;var r=this.timeDivisionAcceptable[e],o=this.timeDivisionAcceptable[e+1],l=o[0],c=o[1],d=r[0],u=r[1],h=[],g=new Date(l),p=new Date(u);g.setDate(g.getDate()-1);var f=new Date(g).toISOString().slice(0,10),v=new Date(p).toISOString().slice(0,10);if(f===v){h=null===this.selectedProtein?[]:this.selectedProtein;var y={start_target:l,end_target:c,start_background:d,end_background:u,protein:h};y["query"]=n,s.a.post(i,y).then((function(e){return e.data})).then((function(i){a.rowsAnalyzeTime.push(i),a.fixedRowAnalyzeTime.push(i);var n=JSON.parse(JSON.stringify(a.rowsAnalyzeTime[a.rowsAnalyzeTime.length-1]));a.possibleProteinForPValue=Object(wt["a"])(new Set([].concat(Object(wt["a"])(a.possibleProteinForPValue),Object(wt["a"])(n.map((function(e){return e.product})))))),a.possibleProteinForTable=Object(wt["a"])(new Set([].concat(Object(wt["a"])(a.possibleProteinForTable),Object(wt["a"])(n.map((function(e){return e.product}))))));var s=JSON.parse(JSON.stringify(a.rowsAnalyzeTime[a.rowsAnalyzeTime.length-1])),r=Math.max.apply(Math,s.map((function(e){return e["denominator_target"]})));r>a.totalMaxTargetNumerator&&(a.totalMaxTargetNumerator=r,a.selectedMaxTargetNumerator=r);var o=Math.max.apply(Math,s.map((function(e){return e["denominator_background"]})));o>a.totalMaxBackgroundNumerator&&(a.totalMaxBackgroundNumerator=o,a.selectedMaxBackgroundNumerator=o);var l=JSON.parse(JSON.stringify(a.rowsAnalyzeTime[a.rowsAnalyzeTime.length-1]));l=l.filter((function(e){var t=e["percentage_background"];return 0!==t}));var c=Math.ceil(Math.max.apply(Math,l.map((function(e){return e["odd_ratio"]}))));c>a.totalMaxOddsRatio&&(a.totalMaxOddsRatio=c,a.selectedMaxOddsRatio=c),e+=1,e<t?a.applyAnalysisTimeDivisions(e,t):(a.tableApplied=!0,a.overlay=!1)}))}else e+=1,e<t?this.applyAnalysisTimeDivisions(e,t):(this.tableApplied=!0,this.overlay=!1)},applyFilterOnTable:function(){this.filter()},applyFilterPValueChart:function(){var e=this;this.overlay=!0,this.pValueBarChartApplied=!1,this.selectedDomainForPValue=[],this.selectedDomainForPValueMutagenesis=[],this.selectedDomainForPValueAaModifications=[],this.selectedDomainForPValueUploaded=[],this.possibleDomainForPValueUploaded=[],this.selectedAllAaModifications=!1,this.pValueContent=[],this.pValueName=[];for(var t=function(t){var a=JSON.parse(JSON.stringify(e.fixedRowAnalyzeTime[t])),i=e;a=a.filter((function(e){var t=JSON.parse(JSON.stringify(e["p_value"])),a=JSON.parse(JSON.stringify(e["product"])),n=JSON.parse(JSON.stringify(e["percentage_target"]));return t>=i.selectedMinPValueBarChart&&t<=i.selectedMaxPValueBarChart&&n<=i.selectedMaxPercentageMutationPValue&&n>=i.selectedMinPercentageMutationPValue&&i.selectedProteinForPValue===a}));var n=[];a.forEach((function(e){var t=e["mutation"],a=e["mutation_position"],i=n.findIndex((function(e){return e["name"]===t}));if(-1===i){var s={name:t,value:e["numerator_target"],position:a,p_value:e["p_value"],odds_ratio:e["odd_ratio"]};n.push(s)}else n[i]["value"]=n[i]["value"]+e["numerator_target"]})),n=n.sort((function(e,t){var a=e["position"],i=t["position"];return a>i?1:-1})),e.pValueContent[t]=n,e.pValueName[t]="p_value_time"+t},a=0;a<this.rowsAnalyzeTime.length;a+=1)t(a);var i="/analyze/getProteinPosition",n={protein:this.selectedProteinForPValue};s.a.post(i,n).then((function(e){return e.data})).then((function(t){e.startStopProtein=t;var a="/analyze/getDomains",i={protein:e.selectedProteinForPValue};s.a.post(a,i).then((function(e){return e.data})).then((function(t){if(e.possibleDomainForPValue=t["sites_and_domains"].sort((function(e,t){var a=e["Description"].toLowerCase(),i=t["Description"].toLowerCase();return a>i?1:-1})),e.possibleDomainForPValueMutagenesis=t["mutagenesis"].sort((function(e,t){var a=e["Description"].toLowerCase(),i=t["Description"].toLowerCase();return a>i?1:-1})),e.possibleDomainForPValueAaModifications=t["aa_modifications"].sort((function(e,t){e["disabled"]=!0,t["disabled"]=!0;var a=e["Description"].toLowerCase(),i=t["Description"].toLowerCase();return a>i?1:-1})),null!==e.fileDomainCSV){var a=e;e.possibleDomainForPValueUploaded=e.fileDomainCSV.filter((function(e){return e["Protein"]===a.selectedProteinForPValue}));for(var i=0;i<e.possibleDomainForPValueUploaded.length;i+=1){var n=e.possibleDomainForPValueUploaded[i]["Description"]+" / ("+e.possibleDomainForPValueUploaded[i]["Begin"]+" , "+e.possibleDomainForPValueUploaded[i]["End"]+")";e.selectedDomainForPValueUploaded.push(n)}}e.overlay=!1,e.pValueBarChartApplied=!0}))}))},applyChosenLineageCountry:function(){var e=this,t="/analyze/analyzeTimeDistributionCountryLineage";this.overlay=!0;var a=JSON.parse(JSON.stringify(this.queryTime));a["toExclude"]=this.toExcludeTime;var i={query:a};s.a.post(t,i).then((function(e){return e.data})).then((function(t){e.chosenApplied=!0,e.overlay=!1,e.timeName="timeDistribution";var a=[];if(0!==t.length){var i=new Date(t[0]["name"]),n=new Date;n.setDate(n.getDate()+1);var s=e.getDaysArray(i,n);s.forEach((function(e){var i=t.findIndex((function(t){return t["name"]===e}));if(-1===i){var n={name:e,value:0};a.push(n)}else{var s={name:e,value:t[i]["value"]};a.push(s)}}))}e.timeContent=a;var r=500,o=e;setTimeout((function(){o.selectedTabSelectTargetBackground=0;var e="two_comparison",t="n_comparison",a=document.getElementById(e);a.style["color"]="white",a.style["font-weight"]="bold";var i=document.getElementById(t);i.style["color"]="#FFFFFF80",i.style["font-weight"]="normal"}),r)}))},openDialogAccession:function(e,t){var a=this,i="/analyze/getAccessionIds";this.overlay=!0,this.listAccessionIds=[];var n=JSON.parse(JSON.stringify(this.queryTime)),r="";"target"===e?(this.accessionIdsTargetOrBackground=e,this.accessionIdsSingleMutation="("+t["product"]+"_"+t["sequence_aa_original"]+t["start_aa_original"]+t["sequence_aa_alternative"]+")",n["lineage"]=t["lineage"],n["start_aa_original"]=t["start_aa_original"],n["sequence_aa_original"]=t["sequence_aa_original"],n["sequence_aa_alternative"]=t["sequence_aa_alternative"],n["minDateTarget"]=t["target"].split(" / ")[0],n["maxDateTarget"]=t["target"].split(" / ")[1],n["product"]=t["product"]):"background"===e&&(this.accessionIdsTargetOrBackground=e,this.accessionIdsSingleMutation="("+t["product"]+"_"+t["sequence_aa_original"]+t["start_aa_original"]+t["sequence_aa_alternative"]+")",n["lineage"]=t["lineage"],n["start_aa_original"]=t["start_aa_original"],n["sequence_aa_original"]=t["sequence_aa_original"],n["sequence_aa_alternative"]=t["sequence_aa_alternative"],n["minDateBackground"]=t["background"].split(" / ")[0],n["maxDateBackground"]=t["background"].split(" / ")[1],n["product"]=t["product"]),n["toExclude"]=this.toExcludeTime;var o="empty",l={query:n,query_false:r,query_target:o};s.a.post(i,l).then((function(e){return e.data})).then((function(e){a.listAccessionIds=e[0]["acc_ids"],a.overlay=!1,null!==a.listAccessionIds&&a.listAccessionIds.length>0&&(a.dialogAccessionIds=!0)}))},downloadAccessionIds:function(){for(var e="",t=0;t<this.listAccessionIds.length;t+=1)e=e+this.listAccessionIds[t]+";  ";var a="noResult.csv";this.rowsAnalyzeTime[this.selectedTabTable].length>0&&(a="temporal_analysis_"+this.accessionIdsSingleMutation+"_",this.queryTime["lineage"]&&(a+=this.queryTime["lineage"]+"_"),"target"===this.accessionIdsTargetOrBackground?a+=this.rowsAnalyzeTime[this.selectedTabTable][0]["target"]:a+=this.rowsAnalyzeTime[this.selectedTabTable][0]["background"],this.queryTime["geo_group"]?this.queryTime["country"]?this.queryTime["region"]?this.queryTime["province"]?a+="_"+this.queryTime["province"]:a+="_"+this.queryTime["region"]:a+="_"+this.queryTime["country"]:a+="_"+this.queryTime["geo_group"]:a+="_World.csv"),a+=".txt";var i=document.createElement("a");i.setAttribute("download",a);var n=new Blob([e]);i.href=URL.createObjectURL(n),document.body.appendChild(i),i.click(),document.body.removeChild(i)}}),watch:{selectedAllAaModifications:function(){if(this.selectedDomainForPValueAaModifications=[],this.selectedAllAaModifications)for(var e=0;e<this.possibleDomainForPValueAaModifications.length;e+=1){var t=this.possibleDomainForPValueAaModifications[e]["Description"]+" / ("+this.possibleDomainForPValueAaModifications[e]["Begin"]+" , "+this.possibleDomainForPValueAaModifications[e]["End"]+")";this.selectedDomainForPValueAaModifications.push(t)}},selectedTypeImportantMutation:function(){"ECDC"===this.selectedTypeImportantMutation?this.importantMutation=this.importantMutationECDC:"Present in 75% of the lineage (worldwide)"===this.selectedTypeImportantMutation&&(this.importantMutation=this.importantMutation75Percentage)},selectedDomainForPValue:function(){var e=this;this.begin_value_domain=[],this.end_value_domain=[];for(var t=function(t){var a=e,i=0,n=0,s=e.possibleDomainForPValue.findIndex((function(e){return e["Description"]===a.selectedDomainForPValue[t].split(" / ")[0]}));-1!==s&&(i=e.possibleDomainForPValue[s]["Begin"],n=e.possibleDomainForPValue[s]["End"]),e.begin_value_domain.push(i),e.end_value_domain.push(n)},a=0;a<this.selectedDomainForPValue.length;a+=1)t(a)},selectedDomainForPValueMutagenesis:function(){var e=this;this.begin_value_domain_mutagenesis=[],this.end_value_domain_mutagenesis=[];for(var t=function(t){var a=e,i=0,n=0,s=e.possibleDomainForPValueMutagenesis.findIndex((function(e){return e["Description"]===a.selectedDomainForPValueMutagenesis[t].split(" / ")[0]}));-1!==s&&(i=e.possibleDomainForPValueMutagenesis[s]["Begin"],n=e.possibleDomainForPValueMutagenesis[s]["End"]),e.begin_value_domain_mutagenesis.push(i),e.end_value_domain_mutagenesis.push(n)},a=0;a<this.selectedDomainForPValueMutagenesis.length;a+=1)t(a)},selectedDomainForPValueAaModifications:function(){var e=this;this.begin_value_domain_aa_modifications=[],this.end_value_domain_aa_modifications=[];for(var t=function(t){var a=e,i=0,n=0,s=e.possibleDomainForPValueAaModifications.findIndex((function(e){return e["Description"]===a.selectedDomainForPValueAaModifications[t].split(" / ")[0]}));-1!==s&&(i=e.possibleDomainForPValueAaModifications[s]["Begin"],n=e.possibleDomainForPValueAaModifications[s]["End"]),e.begin_value_domain_aa_modifications.push(i),e.end_value_domain_aa_modifications.push(n)},a=0;a<this.selectedDomainForPValueAaModifications.length;a+=1)t(a)},"queryTime.geo_group":function(){this.setQueryTime({field:"country",list:null}),this.setQueryTime({field:"region",list:null}),this.setQueryTime({field:"province",list:null})},"queryTime.country":function(){this.setQueryTime({field:"region",list:null}),this.setQueryTime({field:"province",list:null})},"queryTime.region":function(){this.setQueryTime({field:"province",list:null})},all_protein:function(){this.possibleProtein=this.all_protein},queryTime:function(){this.computeFieldToExclude(),this.pValueBarChartApplied=!1,this.selectedProteinForPValue=null,this.selectedProteinForTable=null,this.tableApplied=!1,this.chosenApplied=!1},toExcludeTime:function(){this.pValueBarChartApplied=!1,this.selectedProteinForPValue=null,this.selectedProteinForTable=null,this.tableApplied=!1,this.chosenApplied=!1},selectedProtein:function(){this.pValueBarChartApplied=!1,this.selectedProteinForPValue=null,this.selectedProteinForTable=null,this.tableApplied=!1},timeRangesTargetAndBackground:function(){this.pValueBarChartApplied=!1,this.selectedProteinForPValue=null,this.selectedProteinForTable=null,this.tableApplied=!1},selectedTabSelectTargetBackground:function(){if(0===this.selectedTabSelectTargetBackground){var e="two_comparison",t="n_comparison",a=document.getElementById(e);a.style["color"]="white",a.style["font-weight"]="bold";var i=document.getElementById(t);i.style["color"]="#FFFFFF80",i.style["font-weight"]="normal"}else{var n="two_comparison",s="n_comparison",r=document.getElementById(n);r.style["color"]="#FFFFFF80",r.style["font-weight"]="normal";var o=document.getElementById(s);o.style["color"]="white",o.style["font-weight"]="bold"}this.pValueBarChartApplied=!1,this.selectedProteinForPValue=null,this.selectedProteinForTable=null,this.tableApplied=!1},timeDivisionAcceptable:function(){this.pValueBarChartApplied=!1,this.selectedProteinForPValue=null,this.selectedProteinForTable=null,this.tableApplied=!1},selectedProteinForPValue:function(){this.pValueBarChartApplied=!1},selectedMinPercentageMutationPValue:function(){this.pValueBarChartApplied=!1},selectedMaxPercentageMutationPValue:function(){this.pValueBarChartApplied=!1},selectedMinBackgroundFrequency:function(){this.selectedMinBackgroundFrequency<0?this.selectedMinBackgroundFrequency=0:this.selectedMinBackgroundFrequency>this.selectedMaxBackgroundFrequency&&(this.selectedMinBackgroundFrequency=this.selectedMaxBackgroundFrequency)},selectedMaxBackgroundFrequency:function(){this.selectedMaxBackgroundFrequency<this.selectedMinBackgroundFrequency?this.selectedMaxBackgroundFrequency=this.selectedMinBackgroundFrequency:this.selectedMaxBackgroundFrequency>100&&(this.selectedMaxBackgroundFrequency=100)},selectedMinTargetFrequency:function(){this.selectedMinTargetFrequency<0?this.selectedMinTargetFrequency=0:this.selectedMinTargetFrequency>this.selectedMaxTargetFrequency&&(this.selectedMinTargetFrequency=this.selectedMaxTargetFrequency)},selectedMaxTargetFrequency:function(){this.selectedMaxTargetFrequency<this.selectedMinTargetFrequency?this.selectedMaxTargetFrequency=this.selectedMinTargetFrequency:this.selectedMaxTargetFrequency>100&&(this.selectedMaxTargetFrequency=100)},selectedMinPValue:function(){this.selectedMinPValue<0?this.selectedMinPValue=0:this.selectedMinPValue>this.selectedMaxPValue&&(this.selectedMinPValue=this.selectedMaxPValue)},selectedMaxPValue:function(){this.selectedMaxPValue<this.selectedMinPValue?this.selectedMaxPValue=this.selectedMinPValue:this.selectedMaxPValue>1&&(this.selectedMaxPValue=1)},selectedMinBackgroundNumerator:function(){this.selectedMinBackgroundNumerator<0?this.selectedMinBackgroundNumerator=0:this.selectedMinBackgroundNumerator>this.selectedMaxBackgroundNumerator&&(this.selectedMinBackgroundNumerator=this.selectedMaxBackgroundNumerator)},selectedMaxBackgroundNumerator:function(){this.selectedMaxBackgroundNumerator<this.selectedMinBackgroundNumerator?this.selectedMaxBackgroundNumerator=this.selectedMinBackgroundNumerator:this.selectedMaxBackgroundNumerator>this.totalMaxBackgroundNumerator&&(this.selectedMaxBackgroundNumerator=this.totalMaxBackgroundNumerator)},selectedMinTargetNumerator:function(){this.selectedMinTargetNumerator<0?this.selectedMinTargetNumerator=0:this.selectedMinTargetNumerator>this.selectedMaxTargetNumerator&&(this.selectedMinTargetNumerator=this.selectedMaxTargetNumerator)},selectedMaxTargetNumerator:function(){this.selectedMaxTargetNumerator<this.selectedMinTargetNumerator?this.selectedMaxTargetNumerator=this.selectedMinTargetNumerator:this.selectedMaxTargetNumerator>this.totalMaxTargetNumerator&&(this.selectedMaxTargetNumerator=this.totalMaxTargetNumerator)},selectedMinOddsRatio:function(){this.selectedMinOddsRatio<0?this.selectedMinOddsRatio=0:this.selectedMinOddsRatio>this.selectedMaxOddsRatio&&(this.selectedMinOddsRatio=this.selectedMaxOddsRatio)},selectedMaxOddsRatio:function(){this.selectedMaxOddsRatio<this.selectedMinOddsRatio?this.selectedMaxOddsRatio=this.selectedMinOddsRatio:this.selectedMaxOddsRatio>this.totalMaxOddsRatio&&(this.selectedMaxOddsRatio=this.totalMaxOddsRatio)},selectedMinPValueBarChart:function(){this.pValueBarChartApplied=!1,this.selectedMinPValueBarChart<0?this.selectedMinPValueBarChart=0:this.selectedMinPValueBarChart>this.selectedMaxPValueBarChart&&(this.selectedMinPValueBarChart=this.selectedMaxPValueBarChart)},selectedMaxPValueBarChart:function(){this.pValueBarChartApplied=!1,this.selectedMaxPValueBarChart<this.selectedMinPValueBarChart?this.selectedMaxPValueBarChart=this.selectedMinPValueBarChart:this.selectedMaxPValueBarChart>1&&(this.selectedMaxPValueBarChart=1)}},mounted:function(){this.calculateUploadedDomains(),this.computeFieldToExclude(),this.possibleProtein=this.all_protein}},$a=Za,Ka=(a("0a49"),Object(x["a"])($a,Ma,Ea,!1,null,"1abd7502",null)),ei=Ka.exports;b()(Ka,{VAutocomplete:vt["a"],VBtn:S["a"],VCard:C["a"],VCardText:T["b"],VCardTitle:T["c"],VCheckbox:ka["a"],VContainer:w["a"],VDataTable:Ve["a"],VDialog:F["a"],VFlex:k["a"],VIcon:A["a"],VLayout:D["a"],VOverlay:P["a"],VProgressCircular:M["a"],VRow:E["a"],VSelect:ie["a"],VSpacer:B["a"],VTab:le["a"],VTabItem:ce["a"],VTabs:de["a"],VTabsItems:Aa["a"],VTextField:V["a"]});var ti=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticStyle:{padding:"50px"},attrs:{width:"100%",color:"white"}},[a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-card",{staticStyle:{padding:"50px","margin-top":"50px","margin-bottom":"50px"},attrs:{width:"1600px",color:"#A8DADC"}},[a("v-card-title",{staticClass:"justify-center"},[a("h1",[e._v("CUSTOM ANALYSIS")])]),a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex"},[a("v-container",{staticStyle:{"justify-content":"center",padding:"0","margin-top":"10px"},attrs:{fluid:"","grid-list-xl":""}},[a("v-tabs",{attrs:{"background-color":"#A8DADC",dark:"","show-arrows":"","slider-color":"#E63946","slider-size":"6",height:"60",centered:""},model:{value:e.selectedTabFreeQuery,callback:function(t){e.selectedTabFreeQuery=t},expression:"selectedTabFreeQuery"}},[a("v-tab",{staticStyle:{border:"black solid 1px",width:"40%","background-color":"#457B9D"},attrs:{id:"tabFree1"}},[e._v("\n                   DEFINE YOUR TARGET\n                ")]),a("v-tab",{staticStyle:{border:"black solid 1px","border-left":"0!important",width:"40%","background-color":"#457B9D"},attrs:{id:"tabFree2"}},[e._v("\n                   DEFINE YOUR BACKGROUND\n                ")]),a("v-tab",{staticStyle:{border:"black solid 1px",width:"20%","border-left":"0!important","background-color":"#457B9D"}},[e._v("\n                   SUMMARY\n                ")]),a("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.selectedTabFreeQuery,callback:function(t){e.selectedTabFreeQuery=t},expression:"selectedTabFreeQuery"}},[a("v-tab-item",{staticStyle:{"background-color":"#A8DADC","padding-top":"40px"}},[a("v-container",{staticStyle:{"justify-content":"center",padding:"0","margin-top":"10px"},attrs:{fluid:"","grid-list-xl":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 md5 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticStyle:{width:"400px",height:"70px"},attrs:{id:"tabTargetFree1",large:"",color:"#457B9D"},on:{click:function(t){e.selectedTabTargetFreeQuery=0}}},[e._v(" USE METADATA SEARCH ")])],1),a("v-flex",{staticClass:"no-horizontal-padding xs0 md1 d-flex",staticStyle:{"justify-content":"center"}}),a("v-flex",{staticClass:"no-horizontal-padding xs12 md5 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticStyle:{width:"400px",height:"70px"},attrs:{id:"tabTargetFree2",large:"",color:"#457B9D"},on:{click:function(t){e.selectedTabTargetFreeQuery=1}}},[e._v(" USE IDS ")])],1)],1)],1),0===e.selectedTabTargetFreeQuery?a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[e.listAccIdsTarget.length>0?e._e():a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("FreeQuery",{attrs:{type:"target"}})],1)],1):e._e(),1===e.selectedTabTargetFreeQuery?a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"10px"}},[a("h2",[e._v("INSERT ACCESSION IDs")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-top":"10px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,129813477)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                                      INSERT ACCESSION IDs:\n                                  ")]),a("v-card-text",{staticStyle:{"text-align":"center"}},[a("span",[a("br"),e._v("\n                                      For statistical significance you need to provide at least 50 valid ids not overlapping with the background.\n                                     "),a("br")])])],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs10 md8 lg6 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{staticStyle:{padding:"11px"},attrs:{color:"#F1FAEE",width:"100%"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("ADD ACCESSION IDs:")])]),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 d-flex",staticStyle:{"justify-content":"center"}},[a("v-text-field",{staticStyle:{"margin-right":"10px"},attrs:{solo:"","hide-details":""},model:{value:e.accession_id_target,callback:function(t){e.accession_id_target=t},expression:"accession_id_target"}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs8 md3 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticClass:"white--text",staticStyle:{"margin-top":"10px"},attrs:{small:"",color:"#E63946"},on:{click:function(t){return e.addAccessionIdTarget()}}},[e._v("\n                                    ADD\n                                  ")])],1),a("v-flex",{staticClass:"no-horizontal-padding xs8 md3 d-flex",staticStyle:{"justify-content":"center"}},[a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"white--text",staticStyle:{"margin-top":"10px"},attrs:{slot:"activator",small:"",color:"#1D3557",disabled:!(e.listAccIdsTargetInserted.length>0)},slot:"activator"},i),[e._v("\n                                          SHOW LIST ("+e._s(e.listAccIdsTargetInserted.length)+")\n                                        ")])]}}],null,!1,3622539830),model:{value:e.dialogAccIdsTargetInserted,callback:function(t){e.dialogAccIdsTargetInserted=t},expression:"dialogAccIdsTargetInserted"}},[a("v-card",[a("v-card-title",{staticClass:"headline",staticStyle:{"background-color":"#A8DADC"}},[e._v("\n                                              ACCESSION IDs ADDED:\n                                            "),a("v-spacer"),a("v-btn",{attrs:{color:"black",text:""},on:{click:function(t){return e.deleteAllAccIdsTargetInserted()}}},[e._v("\n                                              DELETE ALL\n                                            ")])],1),a("v-card-text",{staticStyle:{"text-align":"center"}},[a("span",[a("br"),e._l(e.listAccIdsTargetInserted,(function(t,i){return a("span",{key:t},[e._v("\n                                                "+e._s(t)+"\n                                                "),a("v-btn",{staticStyle:{"background-color":"red","margin-left":"20px"},attrs:{icon:"",width:"15px",height:"15px",color:"white"},on:{click:function(t){return e.deleteAccIdsTargetInserted(i)}}},[a("v-icon",{attrs:{size:"12"}},[e._v("mdi-close")])],1),a("br")],1)}))],2)])],1)],1)],1)],1)],1),a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("UPLOAD LIST OF ACCESSION IDs:")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                                          UPLOAD LIST OF ACCESSION IDs:\n                                      ")]),a("v-card-text",{staticStyle:{"text-align":"center"}},[a("span",[a("br"),a("br")]),a("span",[a("b",[e._v("EXAMPLE OF FILE")]),a("v-btn",{staticStyle:{"margin-left":"20px"},attrs:{"x-small":"",icon:""},on:{click:function(t){return e.downloadExampleListAccessionIds("target")}}},[a("v-icon",{attrs:{size:"18"}},[e._v("\n                                              mdi-download-circle-outline\n                                            ")])],1)],1)])],1)],1)],1),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 md4 d-flex",staticStyle:{"justify-content":"center"}},[a("input",{staticStyle:{display:"none"},attrs:{id:"inputAccIdsTarget",type:"file",accept:".txt",onclick:"document.getElementById('inputAccIdsTarget').value = ''"},on:{change:function(t){return e.loadAccIdsTarget()}}}),a("v-btn",{staticClass:"white--text",staticStyle:{"margin-top":"10px"},attrs:{onclick:"document.getElementById('inputAccIdsTarget').click()",small:"",color:"#E63946"}},[e._v("\n                                      Upload Target Accession IDs\n                                  ")])],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 d-flex",staticStyle:{"justify-content":"center"}},[a("v-text-field",{staticStyle:{"margin-right":"10px"},attrs:{value:this.nameFileAccIdsTarget,solo:"",readonly:"","hide-details":""}}),a("v-btn",{staticStyle:{"background-color":"red","margin-top":"10px"},attrs:{icon:"","x-small":"",color:"white"},on:{click:function(t){return e.deleteAccIdsTarget()}}},[a("v-icon",{attrs:{size:"18"}},[e._v("mdi-close")])],1)],1)],1)],1)],1)],1)],1):e._e()],1)],1),a("v-tab-item",{staticStyle:{"background-color":"#A8DADC","padding-top":"40px"}},[a("v-container",{staticStyle:{"justify-content":"center",padding:"0","margin-top":"10px"},attrs:{fluid:"","grid-list-xl":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 md5 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticStyle:{width:"400px",height:"70px"},attrs:{id:"tabBackgroundFree1",large:"",color:"#457B9D"},on:{click:function(t){e.selectedTabBackgroundFreeQuery=0}}},[e._v(" USE METADATA SEARCH ")])],1),a("v-flex",{staticClass:"no-horizontal-padding xs0 md1 d-flex",staticStyle:{"justify-content":"center"}}),a("v-flex",{staticClass:"no-horizontal-padding xs12 md5 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticStyle:{width:"400px",height:"70px"},attrs:{id:"tabBackgroundFree2",large:"",color:"#457B9D"},on:{click:function(t){e.selectedTabBackgroundFreeQuery=1}}},[e._v(" USE IDS ")])],1)],1)],1),0===e.selectedTabBackgroundFreeQuery?a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[e.listAccIdsBackground.length>0?e._e():a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("FreeQuery",{attrs:{type:"background"}})],1)],1):e._e(),1===e.selectedTabBackgroundFreeQuery?a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"10px"}},[a("h2",[e._v("INSERT ACCESSION IDs")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-top":"10px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,129813477)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                                      INSERT ACCESSION IDs:\n                                  ")]),a("v-card-text",{staticStyle:{"text-align":"center"}},[a("span",[a("br"),e._v("\n                                      For statistical significance you need to provide at least 50 valid ids not overlapping with the target.\n                                     "),a("br")])])],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs10 md8 lg6 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{staticStyle:{padding:"11px"},attrs:{color:"#F1FAEE",width:"100%"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("ADD ACCESSION IDs:")])]),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 d-flex",staticStyle:{"justify-content":"center"}},[a("v-text-field",{staticStyle:{"margin-right":"10px"},attrs:{solo:"","hide-details":""},model:{value:e.accession_id_background,callback:function(t){e.accession_id_background=t},expression:"accession_id_background"}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs8 md3 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticClass:"white--text",staticStyle:{"margin-top":"10px"},attrs:{small:"",color:"#E63946"},on:{click:function(t){return e.addAccessionIdBackground()}}},[e._v("\n                                      ADD\n                                    ")])],1),a("v-flex",{staticClass:"no-horizontal-padding xs8 md3 d-flex",staticStyle:{"justify-content":"center"}},[a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"white--text",staticStyle:{"margin-top":"10px"},attrs:{slot:"activator",small:"",color:"#1D3557",disabled:!(e.listAccIdsBackgroundInserted.length>0)},slot:"activator"},i),[e._v("\n                                            SHOW LIST ("+e._s(e.listAccIdsBackgroundInserted.length)+")\n                                          ")])]}}],null,!1,336983894),model:{value:e.dialogAccIdsBackgroundInserted,callback:function(t){e.dialogAccIdsBackgroundInserted=t},expression:"dialogAccIdsBackgroundInserted"}},[a("v-card",[a("v-card-title",{staticClass:"headline",staticStyle:{"background-color":"#A8DADC"}},[e._v("\n                                                ACCESSION IDs ADDED:\n                                              "),a("v-spacer"),a("v-btn",{attrs:{color:"black",text:""},on:{click:function(t){return e.deleteAllAccIdsBackgroundInserted()}}},[e._v("\n                                                DELETE ALL\n                                              ")])],1),a("v-card-text",{staticStyle:{"text-align":"center"}},[a("span",[a("br"),e._l(e.listAccIdsBackgroundInserted,(function(t,i){return a("span",{key:t},[e._v("\n                                                  "+e._s(t)+"\n                                                  "),a("v-btn",{staticStyle:{"background-color":"red","margin-left":"20px"},attrs:{icon:"",width:"15px",height:"15px",color:"white"},on:{click:function(t){return e.deleteAccIdsBackgroundInserted(i)}}},[a("v-icon",{attrs:{size:"12"}},[e._v("mdi-close")])],1),a("br")],1)}))],2)])],1)],1)],1)],1)],1),a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("UPLOAD LIST OF ACCESSION IDs:")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                                            UPLOAD LIST OF ACCESSION IDs:\n                                        ")]),a("v-card-text",{staticStyle:{"text-align":"center"}},[a("span",[a("br"),a("br")]),a("span",[a("b",[e._v("EXAMPLE OF FILE")]),a("v-btn",{staticStyle:{"margin-left":"20px"},attrs:{"x-small":"",icon:""},on:{click:function(t){return e.downloadExampleListAccessionIds("background")}}},[a("v-icon",{attrs:{size:"18"}},[e._v("\n                                                mdi-download-circle-outline\n                                              ")])],1)],1)])],1)],1)],1),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 md4 d-flex",staticStyle:{"justify-content":"center"}},[a("input",{staticStyle:{display:"none"},attrs:{id:"inputAccIdsBackground",type:"file",accept:".txt",onclick:"document.getElementById('inputAccIdsBackground').value = ''"},on:{change:function(t){return e.loadAccIdsBackground()}}}),a("v-btn",{staticClass:"white--text",staticStyle:{"margin-top":"10px"},attrs:{onclick:"document.getElementById('inputAccIdsBackground').click()",small:"",color:"#E63946"}},[e._v("\n                                        Upload Background Accession IDs\n                                    ")])],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 d-flex",staticStyle:{"justify-content":"center"}},[a("v-text-field",{staticStyle:{"margin-right":"10px"},attrs:{value:this.nameFileAccIdsBackground,solo:"",readonly:"","hide-details":""}}),a("v-btn",{staticStyle:{"background-color":"red","margin-top":"10px"},attrs:{icon:"","x-small":"",color:"white"},on:{click:function(t){return e.deleteAccIdsBackground()}}},[a("v-icon",{attrs:{size:"18"}},[e._v("mdi-close")])],1)],1)],1)],1)],1)],1)],1):e._e()],1)],1),a("v-tab-item",{staticStyle:{"background-color":"#A8DADC","padding-top":"40px"}})],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("FreeQuerySummaryPanel")],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("h2",[e._v(" NUM OVERLAPPING SEQUENCES ")])]),a("v-flex",{staticClass:"no-horizontal-padding xs8 md4 lg2 d-flex",staticStyle:{"justify-content":"center","margin-bottom":"30px"}},[a("v-text-field",{staticClass:"centered-input",attrs:{value:e.num_overlapping_sequences,solo:"",readonly:"","hide-details":""}})],1),0!==e.num_overlapping_sequences?a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("h3",[e._v(" Remove overlapping data from ")])]):e._e(),0!==e.num_overlapping_sequences?a("v-flex",{staticClass:"no-horizontal-padding xs8 md4 lg2 d-flex",staticStyle:{"justify-content":"center","margin-bottom":"30px"}},[a("v-select",{attrs:{items:e.possibleRemoveOverlapping,label:"Remove Overlapping",solo:"","hide-details":""},model:{value:e.selectRemoveOverlapping,callback:function(t){e.selectRemoveOverlapping=t},expression:"selectRemoveOverlapping"}})],1):e._e(),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0","margin-top":"20px"}},[a("h2",[e._v("SELECT THE PROTEINS TO COMPARE")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("h4",[e._v('(selecting none is equivalent to "all proteins")')])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"10px"}},[a("v-flex",{staticClass:"no-horizontal-padding xs10 md4 lg2 d-flex",staticStyle:{"justify-content":"center"}},[a("v-autocomplete",{attrs:{items:e.possibleProtein,label:"Protein",solo:"","hide-details":"",multiple:""},model:{value:e.selectedProtein,callback:function(t){e.selectedProtein=t},expression:"selectedProtein"}})],1)],1),e.errorNumSeqFreeQuery?a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("span",{staticStyle:{"text-align":"center"}},[a("span",{staticStyle:{color:"red"}},[e._v(" The number of currently selected genomic sequences is too low. A minimum of 50 non-overlapping sequences must be selected for both the target and background. Please change your setting.")]),a("br"),a("span",{staticStyle:{color:"red"}},[e._v(" (Please be aware that overlapping entries are removed from "+e._s(e.selectRemoveOverlapping.toLowerCase())+")")])])]):e._e(),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticClass:"white--text",attrs:{color:"#E63946",disabled:e.errorNumSeqFreeQuery},on:{click:function(t){return e.applyFreeQueryAnalysis()}}},[e._v("\n                    APPLY\n                ")])],1)],1)],1)],1),e.tableApplied?a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-card",{staticStyle:{"margin-bottom":"50px","margin-top":"50px",padding:"50px"},attrs:{width:"1600px",color:"#A8DADC"}},[a("v-card-text",[a("v-layout",{staticStyle:{padding:"30px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("h2",[e._v("ADVANCED FILTERS")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 xl3 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("% BACKGROUND:")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                              % BACKGROUND\n                          ")]),a("v-card-text",[e._v("\n                           This filter allows to reduce the number of mutations shown in the results, based on the percentage of appearance of each mutation in the background population.\n                          ")])],1)],1)],1),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MIN")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:"0",max:e.selectedMaxBackgroundFrequency,type:"number"},model:{value:e.selectedMinBackgroundFrequency,callback:function(t){e.selectedMinBackgroundFrequency=e._n(t)},expression:"selectedMinBackgroundFrequency"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MAX")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:e.selectedMinBackgroundFrequency,max:"100",type:"number"},model:{value:e.selectedMaxBackgroundFrequency,callback:function(t){e.selectedMaxBackgroundFrequency=e._n(t)},expression:"selectedMaxBackgroundFrequency"}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 xl3 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("# SEQUENCES IN BACKGROUND:")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                              # SEQUENCES IN BACKGROUND\n                          ")]),a("v-card-text",[e._v("\n                           This filter allows to reduce the number of mutations shown in the results, based on the appearance (in absolute numbers) of each mutation in the background population.\n                          ")])],1)],1)],1),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MIN")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:"0",max:e.selectedMaxBackgroundNumerator,type:"number"},model:{value:e.selectedMinBackgroundNumerator,callback:function(t){e.selectedMinBackgroundNumerator=e._n(t)},expression:"selectedMinBackgroundNumerator"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MAX")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:e.selectedMinBackgroundNumerator,max:e.totalMaxBackgroundNumerator,type:"number"},model:{value:e.selectedMaxBackgroundNumerator,callback:function(t){e.selectedMaxBackgroundNumerator=e._n(t)},expression:"selectedMaxBackgroundNumerator"}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 xl3 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("% TARGET:")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                              % TARGET\n                          ")]),a("v-card-text",[e._v("\n                           This filter allows to reduce the number of mutations shown in the results, based on the percentage of appearance of each mutation in the target population.\n                          ")])],1)],1)],1),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MIN")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:"0",max:e.selectedMaxTargetFrequency,type:"number"},model:{value:e.selectedMinTargetFrequency,callback:function(t){e.selectedMinTargetFrequency=e._n(t)},expression:"selectedMinTargetFrequency"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MAX")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:e.selectedMinTargetFrequency,max:"100",type:"number"},model:{value:e.selectedMaxTargetFrequency,callback:function(t){e.selectedMaxTargetFrequency=e._n(t)},expression:"selectedMaxTargetFrequency"}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 xl3 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("# SEQUENCES IN TARGET:")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                              # SEQUENCES IN TARGET\n                          ")]),a("v-card-text",[e._v("\n                           This filter allows to reduce the number of mutations shown in the results, based on the appearance (in absolute numbers) of each mutation in the target population.\n                          ")])],1)],1)],1),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MIN")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:"0",max:e.selectedMaxTargetNumerator,type:"number"},model:{value:e.selectedMinTargetNumerator,callback:function(t){e.selectedMinTargetNumerator=e._n(t)},expression:"selectedMinTargetNumerator"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MAX")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:e.selectedMinTargetNumerator,max:e.totalMaxTargetNumerator,type:"number"},model:{value:e.selectedMaxTargetNumerator,callback:function(t){e.selectedMaxTargetNumerator=e._n(t)},expression:"selectedMaxTargetNumerator"}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 xl3 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("P-VALUE:")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                              P-VALUE\n                          ")]),a("v-card-text",[e._v("\n                           This filter allows to reduce the number of mutations shown in the results, based on their p-values. The p-value is calculated through a chi-squared test.\n                          ")])],1)],1)],1),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MIN")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:"0",max:e.selectedMaxPValue,step:"0.01",type:"number"},model:{value:e.selectedMinPValue,callback:function(t){e.selectedMinPValue=e._n(t)},expression:"selectedMinPValue"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MAX")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:e.selectedMinPValue,max:"1",step:"0.01",type:"number"},model:{value:e.selectedMaxPValue,callback:function(t){e.selectedMaxPValue=e._n(t)},expression:"selectedMaxPValue"}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 xl3 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("ODDS RATIO:")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                              ODDS RATIO\n                          ")]),a("v-card-text",[e._v("\n                           This filter allows to reduce the number of mutations shown in the results, based on their odds ratio. The odds ratio is calculated as: (percentage in target + epsilon) / (percentage in background + epsilon)\n                          ")])],1)],1)],1),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MIN")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:"0",max:e.selectedMaxOddsRatio,"hide-details":"",step:"0.1",type:"number"},model:{value:e.selectedMinOddsRatio,callback:function(t){e.selectedMinOddsRatio=e._n(t)},expression:"selectedMinOddsRatio"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MAX")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"","hide-details":"",min:e.selectedMinOddsRatio,max:e.totalMaxOddsRatio,step:"0.1",type:"number"},model:{value:e.selectedMaxOddsRatio,callback:function(t){e.selectedMaxOddsRatio=e._n(t)},expression:"selectedMaxOddsRatio"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs2 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("INF")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0","margin-bottom":"0"}},[a("v-checkbox",{attrs:{"hide-details":"","input-value":"true"},model:{value:e.isInfinite,callback:function(t){e.isInfinite=t},expression:"isInfinite"}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 xl3 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("FILTER PROTEIN:")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                              FILTER PROTEIN\n                          ")]),a("v-card-text",[e._v("\n                           This filter allows to reduce the number of mutations shown in the results, based on their protein.\n                          ")])],1)],1)],1),a("v-card-text",[a("v-autocomplete",{attrs:{items:e.possibleProteinForTable,label:"Protein",solo:"",clearable:"","hide-details":""},model:{value:e.selectedProteinForTable,callback:function(t){e.selectedProteinForTable=t},expression:"selectedProteinForTable"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticClass:"white--text",attrs:{color:"#E63946"},on:{click:function(t){return e.applyFilterOnTable()}}},[e._v("\n                    APPLY\n                ")])],1),e.queryFreeTarget["lineage"]?a("v-card",{staticStyle:{"margin-top":"50px",padding:"10px"},attrs:{width:"1000px",color:"#F1FAEE"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[0!==e.fixedRowsTable.length?a("v-flex",{staticClass:"no-horizontal-padding xs4 d-flex",staticStyle:{"justify-content":"center","margin-top":"12px"}},[a("h3",[e._v("CHANGES TO HIGHLIGHT:")])]):e._e(),0!==e.fixedRowsTable.length?a("v-flex",{staticClass:"no-horizontal-padding xs4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-select",{attrs:{items:e.possibleTypeImportantMutation,label:"Type Important Change",solo:"","hide-details":""},model:{value:e.selectedTypeImportantMutation,callback:function(t){e.selectedTypeImportantMutation=t},expression:"selectedTypeImportantMutation"}})],1):e._e(),0!==e.fixedRowsTable.length?a("v-flex",{staticClass:"no-horizontal-padding xs4 d-flex",staticStyle:{"justify-content":"center","margin-top":"12px"}},[a("ImportantMutation",{attrs:{importantMutationECDC:e.importantMutationECDC,importantMutation75Percentage:e.importantMutation75Percentage,rowsTable:e.fixedRowsTable}})],1):e._e()],1)],1):e._e(),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"80px"}},[a("h2",{staticStyle:{"text-align":"center"}},[e._v("CHANGES IN TARGET vs BACKGROUND LOCATION")])]),a("v-tabs",{attrs:{"background-color":"#6A040F",dark:"",vertical:"","show-arrows":"","slider-color":"#E63946","slider-size":"6"},model:{value:e.selectedTabTable,callback:function(t){e.selectedTabTable=t},expression:"selectedTabTable"}},[a("v-tabs-items",{staticStyle:{background:"#F1FAEE"},model:{value:e.selectedTabTable,callback:function(t){e.selectedTabTable=t},expression:"selectedTabTable"}},e._l(e.rowsTable,(function(t,i){return a("v-tab-item",{key:i,staticStyle:{padding:"20px","background-color":"#F1FAEE"}},[a("v-layout",{staticStyle:{"margin-top":"10px"},attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("h2",[e._v("TABLE\n                         "),a("v-btn",{staticStyle:{"margin-left":"20px","margin-bottom":"5px"},attrs:{"x-small":"",icon:""},on:{click:function(a){return e.downloadTable("table",t)}}},[a("v-icon",{attrs:{size:"23"}},[e._v("\n                                mdi-download-circle-outline\n                              ")])],1)],1)]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-data-table",{staticClass:"data-table table_free",staticStyle:{width:"98%",border:"grey solid 1px"},attrs:{headers:e.headerTable,items:t,"multi-sort":"","sort-by":e.sortByTable,"sort-desc":e.sortDescTable},on:{"update:sortBy":function(t){e.sortByTable=t},"update:sort-by":function(t){e.sortByTable=t},"update:sortDesc":function(t){e.sortDescTable=t},"update:sort-desc":function(t){e.sortDescTable=t}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item;return[a("tr",e._l(e.headerTable,(function(t){return a("td",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"header.show"}],key:t.value,staticStyle:{"white-space":"pre-wrap","word-wrap":"break-word","text-align":"center"}},["lineage"===t.value?a("span",[a("v-dialog",{attrs:{width:"800",scrollable:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"white--text",attrs:{slot:"activator",color:"rgb(122, 139, 157)",small:""},slot:"activator"},i),[a("span",[e._v("\n                                                Lineages\n                                              ")])])]}}],null,!0)},[a("v-card",[a("v-card-title",{staticClass:"justify-center",staticStyle:{"background-color":"#A8DADC",color:"white"}},[a("span",[e._v("\n                                                Lineages\n                                              ")])]),a("v-card-text",{staticStyle:{"margin-top":"20px"}},e._l(i[t.value],(function(t){return a("span",{key:t},[a("span",[e._v(e._s(t))]),a("br")])})),0)],1)],1)],1):e._e(),"mutation_position"===t.value&&e.importantMutation["mutation"].includes(i["mutation"])?a("span",{staticStyle:{color:"white","font-weight":"900","background-color":"red",padding:"5px"}},[e._v(e._s(i["mutation"]))]):"mutation_position"===t.value&&e.importantMutation["additional_mutation"].includes(i["mutation"])?a("span",{staticStyle:{color:"white","font-weight":"900","background-color":"orange",padding:"5px"}},[e._v(e._s(i["mutation"]))]):"mutation_position"===t.value?a("span",[e._v(e._s(i["mutation"]))]):"p_value"===t.value&&i["p_value"]>=1e-5?a("span",[e._v(e._s(i["p_value"].toFixed(5)))]):"p_value"===t.value&&i["p_value"]>0&&i["p_value"]<1e-5?a("span",[e._v(e._s(i["p_value"]))]):"p_value"===t.value&&0===i["p_value"]?a("span",[e._v(e._s(e.p_value_lower))]):"odd_ratio"===t.value?a("span",[0===i["percentage_background"]?a("span",[e._v(" INF ")]):a("span",[e._v(e._s(i["odd_ratio"].toFixed(5)))])]):"percentage_target"===t.value?a("span",[e._v(e._s(i["percentage_target"].toFixed(5))+" %  "),a("a",{on:{click:function(t){return e.openDialogAccession("target",i)}}},[e._v("("+e._s(i["numerator_target"])+")")])]):"percentage_background"===t.value?a("span",[e._v(e._s(i["percentage_background"].toFixed(5))+" %  "),a("a",{on:{click:function(t){return e.openDialogAccession("background",i)}}},[e._v("("+e._s(i["numerator_background"])+")")])]):a("span",[e._v(e._s(i[t.value]))])])})),0)]}}],null,!0)})],1)],1)],1)})),1)],1)],1)],1)],1)],1):e._e(),e.tableApplied?a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-card",{staticStyle:{"margin-bottom":"50px","margin-top":"50px",padding:"50px"},attrs:{width:"1600px",color:"#A8DADC"}},[a("v-card-text",[a("v-layout",{staticStyle:{padding:"30px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("h2",[e._v(" TARGET SEQUENCES BAR CHART ")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("P-VALUE:")])]),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MIN")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:"0",max:e.selectedMaxPValueBarChart,step:"0.01",type:"number"},model:{value:e.selectedMinPValueBarChart,callback:function(t){e.selectedMinPValueBarChart=e._n(t)},expression:"selectedMinPValueBarChart"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MAX")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:e.selectedMinPValueBarChart,max:"1",step:"0.01",type:"number"},model:{value:e.selectedMaxPValueBarChart,callback:function(t){e.selectedMaxPValueBarChart=e._n(t)},expression:"selectedMaxPValueBarChart"}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("SELECT PROTEIN (mandatory):")])]),a("v-card-text",{staticStyle:{"margin-top":"10px"}},[a("v-autocomplete",{attrs:{items:e.possibleProteinForPValue,label:"Protein",solo:"","hide-details":""},model:{value:e.selectedProteinForPValue,callback:function(t){e.selectedProteinForPValue=t},expression:"selectedProteinForPValue"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"500px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center",staticStyle:{margin:"0","padding-bottom":"0"}},[a("h5",[e._v("PREVALENCE RANGE OF AA CHANGES:")])]),a("v-card-text",{staticStyle:{"padding-top":"0","margin-top":"0"}},[a("v-layout",{staticStyle:{"margin-top":"0",padding:"0"},attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MIN")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:"0",max:e.selectedMaxPercentageMutationPValue,step:"1",type:"number"},model:{value:e.selectedMinPercentageMutationPValue,callback:function(t){e.selectedMinPercentageMutationPValue=e._n(t)},expression:"selectedMinPercentageMutationPValue"}})],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs5 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("span",[e._v("MAX")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex-",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{solo:"",min:e.selectedMinPercentageMutationPValue,max:"100",step:"1",type:"number"},model:{value:e.selectedMaxPercentageMutationPValue,callback:function(t){e.selectedMaxPercentageMutationPValue=e._n(t)},expression:"selectedMaxPercentageMutationPValue"}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-btn",{staticClass:"white--text",attrs:{color:"#E63946",disabled:null===e.selectedProteinForPValue},on:{click:function(t){return e.applyFilterPValueChart()}}},[e._v("\n                    APPLY\n               ")])],1),e.pValueBarChartApplied?a("div",[a("v-layout",{staticStyle:{"margin-top":"30px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"400px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("HIGHLIGHT DOMAINS:")])]),a("v-card-text",[a("v-autocomplete",{attrs:{items:e.possibleDomainForPValue,label:"Sites, family, and domains",solo:"","hide-details":"","item-text":e.getFieldTextDomain,multiple:""},model:{value:e.selectedDomainForPValue,callback:function(t){e.selectedDomainForPValue=t},expression:"selectedDomainForPValue"}})],1)],1)],1),e._l(e.selectedDomainForPValue,(function(t,i){return a("v-flex",{key:i,staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0","padding-bottom":"5px!important"}},[e.selectedDomainForPValue.length>0?a("v-card",{staticStyle:{width:"400px"},attrs:{color:"white"}},[a("v-card",{attrs:{color:e.color_1[i%e.color_1.length]+80,height:"100%"}},[a("h5",{staticStyle:{"text-align":"center",color:"black"}},[e._v(e._s(t.toUpperCase()))])])],1):e._e()],1)}))],2)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"400px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("HIGHLIGHT FUNCTIONALLY CHARACTERISED"),a("br"),e._v(" SITES:")])]),a("v-card-text",[a("v-autocomplete",{attrs:{items:e.possibleDomainForPValueMutagenesis,label:"Functionally Characterised Sites",solo:"","hide-details":"","item-text":e.getFieldTextDomain,multiple:""},model:{value:e.selectedDomainForPValueMutagenesis,callback:function(t){e.selectedDomainForPValueMutagenesis=t},expression:"selectedDomainForPValueMutagenesis"}})],1)],1)],1),e._l(e.selectedDomainForPValueMutagenesis,(function(t,i){return a("v-flex",{key:i,staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0","padding-bottom":"5px!important"}},[e.selectedDomainForPValueMutagenesis.length>0?a("v-card",{staticStyle:{width:"400px"},attrs:{color:"white"}},[a("v-card",{attrs:{color:e.color_2[i%e.color_2.length]+80,height:"100%"}},[a("h5",{staticStyle:{"text-align":"center",color:"black"}},[e._v(e._s(t.toUpperCase()))])])],1):e._e()],1)}))],2)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"400px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("HIGHLIGHT GLYCOSYLATION SITES:")])]),a("v-card-text",[a("v-autocomplete",{attrs:{items:e.possibleDomainForPValueAaModifications,label:"Glycosylation Sites",solo:"","hide-details":"","item-text":e.getFieldTextDomain},model:{value:e.selectedDomainForPValueAaModificationsFake,callback:function(t){e.selectedDomainForPValueAaModificationsFake=t},expression:"selectedDomainForPValueAaModificationsFake"}}),a("v-layout",{staticStyle:{padding:"0",margin:"0"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0",margin:"0"}},[a("v-checkbox",{attrs:{label:"Select All","input-value":"true","hide-details":""},model:{value:e.selectedAllAaModifications,callback:function(t){e.selectedAllAaModifications=t},expression:"selectedAllAaModifications"}})],1)],1)],1)],1)],1),e._l(e.selectedDomainForPValueAaModifications,(function(t,i){return a("v-flex",{key:i,staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0","padding-bottom":"5px!important"}},[e.selectedDomainForPValueAaModifications.length>0?a("v-card",{staticStyle:{width:"400px"},attrs:{color:"white"}},[a("v-card",{attrs:{color:"#FFA50080",height:"100%"}},[a("h5",{staticStyle:{"text-align":"center",color:"black"}},[e._v(e._s(t.toUpperCase()))])])],1):e._e()],1)}))],2)],1)],1),a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{attrs:{width:"400px",color:"#F1FAEE"}},[a("v-card-title",{staticClass:"justify-center"},[a("h5",[e._v("UPLOAD YOUR REGIONS:")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"info-button",staticStyle:{"margin-bottom":"5px","margin-left":"20px"},attrs:{slot:"activator","x-small":"",text:"",icon:"",color:"grey"},slot:"activator"},i),[a("v-icon",{staticClass:"info-icon"},[e._v("mdi-information")])],1)]}}],null,!1,226651893)},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                                    UPLOAD YOUR REGIONS:\n                                ")]),a("v-card-text",{staticStyle:{"text-align":"center"}},[a("span",[a("br"),a("br")]),a("span",[a("b",[e._v("EXAMPLE OF FILE")]),a("v-btn",{staticStyle:{"margin-left":"20px"},attrs:{"x-small":"",icon:""},on:{click:function(t){return e.downloadExampleCSV()}}},[a("v-icon",{attrs:{size:"18"}},[e._v("\n                                        mdi-download-circle-outline\n                                      ")])],1)],1)])],1)],1)],1),a("v-card-text",[a("v-layout",{attrs:{wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs3 d-flex",staticStyle:{"justify-content":"center"}},[a("input",{staticStyle:{display:"none"},attrs:{id:"inputDomainCSVFree",type:"file",accept:".csv",onclick:"document.getElementById('inputDomainCSVFree').value = ''"},on:{change:function(t){return e.loadDomainCSV()}}}),a("v-btn",{staticClass:"white--text",staticStyle:{"margin-top":"10px"},attrs:{onclick:"document.getElementById('inputDomainCSVFree').click()",small:"",color:"#E63946"}},[e._v("\n                                  Upload CSV\n                              ")])],1),a("v-flex",{staticClass:"no-horizontal-padding xs8 d-flex",staticStyle:{"justify-content":"center"}},[a("v-text-field",{staticStyle:{"margin-right":"10px"},attrs:{value:this.nameFileDomainCSV,solo:"",readonly:"","hide-details":""}}),a("v-btn",{staticStyle:{"background-color":"red","margin-top":"10px"},attrs:{icon:"","x-small":"",color:"white"},on:{click:function(t){return e.deleteDomainCSV()}}},[a("v-icon",{attrs:{size:"18"}},[e._v("mdi-close")])],1)],1)],1)],1)],1)],1)],1),a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg4 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},e._l(e.selectedDomainForPValueUploaded,(function(t,i){return a("v-flex",{key:i,staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0","padding-bottom":"5px!important"}},[e.selectedDomainForPValueUploaded.length>0?a("v-card",{staticStyle:{width:"400px"},attrs:{color:"white"}},[a("v-card",{attrs:{color:e.color_3[i%e.color_3.length]+80,height:"100%"}},[a("h5",{staticStyle:{"text-align":"center",color:"black"}},[e._v(e._s(t.toUpperCase()))])])],1):e._e()],1)})),1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}}),e._l(e.rowsTable,(function(t,i){return a("v-flex",{key:"pValue"+i,staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{staticStyle:{margin:"10px",padding:"10px"},attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-space-between":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 md2 d-flex",staticStyle:{"justify-content":"left"}},[a("v-card",{staticStyle:{height:"250px"},attrs:{"max-width":"500px",color:"#F1FAEE"}},[a("v-card-text",{staticStyle:{"text-align":"center","padding-top":"55px"}},[a("span",[a("b",[e._v(" TARGET: ")]),a("br")]),a("span",[e._v(" NUM SEQ:\n                              "),a("span",[e._v(e._s(e.fixedRowsTable[i][0]["denominator_target"]))]),a("br")]),a("br"),a("span",[a("b",[e._v(" BACKGROUND: ")]),a("br")]),a("span",[e._v(" NUM SEQ:\n                              "),a("span",[e._v(e._s(e.fixedRowsTable[i][0]["denominator_background"]))]),a("br")])])],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md10 d-flex",staticStyle:{"justify-content":"center"}},[a("PValueBarChart",{attrs:{namePValue:e.pValueName[i],pValueContent:e.pValueContent[i],totalMaxOddsRatio:e.totalMaxOddsRatio,startStopProtein:e.startStopProtein,selectedDomainForPValue:e.selectedDomainForPValue,possibleDomainForPValue:e.possibleDomainForPValue,selectedDomainForPValueMutagenesis:e.selectedDomainForPValueMutagenesis,possibleDomainForPValueMutagenesis:e.possibleDomainForPValueMutagenesis,selectedDomainForPValueAaModifications:e.selectedDomainForPValueAaModifications,possibleDomainForPValueAaModifications:e.possibleDomainForPValueAaModifications,selectedDomainForPValueUploaded:e.selectedDomainForPValueUploaded,possibleDomainForPValueUploaded:e.possibleDomainForPValueUploaded,type:"free",rowsAnalTime:t,protein:e.selectedProteinForPValue,nameFileAccIdsTarget:e.nameFileAccIdsTarget,nameFileAccIdsBackground:e.nameFileAccIdsBackground,listAccIdsTargetInserted:e.listAccIdsTargetInserted,listAccIdsBackgroundInserted:e.listAccIdsBackgroundInserted}})],1)],1)],1)],1)],1)}))],2):e._e()],1)],1)],1)],1):e._e(),a("v-overlay",{attrs:{value:e.overlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),a("v-dialog",{attrs:{persistent:"",scrollable:"",width:"700"},model:{value:e.dialogAccessionIds,callback:function(t){e.dialogAccessionIds=t},expression:"dialogAccessionIds"}},[a("v-card",[a("v-card-title",{staticClass:"headline",staticStyle:{"background-color":"#A8DADC"}},[e._v("\n        Accession IDs\n        "),a("v-spacer"),a("v-btn",{attrs:{color:"rgb(122, 139, 157)",text:""},on:{click:function(t){return e.downloadAccessionIds()}}},[e._v("\n          DOWNLOAD\n        ")]),a("v-btn",{attrs:{color:"rgb(122, 139, 157)",text:""},on:{click:function(t){e.dialogAccessionIds=!e.dialogAccessionIds}}},[e._v("\n          CLOSE\n        ")])],1),a("v-card-text",{staticStyle:{padding:"50px"}},e._l(e.listAccessionIds,(function(t){return a("span",{key:t},[a("span",[e._v(" - "+e._s(t))]),a("br")])})),0)],1)],1)],1)},ai=[],ii=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-bottom":"100px",width:"90%"}},[a("v-layout",{staticStyle:{padding:"30px"},attrs:{row:"",wrap:"","justify-space-between":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"10px"}},[a("h2",[e._v("PICK LINEAGE AND PLACE")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 lg12 xl12 d-flex",staticStyle:{"justify-content":"center"}},[a("SelectorsQueryFree",{attrs:{field:"lineage",type:e.type}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}}),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg2 d-flex",staticStyle:{"justify-content":"center"}},[a("SelectorsQueryFree",{attrs:{field:"geo_group",type:e.type}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg2 d-flex",staticStyle:{"justify-content":"center"}},[a("SelectorsQueryFree",{attrs:{field:"country",type:e.type}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg2 d-flex",staticStyle:{"justify-content":"center"}},[a("SelectorsQueryFree",{attrs:{field:"region",type:e.type}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md6 lg2 d-flex",staticStyle:{"justify-content":"center"}},[a("SelectorsQueryFree",{attrs:{field:"province",type:e.type}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"10px"}},[a("h3",[e._v("Exclude one or more places")])]),a("v-flex",{staticClass:"no-horizontal-padding xs12 md12 d-flex",staticStyle:{"justify-content":"center"}},[a("SelectorQueryToExclude",{attrs:{mode:"free"+e.type,field:e.fieldToExclude}})],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}}),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("TimeSelectorQueryFree",{attrs:{timeName:e.type+"timeDistribution",type:e.type}})],1)],1)],1)},ni=[],si=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},["lineage"!==e.field?a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("SelectorsPieChart",{attrs:{nameField:e.type+e.field,field:e.field,nameQuery:"free"+e.type,fieldContent:e.possibleValues,isLoading:e.isLoading}})],1):e._e(),"lineage"!==e.field?a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("v-autocomplete",{attrs:{items:e.possibleValues,label:"geo_group"===e.field?"continent":e.field,solo:"",clearable:"","hide-details":"","item-text":e.getFieldText,loading:e.isLoading,multiple:e.checkMultiple(),disabled:e.isLoading||0===e.possibleValues.length},scopedSlots:e._u([{key:"item",fn:function(t){return[a("span",{staticClass:"item-value-span"},[e._v(e._s(e.getFieldText(t.item)))]),a("span",{staticClass:"item-count-span"},[e._v(e._s(t.item.count))])]}}],null,!1,3870911933),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[a("span",{staticClass:"firstElement",attrs:{slot:"prepend-item"},slot:"prepend-item"},[e._v("\n              Data of multiple location is merged.â€ƒâ€ƒ\n            ")])])],1):e._e(),"lineage"===e.field?a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("LineageTreeSelector",{staticStyle:{width:"100%"},attrs:{isLoading:e.isLoading,possibleValues:e.possibleValues,type:e.type}})],1):e._e()],1)],1)],1)],1)},ri=[],oi={name:"SelectorsQueryFree",components:{LineageTreeSelector:Yt,SelectorsPieChart:qt},props:{field:{required:!0},type:{required:!0}},data:function(){return{possibleValues:[],isLoading:!1,selectorDisabled:!1,isMultiple:!1,selected:[]}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])(["queryFreeTarget","queryFreeBackground","toExcludeFreeTarget","toExcludeFreeBackground"])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])([])),Object(p["b"])(["setQueryFreeTarget","setQueryFreeBackground"])),{},{getFieldText:function(e){var t="";return t=e["value"],t},loadData:function(){var e,t=this;if("target"===this.type?e=JSON.parse(JSON.stringify(this.queryFreeTarget)):"background"===this.type&&(e=JSON.parse(JSON.stringify(this.queryFreeBackground))),"province"===this.field&&!e["region"]||"region"===this.field&&!e["country"]||"country"===this.field&&!e["geo_group"])this.possibleValues=[],this.isLoading=!1;else{this.isLoading=!0;var a="/analyze/selectorQuery",i={};"geo_group"===this.field?(delete e["country"],delete e["region"],delete e["province"]):"country"===this.field?(delete e["region"],delete e["province"]):"region"===this.field&&delete e["province"],("target"===this.type||"background"===this.type)&&(e["toExclude"]=[]),i["field"]=this.field,i["query"]=e,s.a.post(a,i).then((function(e){return e.data})).then((function(e){var a;t.possibleValues=e,"target"===t.type&&(a=t.queryFreeTarget),"background"===t.type&&(a=t.queryFreeBackground),a[t.field]&&"lineage"!==t.field&&function(){for(var e=a[t.field],i=[],n=function(a){t.possibleValues.some((function(t){return t.value===e[a]}))||i.unshift(a)},s=0;s<e.length;s+=1)n(s);for(var r=0;r<i.length;r+=1)e.splice(i[r],1);"target"===t.type&&t.setQueryFreeTarget({field:t.field,list:e}),"background"===t.type&&t.setQueryFreeBackground({field:t.field,list:e})}(),t.isLoading=!1}))}},checkMultiple:function(){return!("lineage"===this.field)},clearToExcludeField:function(){this.selected=[],"target"===this.type?this.setQueryFreeTarget({field:this.field,list:[]}):"background"===this.type&&this.setQueryFreeBackground({field:this.field,list:[]})}}),mounted:function(){this.loadData()},watch:{queryFreeTarget:function(){"target"===this.type&&this.loadData()},queryFreeBackground:function(){"background"===this.type&&this.loadData()},selected:function(){if(null!==this.selected){if("lineage"===this.field)"target"===this.type?(this.setQueryFreeTarget({field:this.field,list:null}),this.setQueryFreeTarget({field:this.field,list:this.selected})):"background"===this.type&&(this.setQueryFreeBackground({field:this.field,list:null}),this.setQueryFreeBackground({field:this.field,list:this.selected}));else if("target"===this.type){this.setQueryFreeTarget({field:this.field,list:[]});var e=JSON.parse(JSON.stringify(this.selected));this.setQueryFreeTarget({field:this.field,list:e})}else if("background"===this.type){this.setQueryFreeBackground({field:this.field,list:[]});var t=JSON.parse(JSON.stringify(this.selected));this.setQueryFreeBackground({field:this.field,list:t})}}else this.clearToExcludeField()},"queryFreeTarget.geo_group":function(){"geo_group"!==this.field||this.queryFreeTarget["geo_group"]&&0!==this.queryFreeTarget["geo_group"].length||"target"===this.type&&this.clearToExcludeField()},"queryFreeTarget.country":function(){"country"!==this.field||this.queryFreeTarget["country"]&&0!==this.queryFreeTarget["country"].length||"target"===this.type&&this.clearToExcludeField()},"queryFreeTarget.region":function(){"region"!==this.field||this.queryFreeTarget["region"]&&0!==this.queryFreeTarget["region"].length||"target"===this.type&&this.clearToExcludeField()},"queryFreeTarget.province":function(){"province"!==this.field||this.queryFreeTarget["province"]&&0!==this.queryFreeTarget["province"].length||"target"===this.type&&this.clearToExcludeField()},"queryFreeBackground.geo_group":function(){"geo_group"!==this.field||this.queryFreeBackground["geo_group"]&&0!==this.queryFreeBackground["geo_group"].length||"background"===this.type&&this.clearToExcludeField()},"queryFreeBackground.country":function(){"country"!==this.field||this.queryFreeBackground["country"]&&0!==this.queryFreeBackground["country"].length||"background"===this.type&&this.clearToExcludeField()},"queryFreeBackground.region":function(){"region"!==this.field||this.queryFreeBackground["region"]&&0!==this.queryFreeBackground["region"].length||"background"===this.type&&this.clearToExcludeField()},"queryFreeBackground.province":function(){"province"!==this.field||this.queryFreeBackground["province"]&&0!==this.queryFreeBackground["province"].length||"background"===this.type&&this.clearToExcludeField()}}},li=oi,ci=(a("19f3"),Object(x["a"])(li,si,ri,!1,null,"f38c71b2",null)),di=ci.exports;b()(ci,{VAutocomplete:vt["a"],VFlex:k["a"],VLayout:D["a"]});var ui=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{position:"relative",width:"95%"}},[i("v-container",{staticStyle:{"justify-content":"center","text-align":"center","z-index":"1"},attrs:{fluid:"","grid-list-xl":""}},[i("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center","margin-top":"50px"}},[i("h2",{staticStyle:{"text-align":"center"}},[e._v("# GENOMES BY COLLECTION DATE ")]),i("v-btn",{staticStyle:{"margin-left":"20px","margin-top":"5px"},attrs:{"x-small":"",icon:""},on:{click:e.download}},[i("v-icon",{attrs:{size:"23"}},[e._v("\n                      mdi-download-circle-outline\n                    ")])],1)],1)],1),i("v-row",{staticStyle:{"z-index":"1"},attrs:{justify:"center",align:"center"}},[i("div",{staticStyle:{width:"100%",height:"500px","user-select":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)",padding:"0","border-width":"0","background-color":"white","margin-top":"50px","z-index":"1"},attrs:{id:e.timeName}})])],1),e.overlay?i("div",{staticStyle:{position:"absolute",top:"200px",left:"40%",width:"20%",height:"20%"}},[i("v-img",{staticStyle:{"z-index":"1"},attrs:{src:a("ef03")}})],1):e._e(),i("v-container",{staticStyle:{"justify-content":"center","background-color":"white",width:"100%"},attrs:{fluid:"","grid-list-xl":""}},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("v-flex",{staticClass:"no-horizontal-padding xs10 d-flex",staticStyle:{"justify-content":"center","padding-top":"0","padding-bottom":"0"}},[i("div",{staticStyle:{width:"100%","z-index":"3"}},[i("v-range-slider",{attrs:{min:"0",max:e.max_range,color:"#F48C0680","track-color":"grey",height:"2px"},on:{mouseup:e.mouseUpSlider},model:{value:e.slider,callback:function(t){e.slider=t},expression:"slider"}})],1)])],1)],1),i("v-container",{staticStyle:{"justify-content":"center","background-color":"white",width:"100%"},attrs:{fluid:"","grid-list-xl":""}},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 md12 lg6 d-flex",staticStyle:{"justify-content":"center"}},[i("v-card",{staticStyle:{width:"100%",margin:"20px"},attrs:{color:"#F48C0680"}},[i("v-card-text",[i("v-layout",{staticStyle:{"padding-bottom":"30px","padding-top":"30px"},attrs:{row:"",wrap:"","justify-space-around":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs10 md5 lg5 d-flex",staticStyle:{"justify-content":"center",padding:"0",position:"relative","margin-top":"15px"}},[i("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("h3",{staticStyle:{"text-align":"center"}},[e._v("START: ")])]),i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("v-text-field",{staticClass:"centered-input",attrs:{solo:"","hide-details":""},scopedSlots:e._u([{key:"append",fn:function(){return[e.wrong_last_start_date?i("v-icon",{attrs:{color:"#E63946"}},[e._v("\n                              mdi-close-circle\n                            ")]):i("v-icon",{attrs:{color:"#1D3557"}},[e._v("\n                              mdi-checkbox-marked-circle\n                            ")])]},proxy:!0}]),model:{value:e.last_start_date,callback:function(t){e.last_start_date=t},expression:"last_start_date"}})],1),i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("span",{staticStyle:{"text-align":"center"}},[e._v(" (input date using the YYYY-MM-DD format) ")])])],1)],1),i("v-flex",{staticClass:"no-horizontal-padding xs10 md5 lg5 d-flex",staticStyle:{"justify-content":"center",padding:"0",position:"relative","margin-top":"15px"}},[i("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("h3",{staticStyle:{"text-align":"center"}},[e._v("END: ")])]),i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("v-text-field",{staticClass:"centered-input",attrs:{solo:"","hide-details":""},scopedSlots:e._u([{key:"append",fn:function(){return[e.wrong_last_stop_date?i("v-icon",{attrs:{color:"#E63946"}},[e._v("\n                              mdi-close-circle\n                            ")]):i("v-icon",{attrs:{color:"#1D3557"}},[e._v("\n                              mdi-checkbox-marked-circle\n                            ")])]},proxy:!0}]),model:{value:e.last_stop_date,callback:function(t){e.last_stop_date=t},expression:"last_stop_date"}})],1),i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[i("span",{staticStyle:{"text-align":"center"}},[e._v(" (input date using the YYYY-MM-DD format) ")])])],1)],1)],1)],1)],1)],1)],1)],1),i("v-overlay",{attrs:{value:e.overlay}},[i("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],1)},hi=[],gi={name:"TimeSelectorQueryFree",props:{timeName:{required:!0},type:{required:!0}},data:function(){return{overlay:!1,slider:[0,1500],max_range:0,timeContent:[],last_start_date:null,last_stop_date:null,num_sequences:0,wrong_last_start_date:!1,wrong_last_stop_date:!1,min_num_seq:10,options_slider:{enableCross:!1},barChart:{title:{},tooltip:{trigger:"item"},legend:{data:["Time distribution","AVG of previous 7 days"],top:"20px",selectedMode:!1,itemGap:50},series:[{name:"Time distribution",type:"bar",radius:"50%",data:[],itemStyle:{color:"#323F8B"},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"#323F8B"}},markArea:{tooltip:{show:!1},data:[[{xAxis:0,itemStyle:{color:"#F48C0680"}},{xAxis:0}]]}},{name:"AVG of previous 7 days",type:"line",data:[],color:"#323F8B"}],xAxis:{type:"category",data:[]},yAxis:{type:"value"},dataZoom:[{type:"inside"}]},my_chart:null}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])(["queryFreeTarget","queryFreeBackground","startDateQueryFreeTarget","stopDateQueryFreeTarget","startDateQueryFreeBackground","stopDateQueryFreeBackground","toExcludeFreeTarget","toExcludeFreeBackground"])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])(["setStartDateQueryFreeTarget","setStopDateQueryFreeTarget","setStartDateQueryFreeBackground","setStopDateQueryFreeBackground","setNumSequencesQueryFreeTarget","setNumSequencesQueryFreeBackground","setStartAndStopQueryFreeTarget","setStartAndStopQueryFreeBackground"])),Object(p["b"])(["setQueryFreeTarget","setQueryFreeBackground"])),{},{mouseUpSlider:function(){var e=this.slider[0],t=this.slider[1];if(this.changeMarkerAndRender(e,t),this.last_start_date=this.translateIndexToDate(this.slider[0]),this.last_stop_date=this.translateIndexToDate(this.slider[1]),"target"===this.type){var a={start:this.last_start_date,stop:this.last_stop_date};this.setStartAndStopQueryFreeTarget(a)}else if("background"===this.type){var i={start:this.last_start_date,stop:this.last_stop_date};this.setStartAndStopQueryFreeBackground(i)}},download:function(){var e=this.my_chart.getConnectedDataURL({pixelRatio:2,backgroundColor:"white"}),t=document.createElement("a"),a="png",i="";if("target"===this.type?(i="open_analysis_target_timeDistribution",this.queryFreeTarget["lineage"]&&(i+="_"+this.queryFreeTarget["lineage"]),this.queryFreeTarget["geo_group"]?this.queryFreeTarget["country"]?this.queryFreeTarget["region"]?this.queryFreeTarget["province"]?this.queryFreeTarget["province"].length>2?i+="_"+this.queryFreeTarget["province"][0]+"_etc":i+="_"+this.queryFreeTarget["province"]:this.queryFreeTarget["region"].length>2?i+="_"+this.queryFreeTarget["region"][0]+"_etc":i+="_"+this.queryFreeTarget["region"]:this.queryFreeTarget["country"].length>2?i+="_"+this.queryFreeTarget["country"][0]+"_etc":i+="_"+this.queryFreeTarget["country"]:this.queryFreeTarget["geo_group"].length>2?i+="_"+this.queryFreeTarget["geo_group"][0]+"_etc":i+="_"+this.queryFreeTarget["geo_group"]:i+="_World"):(i="open_analysis_background_timeDistribution",this.queryFreeBackground["lineage"]&&(i+="_"+this.queryFreeBackground["lineage"]),this.queryFreeBackground["geo_group"]?this.queryFreeBackground["country"]?this.queryFreeBackground["region"]?this.queryFreeBackground["province"]?this.queryFreeBackground["province"].length>2?i+="_"+this.queryFreeBackground["province"][0]+"_etc":i+="_"+this.queryFreeBackground["province"]:this.queryFreeBackground["region"].length>2?i+="_"+this.queryFreeBackground["region"][0]+"_etc":i+="_"+this.queryFreeBackground["region"]:this.queryFreeBackground["country"].length>2?i+="_"+this.queryFreeBackground["country"][0]+"_etc":i+="_"+this.queryFreeBackground["country"]:this.queryFreeBackground["geo_group"].length>2?i+="_"+this.queryFreeBackground["geo_group"][0]+"_etc":i+="_"+this.queryFreeBackground["geo_group"]:i+="_World"),t.download=i+"."+a,t.target="_blank",t.href=e,"function"===typeof MouseEvent){var n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});t.dispatchEvent(n)}else{var s='<body style="margin:0;">![]('+e+")</body>",r=window.open();r.document.write(s)}},getDaysArray:function(e,t){for(var a=[],i=new Date(e);i<=t;i.setDate(i.getDate()+1)){var n=new Date(i).toISOString().slice(0,10);if(a.includes(n)||a.push(n),-1!==n.indexOf("-10-24")){var s=new Date(n);s.setDate(s.getDate()+1);var r=new Date(s).toISOString().slice(0,10);a.push(r)}}return a},renderGraphFilterDate:function(){var e=JSON.parse(JSON.stringify(this.timeContent));this.renderGraph(e)},renderGraph:function(e){var t=e.length,a=0,i=[],n=[],s=[];while(a<t){var r=e[a],o=0;if(a-7>0)for(var l=8;l>0;l-=1)o+=parseInt(e[a-l]["value"]);s.push((o/7).toFixed(3)),i.push(r["name"]),n.push(r["value"]),a+=1}this.barChart.series[0].data=n,this.barChart.series[1].data=s,this.barChart.xAxis.data=i,null===this.my_chart||this.my_chart.dispose(),this.my_chart=L["b"](document.getElementById(this.timeName)),this.my_chart.setOption(this.barChart,!0)},changeMarkerAndRender:function(e,t){e===t?t<this.max_range?(this.barChart.series[0].markArea.data[0][0].xAxis=e,this.barChart.series[0].markArea.data[0][1].xAxis=t+1):(this.barChart.series[0].markArea.data[0][0].xAxis=e-1,this.barChart.series[0].markArea.data[0][1].xAxis=t):(this.barChart.series[0].markArea.data[0][0].xAxis=e,this.barChart.series[0].markArea.data[0][1].xAxis=t);var a=this.timeContent.length,i=0;this.num_sequences=0;while(i<a)i>=e&&i<=t&&(this.num_sequences=this.num_sequences+this.timeContent[i].value),i+=1;"target"===this.type?this.setNumSequencesQueryFreeTarget(this.num_sequences):"background"===this.type&&this.setNumSequencesQueryFreeBackground(this.num_sequences),this.renderGraphFilterDate()},translateIndexToDate:function(e){if(this.timeContent[e])return this.timeContent[e].name},translateDateToIndex:function(e){var t=this.timeContent.findIndex((function(t){return t.name===e}));return t},loadData:function(){var e,t=this,a="/analyze/analyzeTimeDistributionCountryLineage";this.overlay=!0,"target"===this.type?(e=JSON.parse(JSON.stringify(this.queryFreeTarget)),e["toExclude"]=this.toExcludeFreeTarget):"background"===this.type&&(e=JSON.parse(JSON.stringify(this.queryFreeBackground)),e["toExclude"]=this.toExcludeFreeBackground);var i={query:e};s.a.post(a,i).then((function(e){return e.data})).then((function(e){var a,i,n,s=[];0!==e.length&&(i=new Date(e[0]["name"]),n=new Date,n.setDate(n.getDate()+1),a=t.getDaysArray(i,n),a.forEach((function(t){var a=e.findIndex((function(e){return e["name"]===t}));if(-1===a){var i={name:t,value:0};s.push(i)}else{var n={name:t,value:e[a]["value"]};s.push(n)}}))),t.timeContent=s,t.max_range=t.timeContent.length-1;var r=t,o=t.timeContent.findIndex((function(e){return e.name===r.last_start_date}));-1===o&&(o=0);var l=t.timeContent.findIndex((function(e){return e.name===r.last_stop_date}));if(-1===l&&(l=t.max_range),t.slider=[o,l],t.mouseUpSlider(),t.last_start_date=t.translateIndexToDate(t.slider[0]),t.last_stop_date=t.translateIndexToDate(t.slider[1]),t.changeMarkerAndRender(t.slider[0],t.slider[1]),"target"===t.type){var c={start:t.last_start_date,stop:t.last_stop_date};t.setStartAndStopQueryFreeTarget(c)}else if("background"===t.type){var d={start:t.last_start_date,stop:t.last_stop_date};t.setStartAndStopQueryFreeBackground(d)}t.chosenApplied=!0,t.overlay=!1}))}}),watch:{last_start_date:function(){this.wrong_last_start_date=!1;var e=this.translateDateToIndex(this.last_start_date);if(-1===e||e>this.slider[1])this.wrong_last_start_date=!0;else{var t=this.slider[1];this.slider=[e,t],this.mouseUpSlider()}},last_stop_date:function(){this.wrong_last_stop_date=!1;var e=this.translateDateToIndex(this.last_stop_date);if(-1===e||e<this.slider[0])this.wrong_last_stop_date=!0;else{var t=this.slider[0];this.slider=[t,e],this.mouseUpSlider()}},queryFreeTarget:function(){"target"===this.type&&this.loadData()},queryFreeBackground:function(){"background"===this.type&&this.loadData()},toExcludeFreeTarget:function(){"target"===this.type&&this.loadData()},toExcludeFreeBackground:function(){"background"===this.type&&this.loadData()}},mounted:function(){this.loadData()}},pi=gi,fi=(a("17fb"),Object(x["a"])(pi,ui,hi,!1,null,"3db52ebe",null)),vi=fi.exports;b()(fi,{VBtn:S["a"],VCard:C["a"],VCardText:T["b"],VContainer:w["a"],VFlex:k["a"],VIcon:A["a"],VImg:lt["a"],VLayout:D["a"],VOverlay:P["a"],VProgressCircular:M["a"],VRangeSlider:ct["a"],VRow:E["a"],VTextField:V["a"]});var yi={name:"FreeQuery",components:{SelectorQueryToExclude:ha,TimeSelectorQueryFree:vi,SelectorsQueryFree:di},props:{type:{required:!0}},data:function(){return{fieldToExclude:null}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])(["queryFreeTarget","queryFreeBackground"])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])([])),Object(p["b"])([])),{},{computeFieldToExclude:function(){var e;e="target"===this.type?this.queryFreeTarget:this.queryFreeBackground,e["geo_group"]?e["country"]?e["region"]?e["province"]?this.fieldToExclude=null:this.fieldToExclude="province":this.fieldToExclude="region":this.fieldToExclude="country":this.fieldToExclude="geo_group"}}),mounted:function(){this.computeFieldToExclude()},watch:{queryFreeTarget:function(){"target"===this.type&&this.computeFieldToExclude()},queryFreeBackground:function(){"background"===this.type&&this.computeFieldToExclude()}}},mi=yi,xi=Object(x["a"])(mi,ii,ni,!1,null,"b89cc748",null),_i=xi.exports;b()(xi,{VFlex:k["a"],VLayout:D["a"]});var bi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[a("h2",[e._v("SUMMARY")])]),a("v-layout",{staticStyle:{padding:"20px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 md10 lg6 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{staticStyle:{width:"80%",margin:"20px"},attrs:{color:"#457B9D"}},[a("v-card-title",{staticClass:"justify-center",staticStyle:{color:"white"}},[e._v("\n            TARGET\n          ")]),a("v-card-text",[a("v-layout",{staticStyle:{padding:"20px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("h3",{staticStyle:{color:"white"}},[e._v("INFO: ")])]),a("v-card",{staticStyle:{"margin-bottom":"20px",padding:"20px"},attrs:{color:"white",width:"60%"}},e._l(e.arrayQueryFreeTarget,(function(t,i){return a("span",{key:i},[a("b",[e._v("- "+e._s(i)+" :")]),e._v(" "+e._s(t)),a("br")])})),0),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("h3",{staticStyle:{color:"white"}},[e._v("NUM SEQUENCES: ")])]),a("v-flex",{staticClass:"no-horizontal-padding xs6 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{value:e.numSequencesQueryFreeTarget,solo:"",readonly:"","hide-details":""}})],1)],1)],1)],1)],1),a("v-flex",{staticClass:"no-horizontal-padding xs12 md10 lg6 d-flex",staticStyle:{"justify-content":"center"}},[a("v-card",{staticStyle:{width:"80%",margin:"20px"},attrs:{color:"#1D3557"}},[a("v-card-title",{staticClass:"justify-center",staticStyle:{color:"white"}},[e._v("\n            BACKGROUND\n          ")]),a("v-card-text",[a("v-layout",{staticStyle:{padding:"20px"},attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("h3",{staticStyle:{color:"white"}},[e._v("INFO: ")])]),a("v-card",{staticStyle:{"margin-bottom":"20px",padding:"20px"},attrs:{color:"white",width:"60%"}},e._l(e.arrayQueryFreeBackground,(function(t,i){return a("span",{key:i},[a("b",[e._v("- "+e._s(i)+" :")]),e._v(" "+e._s(t)),a("br")])})),0),a("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("h3",{staticStyle:{color:"white"}},[e._v("NUM SEQUENCES: ")])]),a("v-flex",{staticClass:"no-horizontal-padding xs6 d-flex",staticStyle:{"justify-content":"center",padding:"0"}},[a("v-text-field",{staticClass:"centered-input",attrs:{value:e.numSequencesQueryFreeBackground,solo:"",readonly:"","hide-details":""}})],1)],1)],1)],1)],1)],1)],1)],1)},Si=[],Ci={name:"FreeQuerySummaryPanel",data:function(){return{}},computed:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["e"])(["queryFreeTarget","queryFreeBackground","numSequencesQueryFreeBackground","numSequencesQueryFreeTarget","startDateQueryFreeTarget","stopDateQueryFreeTarget","startDateQueryFreeBackground","stopDateQueryFreeBackground","toExcludeFreeTarget","toExcludeFreeBackground"])),Object(p["c"])({})),{},{arrayQueryFreeTarget:function(){for(var e=this,t={},a=["accession_id","lineage","geo_group","country","region","province"],i=0;i<a.length;i+=1){var n=a[i],s=void 0;s="geo_group"===n?"continent":n,this.queryFreeTarget[n]&&(t[s]=this.queryFreeTarget[n])}if(Object.keys(this.toExcludeFreeTarget).length>0){var r="";Object.keys(this.toExcludeFreeTarget).forEach((function(t){r+="( "+t+" : ";for(var a=0;a<e.toExcludeFreeTarget[t].length;a+=1)r+=e.toExcludeFreeTarget[t][a],a<e.toExcludeFreeTarget[t].length-1&&(r+=" , ");r+=" )"})),t["excluded"]=r}return this.startDateQueryFreeTarget&&(t["start date"]=this.startDateQueryFreeTarget),this.stopDateQueryFreeTarget&&(t["stop date"]=this.stopDateQueryFreeTarget),t},arrayQueryFreeBackground:function(){for(var e=this,t={},a=["accession_id","lineage","geo_group","country","region","province"],i=0;i<a.length;i+=1){var n=a[i],s=void 0;s="geo_group"===n?"continent":n,this.queryFreeBackground[n]&&(t[s]=this.queryFreeBackground[n])}if(Object.keys(this.toExcludeFreeBackground).length>0){var r="";Object.keys(this.toExcludeFreeBackground).forEach((function(t){r+="( "+t+" : ";for(var a=0;a<e.toExcludeFreeBackground[t].length;a+=1)r+=e.toExcludeFreeBackground[t][a],a<e.toExcludeFreeBackground[t].length-1&&(r+=" , ");r+=" )"})),t["excluded"]=r}return this.startDateQueryFreeBackground&&(t["start date"]=this.startDateQueryFreeBackground),this.stopDateQueryFreeBackground&&(t["stop date"]=this.stopDateQueryFreeBackground),t}}),methods:Object(g["a"])(Object(g["a"])({},Object(p["d"])([])),Object(p["b"])([]))},Ti=Ci,wi=(a("5f55"),Object(x["a"])(Ti,bi,Si,!1,null,"60915b41",null)),Fi=wi.exports;b()(wi,{VCard:C["a"],VCardText:T["b"],VCardTitle:T["c"],VFlex:k["a"],VLayout:D["a"],VRow:E["a"],VTextField:V["a"]});var ki={name:"FreeTargetVsBackground",components:{ImportantMutation:Ta,PValueBarChart:Mt,FreeQuerySummaryPanel:Fi,FreeQuery:_i},data:function(){return{selectedTabFreeQuery:0,errorNumSeqFreeQuery:!1,min_num_seq_target:50,min_num_seq_background:50,min_num_seq_target_acc_ids:50,min_num_seq_background_acc_ids:50,selectedTabTargetFreeQuery:0,selectedTabBackgroundFreeQuery:0,num_overlapping_sequences:0,selectedProtein:[],possibleProtein:[],selectRemoveOverlapping:"Background",possibleRemoveOverlapping:["Background","Target","Both"],overlay:!1,tableApplied:!1,headerTable:[],rowsTable:[],fixedRowsTable:[],sortByTable:["odd_ratio"],sortDescTable:[!0],pValueName:[],pValueContent:[],pValueBarChartApplied:!1,p_value_lower:"<0.00001",selectedProteinForPValue:null,possibleProteinForPValue:[],selectedProteinForTable:null,possibleProteinForTable:[],selectedMinBackgroundFrequency:0,selectedMaxBackgroundFrequency:100,selectedMinTargetFrequency:0,selectedMaxTargetFrequency:100,selectedMinPValue:0,selectedMaxPValue:1,selectedMinBackgroundNumerator:0,selectedMaxBackgroundNumerator:100,selectedMinTargetNumerator:0,selectedMaxTargetNumerator:100,selectedMinOddsRatio:0,selectedMaxOddsRatio:100,selectedMinPValueBarChart:0,selectedMaxPValueBarChart:1,totalMaxTargetNumerator:0,totalMaxBackgroundNumerator:0,totalMaxOddsRatio:0,isInfinite:!0,listAccessionIds:[],dialogAccessionIds:!1,startStopProtein:{},selectedDomainForPValue:[],possibleDomainForPValue:[],begin_value_domain:[],end_value_domain:[],selectedDomainForPValueMutagenesis:[],possibleDomainForPValueMutagenesis:[],begin_value_domain_mutagenesis:[],end_value_domain_mutagenesis:[],selectedAllAaModifications:!1,selectedDomainForPValueAaModificationsFake:[],selectedDomainForPValueAaModifications:[],possibleDomainForPValueAaModifications:[],begin_value_domain_aa_modifications:[],end_value_domain_aa_modifications:[],possibleDomainForPValueUploaded:[],selectedDomainForPValueUploaded:[],selectedHeatmapMode:"% Target",possibleHeatmapMode:["% Target","% Target - % Background","Odds ratio"],selectedMinPercentageMutationPValue:0,selectedMaxPercentageMutationPValue:80,selectedTabTable:0,importantMutationECDC:{},importantMutation75Percentage:{},importantMutation:{},selectedTypeImportantMutation:"ECDC",possibleTypeImportantMutation:["ECDC","Present in 75% of the lineage (worldwide)"],fileDomainCSV:null,nameFileDomainCSV:null,accessionIdsTargetOrBackground:null,accessionIdsSingleMutation:null,listAccIdsTarget:[],listAccIdsBackground:[],fileAccIdsTarget:null,nameFileAccIdsTarget:null,listAccIdsTargetFile:[],fileAccIdsBackground:null,nameFileAccIdsBackground:null,listAccIdsBackgroundFile:[],accession_id_target:null,accession_id_background:null,listAccIdsTargetInserted:[],listAccIdsBackgroundInserted:[],dialogAccIdsTargetInserted:!1,dialogAccIdsBackgroundInserted:!1}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])(["queryFreeTarget","queryFreeBackground","numSequencesQueryFreeTarget","numSequencesQueryFreeBackground","all_protein","startDateQueryFreeTarget","stopDateQueryFreeTarget","startDateQueryFreeBackground","stopDateQueryFreeBackground","toExcludeFreeTarget","toExcludeFreeBackground","colorPValueInfoBox","color_1","color_2","color_3","startAndStopQueryFreeTarget","startAndStopQueryFreeBackground"])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])(["setStartDateQueryFreeTarget","setStartDateQueryFreeBackground","setStopDateQueryFreeTarget","setStopDateQueryFreeBackground","setNumSequencesQueryFreeTarget","setNumSequencesQueryFreeBackground","setStartAndStopQueryFreeBackground","setStartAndStopQueryFreeTarget"])),Object(p["b"])(["setQueryFreeTarget","setQueryFreeBackground","setToExcludeFreeTarget","setToExcludeFreeBackground"])),{},{deleteAllAccIdsTargetInserted:function(){this.listAccIdsTargetInserted=[],this.dialogAccIdsTargetInserted=!1},deleteAllAccIdsBackgroundInserted:function(){this.listAccIdsBackgroundInserted=[],this.dialogAccIdsBackgroundInserted=!1},deleteAccIdsTargetInserted:function(e){var t=JSON.parse(JSON.stringify(this.listAccIdsTargetInserted));t.splice(e,1),this.listAccIdsTargetInserted=t},deleteAccIdsBackgroundInserted:function(e){var t=JSON.parse(JSON.stringify(this.listAccIdsBackgroundInserted));t.splice(e,1),this.listAccIdsBackgroundInserted=t},addAccessionIdTarget:function(){for(var e=this,t=this.accession_id_target.split(/(?:,|;|\t|\n| )+/),a=function(a){if(null!==t[a]&&""!==t[a]){var i="/analyze/checkAccessionId",n={accession_id:t[a]};s.a.post(i,n).then((function(e){return e.data})).then((function(i){!0!==i||e.listAccIdsTargetInserted.includes(t[a])||e.listAccIdsTargetInserted.push(t[a])}))}},i=0;i<t.length;i+=1)a(i);this.accession_id_target=null},addAccessionIdBackground:function(){for(var e=this,t=this.accession_id_background.split(/(?:,|;|\t|\n| )+/),a=function(a){if(null!==t[a]&&""!==t[a]){var i="/analyze/checkAccessionId",n={accession_id:t[a]};s.a.post(i,n).then((function(e){return e.data})).then((function(i){!0!==i||e.listAccIdsBackgroundInserted.includes(t[a])||e.listAccIdsBackgroundInserted.push(t[a])}))}},i=0;i<t.length;i+=1)a(i);this.accession_id_background=null},downloadExampleListAccessionIds:function(e){var t;t="target"===e?"EPI_ISL_3039500;  EPI_ISL_3039501;  EPI_ISL_3039502;  EPI_ISL_3039503;  EPI_ISL_3039504;   EPI_ISL_3039505; EPI_ISL_3039506; EPI_ISL_3039507; EPI_ISL_3039508; EPI_ISL_3039509; EPI_ISL_3039510; EPI_ISL_3039511; EPI_ISL_3039512; EPI_ISL_3039513; EPI_ISL_3039514; EPI_ISL_3039515; EPI_ISL_3039516; EPI_ISL_3039517; EPI_ISL_3039518; EPI_ISL_3039519; EPI_ISL_3039520; EPI_ISL_3039521; EPI_ISL_3039522; EPI_ISL_3039523; EPI_ISL_3039524; EPI_ISL_3039525; EPI_ISL_3039526; EPI_ISL_3039527; EPI_ISL_3039528; EPI_ISL_3039529; EPI_ISL_3039530; EPI_ISL_3039531; EPI_ISL_3039532; EPI_ISL_3039533; EPI_ISL_3039534; EPI_ISL_3039535; EPI_ISL_3039536; EPI_ISL_3039537; EPI_ISL_3039538; EPI_ISL_3039539; EPI_ISL_3039540; EPI_ISL_3039541; EPI_ISL_3039542; EPI_ISL_3039543; EPI_ISL_3039544; EPI_ISL_3039545; EPI_ISL_3039546; EPI_ISL_3039547; EPI_ISL_3039548; EPI_ISL_3039549;":"EPI_ISL_3039300;  EPI_ISL_3039301;  EPI_ISL_3039302;  EPI_ISL_3039303;  EPI_ISL_3039304;   EPI_ISL_3039305; EPI_ISL_3039306; EPI_ISL_3039307; EPI_ISL_3039308; EPI_ISL_3039309; EPI_ISL_3039310; EPI_ISL_3039311; EPI_ISL_3039312; EPI_ISL_3039313; EPI_ISL_3039314; EPI_ISL_3039315; EPI_ISL_3039316; EPI_ISL_3039317; EPI_ISL_3039318; EPI_ISL_3039319; EPI_ISL_3039320; EPI_ISL_3039321; EPI_ISL_3039322; EPI_ISL_3039323; EPI_ISL_3039324; EPI_ISL_3039325; EPI_ISL_3039326; EPI_ISL_3039327; EPI_ISL_3039328; EPI_ISL_3039329; EPI_ISL_3039330; EPI_ISL_3039331; EPI_ISL_3039332; EPI_ISL_3039333; EPI_ISL_3039334; EPI_ISL_3039335; EPI_ISL_3039336; EPI_ISL_3039337; EPI_ISL_3039338; EPI_ISL_3039339; EPI_ISL_3039340; EPI_ISL_3039341; EPI_ISL_3039342; EPI_ISL_3039343; EPI_ISL_3039344; EPI_ISL_3039345; EPI_ISL_3039346; EPI_ISL_3039347; EPI_ISL_3039348; EPI_ISL_3039349; EPI_ISL_3039350;";var a="exampleListAccessionIds.txt",i=document.createElement("a");i.setAttribute("download",a);var n=new Blob([t]);i.href=URL.createObjectURL(n),document.body.appendChild(i),i.click(),document.body.removeChild(i)},loadAccIdsTarget:function(){var e=new FileReader,t=document.getElementById("inputAccIdsTarget").files[0];this.nameFileAccIdsTarget=t.name;var a=this;e.onload=function(){var t=e.result.replaceAll(" ","").split(/(?:,|;|\t|\n| )+/),i=[];console.log("quiqui",t);for(var n=function(e){if(null!==t[e]&&void 0!==t[e]){var n="/analyze/checkAccessionId",r={accession_id:t[e]};s.a.post(n,r).then((function(e){return e.data})).then((function(n){!0===n&&i.push(t[e]),e===t.length-1&&(a.fileAccIdsTarget=i)}))}},r=0;r<t.length;r+=1)n(r)},e.readAsText(t)},deleteAccIdsTarget:function(){this.fileAccIdsTarget=null,this.nameFileAccIdsTarget=null,this.listAccIdsTargetFile=[]},loadAccIdsBackground:function(){var e=new FileReader,t=document.getElementById("inputAccIdsBackground").files[0];this.nameFileAccIdsBackground=t.name;var a=this;e.onload=function(){for(var t=e.result.replaceAll(" ","").split(/(?:,|;|\t|\n| )+/),i=[],n=function(e){if(null!==t[e]&&void 0!==t[e]){var n="/analyze/checkAccessionId",r={accession_id:t[e]};s.a.post(n,r).then((function(e){return e.data})).then((function(n){!0===n&&i.push(t[e]),e===t.length-1&&(a.fileAccIdsBackground=i)}))}},r=0;r<t.length;r+=1)n(r)},e.readAsText(t)},deleteAccIdsBackground:function(){this.fileAccIdsBackground=null,this.nameFileAccIdsBackground=null,this.listAccIdsBackgroundFile=[]},loadDomainCSV:function(){this.fileDomainCSV=null,this.nameFileDomainCSV=null,this.selectedDomainForPValueUploaded=[],this.possibleDomainForPValueUploaded=[];var e=new FileReader,t=document.getElementById("inputDomainCSVFree").files[0];this.nameFileDomainCSV=t.name;var a=this;e.onload=function(){var t=e.result.replaceAll('"',""),i=a.CSVToJson(t);localStorage.setItem("uploadedDomainsFree",i),localStorage.setItem("uploadedFileNameFree",a.nameFileDomainCSV),a.calculateUploadedDomains()},e.readAsText(t)},CSVToJson:function(e){for(var t=e.split("\r\n"),a=[],i=t[0].split(","),n=1;n<t.length;n++){for(var s={},r=t[n].split(","),o=0;o<i.length;o++)"Begin"===i[o]||"End"===i[o]?s[i[o]]=parseInt(r[o]):s[i[o]]=r[o];a.push(s)}return JSON.stringify(a)},deleteDomainCSV:function(){this.fileDomainCSV=null,this.nameFileDomainCSV=null,this.selectedDomainForPValueUploaded=[],this.possibleDomainForPValueUploaded=[],localStorage.setItem("uploadedDomainsFree",JSON.stringify([])),localStorage.setItem("uploadedFileNameFree",null),this.calculateUploadedDomains()},calculateUploadedDomains:function(){var e=localStorage.getItem("uploadedFileNameFree");null===e||"null"===e?(this.fileDomainCSV=null,this.nameFileDomainCSV=null):(this.fileDomainCSV=JSON.parse(localStorage.getItem("uploadedDomainsFree")),this.nameFileDomainCSV=localStorage.getItem("uploadedFileNameFree"),this.pValueBarChartApplied&&this.calculatePossibleAndSelectedUploadedDomain())},calculatePossibleAndSelectedUploadedDomain:function(){var e=this;this.possibleDomainForPValueUploaded=this.fileDomainCSV.filter((function(t){return t["Protein"]===e.selectedProteinForPValue}));for(var t=0;t<this.possibleDomainForPValueUploaded.length;t+=1){var a=this.possibleDomainForPValueUploaded[t]["Description"]+" / ("+this.possibleDomainForPValueUploaded[t]["Begin"]+" , "+this.possibleDomainForPValueUploaded[t]["End"]+")";this.selectedDomainForPValueUploaded.push(a)}},downloadExampleCSV:function(){var e="",t=[{Protein:"Spike",Description:"Receptor-binding Domain (RBD)",Begin:319,End:541},{Protein:"Spike",Description:"Receptor-binding Motif (RBM)",Begin:438,End:506},{Protein:"M",Description:"Whole protein",Begin:1,End:222},{Protein:"E",Description:"Whole protein",Begin:1,End:75},{Protein:"N",Description:"Whole protein",Begin:1,End:419},{Protein:"ORF10",Description:"Whole protein",Begin:1,End:38},{Protein:"NSP16",Description:"Whole protein",Begin:1,End:298},{Protein:"NSP3",Description:"Whole protein",Begin:1,End:1945},{Protein:"NSP4",Description:"Whole protein",Begin:1,End:500},{Protein:"NSP15",Description:"Whole protein",Begin:1,End:346},{Protein:"NSP5",Description:"Whole protein",Begin:1,End:306},{Protein:"NSP14",Description:"Whole protein",Begin:1,End:527},{Protein:"NSP11",Description:"Whole protein",Begin:1,End:13},{Protein:"NSP13",Description:"Whole protein",Begin:1,End:601},{Protein:"NSP6",Description:"Whole protein",Begin:1,End:290},{Protein:"NSP7",Description:"Whole protein",Begin:1,End:84},{Protein:"NSP8",Description:"Whole protein",Begin:1,End:198},{Protein:"NSP9",Description:"Whole protein",Begin:1,End:113},{Protein:"NSP12",Description:"Whole protein",Begin:1,End:932},{Protein:"ORF1ab",Description:"Whole protein",Begin:1,End:7096},{Protein:"NSP10",Description:"Whole protein",Begin:1,End:138},{Protein:"NSP1",Description:"Whole protein",Begin:1,End:180},{Protein:"ORF1a",Description:"Whole protein",Begin:1,End:4405},{Protein:"NSP2",Description:"Whole protein",Begin:1,End:638},{Protein:"NS3",Description:"Whole protein",Begin:1,End:275},{Protein:"NS6",Description:"Whole protein",Begin:1,End:61},{Protein:"NS7a",Description:"Whole protein",Begin:1,End:121},{Protein:"NS7b",Description:"Whole protein",Begin:1,End:43},{Protein:"NS8",Description:"Whole protein",Begin:1,End:121}],a=[{text:"Protein",value:"Protein"},{text:"Description",value:"Description"},{text:"Begin",value:"Begin"},{text:"End",value:"End"}];e=this.json2csvDomains(t,a);var i="exampleDomain.csv",n=document.createElement("a");n.setAttribute("download",i);var s=new Blob([e]);n.href=URL.createObjectURL(s),document.body.appendChild(n),n.click(),document.body.removeChild(n)},getFieldTextDomain:function(e){return"".concat(e["Description"])+" / ("+"".concat(e["Begin"])+" , "+"".concat(e["End"])+")"},filter:function(){for(var e=this,t=[],a=0;a<this.rowsTable.length;a+=1){var i=JSON.parse(JSON.stringify(this.fixedRowsTable[a]));if(null!==this.selectedProteinForTable)(function(){var t=e;i=i.filter((function(e){var a=JSON.parse(JSON.stringify(e["percentage_background"])),i=JSON.parse(JSON.stringify(e["percentage_target"])),n=JSON.parse(JSON.stringify(e["p_value"])),s=JSON.parse(JSON.stringify(e["numerator_background"])),r=JSON.parse(JSON.stringify(e["numerator_target"])),o=JSON.parse(JSON.stringify(e["odd_ratio"])),l=JSON.parse(JSON.stringify(e["product"]));return a>=t.selectedMinBackgroundFrequency&&a<=t.selectedMaxBackgroundFrequency&&i>=t.selectedMinTargetFrequency&&i<=t.selectedMaxTargetFrequency&&n>=t.selectedMinPValue&&n<=t.selectedMaxPValue&&s>=t.selectedMinBackgroundNumerator&&s<=t.selectedMaxBackgroundNumerator&&r>=t.selectedMinTargetNumerator&&r<=t.selectedMaxTargetNumerator&&(o>=t.selectedMinOddsRatio&&o<=t.selectedMaxOddsRatio||t.isInfinite&&o>t.totalMaxOddsRatio)&&l===t.selectedProteinForTable}))})();else{var n=this;i=i.filter((function(e){var t=JSON.parse(JSON.stringify(e["percentage_background"])),a=JSON.parse(JSON.stringify(e["percentage_target"])),i=JSON.parse(JSON.stringify(e["p_value"])),s=JSON.parse(JSON.stringify(e["numerator_background"])),r=JSON.parse(JSON.stringify(e["numerator_target"])),o=JSON.parse(JSON.stringify(e["odd_ratio"]));return t>=n.selectedMinBackgroundFrequency&&t<=n.selectedMaxBackgroundFrequency&&a>=n.selectedMinTargetFrequency&&a<=n.selectedMaxTargetFrequency&&i>=n.selectedMinPValue&&i<=n.selectedMaxPValue&&s>=n.selectedMinBackgroundNumerator&&s<=n.selectedMaxBackgroundNumerator&&r>=n.selectedMinTargetNumerator&&r<=n.selectedMaxTargetNumerator&&(o>=n.selectedMinOddsRatio&&o<=n.selectedMaxOddsRatio||n.isInfinite&&o>n.totalMaxOddsRatio)}))}t[a]=i}this.rowsTable=t},boldTabs:function(){var e=0;while(e<3){var t="tab"+e;if(e===this.selectedTabAnalyze){var a=document.getElementById(t);a.style["font-weight"]="bold"}else{var i=document.getElementById(t);i.style["font-weight"]="normal"}e+=1}},downloadTable:function(e,t){var a="",i=this.sortResults(e,t);"table"===e&&(a=this.json2csv(i,this.headerTable));var n="open_analysis_table_(";0===this.listAccIdsTarget.length?(this.queryFreeTarget["lineage"]&&(n+=this.queryFreeTarget["lineage"]+"_"),this.queryFreeTarget["geo_group"]?this.queryFreeTarget["country"]?this.queryFreeTarget["region"]?this.queryFreeTarget["province"]?this.queryFreeTarget["province"].length>2?n+=this.queryFreeTarget["province"][0]+"_etc":n+=this.queryFreeTarget["province"]:this.queryFreeTarget["region"].length>2?n+=this.queryFreeTarget["region"][0]+"_etc":n+=this.queryFreeTarget["region"]:this.queryFreeTarget["country"].length>2?n+=this.queryFreeTarget["country"][0]+"_etc":n+=this.queryFreeTarget["country"]:this.queryFreeTarget["geo_group"].length>2?n+=this.queryFreeTarget["geo_group"][0]+"_etc":n+=this.queryFreeTarget["geo_group"]:n+="World",n+="_"+this.startDateQueryFreeTarget+"_"+this.stopDateQueryFreeTarget):(this.listAccIdsTargetFile.length>0&&(n+=this.nameFileAccIdsTarget.split(".txt")[0]),this.listAccIdsTargetInserted.length>0&&(this.listAccIdsTargetFile.length>0&&(n+="_"),n+="userSelectedIds")),n+=")_vs_(",0===this.listAccIdsBackground.length?(this.queryFreeBackground["lineage"]&&(n+=this.queryFreeBackground["lineage"]+"_"),this.queryFreeBackground["geo_group"]?this.queryFreeBackground["country"]?this.queryFreeBackground["region"]?this.queryFreeBackground["province"]?this.queryFreeBackground["province"].length>2?n+=this.queryFreeBackground["province"][0]+"_etc":n+=this.queryFreeBackground["province"]:this.queryFreeBackground["region"].length>2?n+=this.queryFreeBackground["region"][0]+"_etc":n+=this.queryFreeBackground["region"]:this.queryFreeBackground["country"].length>2?n+=this.queryFreeBackground["country"][0]+"_etc":n+=this.queryFreeBackground["country"]:this.queryFreeBackground["geo_group"].length>2?n+=this.queryFreeBackground["geo_group"][0]+"_etc":n+=this.queryFreeBackground["geo_group"]:n+="World",n+="_"+this.startDateQueryFreeBackground+"_"+this.stopDateQueryFreeBackground):(this.listAccIdsBackgroundFile.length>0&&(n+=this.nameFileAccIdsBackground.split(".txt")[0]),this.listAccIdsBackgroundInserted.length>0&&(this.listAccIdsBackgroundFile.length>0&&(n+="_"),n+="userSelectedIds")),n+=")",n+=".csv";var s=document.createElement("a");s.setAttribute("download",n);var r=new Blob([a]);s.href=URL.createObjectURL(r),document.body.appendChild(s),s.click(),document.body.removeChild(s)},json2csvDomains:function(e,t){var a=e,i=[],n=[];t.forEach((function(e){i.push(e.text)})),t.forEach((function(e){n.push(e.value)}));var s=a.map((function(e){return n.map((function(t){var a;return"mutation_position"===t?(a=e["mutation"],("string"===typeof a||a instanceof String)&&(a=a.replaceAll("\n"," "))):(a=e[t],("string"===typeof a||a instanceof String)&&(a=a.replaceAll("\n"," "))),a})).join(",")}));return s.unshift(i.join(",")),s.join("\r\n")},json2csv:function(e,t){var a=e,i=[],n=[];t.forEach((function(e){i.push(e.text)})),t.forEach((function(e){n.push(e.value)}));var s=a.map((function(e){return n.map((function(t){var a;return"mutation_position"===t?(a=String(e["mutation"]),a=a.replaceAll("\n"," ")):(a=String(e[t]),a=a.replaceAll("\n"," ")),JSON.stringify(a)})).join(",")}));return s.unshift(i.join(",")),s.join("\r\n")},sortResults:function(e,t){var a,i,n,s;return"table"===e&&(a=this.sortByTable.length,i=this.sortByTable,n=this.sortDescTable,s=JSON.parse(JSON.stringify(t))),a>0?s.sort((function(e,t){var a=0,s=e[i[a]],r=t[i[a]];return!1===n[a]?s>r?1:-1:s<r?1:-1})):s},applyFilterOnTable:function(){this.filter()},applyFreeQueryAnalysis:function(){var e=this,t="/analyze/analyzeMutationTargetBackgroundFree";this.overlay=!0,this.importantMutation={},this.importantMutationECDC={};var a=JSON.parse(JSON.stringify(this.queryFreeTarget)),i="/analyze/getImportantMutation",n=null;a["lineage"]&&(n=a["lineage"]);var r={lineage:n};s.a.post(i,r).then((function(e){return e.data})).then((function(t){e.importantMutationECDC=t,"ECDC"===e.selectedTypeImportantMutation&&(a["lineage"]?e.importantMutation=t:e.importantMutation={mutation:[],additional_mutation:[]})}));var o=[];o=0===this.selectedProtein.length?this.possibleProtein:this.selectedProtein;var l={lineage:n,proteins:o},c="/analyze/getAllImportantMutationPerLineage";s.a.post(c,l).then((function(e){return e.data})).then((function(t){var a={};a["mutation"]=t,a["additional_mutation"]=[],e.importantMutation75Percentage=a,"Present in 75% of the lineage (worldwide)"===e.selectedTypeImportantMutation&&(e.importantMutation=a)}));var d=[];this.possibleProteinForPValue=[],this.headerTable=[],this.rowsTable=[],this.fixedRowsTable=[],d=null===this.selectedProtein?[]:this.selectedProtein;var u=JSON.parse(JSON.stringify(this.queryFreeTarget)),h=JSON.parse(JSON.stringify(this.queryFreeBackground));null!==this.startDateQueryFreeTarget&&(u["minDate"]=this.startDateQueryFreeTarget),null!==this.stopDateQueryFreeTarget&&(u["maxDate"]=this.stopDateQueryFreeTarget),null!==this.startDateQueryFreeBackground&&(h["minDate"]=this.startDateQueryFreeBackground),null!==this.stopDateQueryFreeBackground&&(h["maxDate"]=this.stopDateQueryFreeBackground),h["toExclude"]=this.toExcludeFreeBackground,u["toExclude"]=this.toExcludeFreeTarget;var g={query_target:u,query_background:h,protein:d,removeOverlapping:this.selectRemoveOverlapping};s.a.post(t,g).then((function(e){return e.data})).then((function(t){var a=[{text:"mutation",value:"mutation_position",show:!0,align:"center",width:"23vh"},{text:"p_value",value:"p_value",show:!0,align:"center",width:"23vh"},{text:"odds_ratio",value:"odd_ratio",show:!0,align:"center",width:"23vh"},{text:"%_target",value:"percentage_target",show:!0,align:"center",width:"23vh"},{text:"%_background",value:"percentage_background",show:!0,align:"center",width:"23vh"}];e.headerTable=a,e.rowsTable[0]=t,e.fixedRowsTable[0]=t;var i=JSON.parse(JSON.stringify(e.rowsTable[0]));e.possibleProteinForPValue=Object(wt["a"])(new Set(i.map((function(e){return e.product})))),e.possibleProteinForTable=Object(wt["a"])(new Set(i.map((function(e){return e.product}))));var n=JSON.parse(JSON.stringify(e.rowsTable[0])),s=Math.max.apply(Math,n.map((function(e){return e["denominator_target"]})));s<0?(e.totalMaxTargetNumerator=0,e.selectedMaxTargetNumerator=0):(e.totalMaxTargetNumerator=s,e.selectedMaxTargetNumerator=s);var r=Math.max.apply(Math,n.map((function(e){return e["denominator_background"]})));r<0?(e.totalMaxBackgroundNumerator=0,e.selectedMaxBackgroundNumerator=0):(e.totalMaxBackgroundNumerator=r,e.selectedMaxBackgroundNumerator=r);var o=JSON.parse(JSON.stringify(e.rowsTable[0]));o=o.filter((function(e){var t=e["percentage_background"];return 0!==t}));var l=Math.ceil(Math.max.apply(Math,o.map((function(e){return e["odd_ratio"]}))));l>e.totalMaxOddsRatio&&(e.totalMaxOddsRatio=l,e.selectedMaxOddsRatio=l),e.tableApplied=!0,e.overlay=!1}))},applyFilterPValueChart:function(){var e=this;this.selectedDomainForPValue=[],this.pValueBarChartApplied=!1,this.selectedDomainForPValueMutagenesis=[],this.selectedDomainForPValueAaModifications=[],this.selectedDomainForPValueUploaded=[],this.possibleDomainForPValueUploaded=[],this.selectedAllAaModifications=!1,this.pValueContent=[],this.pValueName=[];for(var t=function(t){var a=JSON.parse(JSON.stringify(e.fixedRowsTable[t]));i=e,a=a.filter((function(e){var t=JSON.parse(JSON.stringify(e["p_value"])),a=JSON.parse(JSON.stringify(e["product"])),n=JSON.parse(JSON.stringify(e["percentage_target"]));return t>=i.selectedMinPValueBarChart&&t<=i.selectedMaxPValueBarChart&&n<=i.selectedMaxPercentageMutationPValue&&n>=i.selectedMinPercentageMutationPValue&&i.selectedProteinForPValue===a}));var n=[];a.forEach((function(e){var t=e["mutation"],a=e["mutation_position"],i=n.findIndex((function(e){return e["name"]===t}));if(-1===i){var s={name:t,value:e["numerator_target"],position:a,p_value:e["p_value"],odds_ratio:e["odd_ratio"]};n.push(s)}else n[i]["value"]=n[i]["value"]+e["numerator_target"]})),n=n.sort((function(e,t){var a=e["position"],i=t["position"];return a>i?1:-1})),e.pValueContent[t]=n,e.pValueName[t]="p_value_free"+t},a=0;a<this.rowsTable.length;a+=1){var i;t(a)}var n="/analyze/getProteinPosition",r={protein:this.selectedProteinForPValue};s.a.post(n,r).then((function(e){return e.data})).then((function(t){e.startStopProtein=t;var a="/analyze/getDomains",i={protein:e.selectedProteinForPValue};s.a.post(a,i).then((function(e){return e.data})).then((function(t){if(e.possibleDomainForPValue=t["sites_and_domains"].sort((function(e,t){var a=e["Description"].toLowerCase(),i=t["Description"].toLowerCase();return a>i?1:-1})),e.possibleDomainForPValueMutagenesis=t["mutagenesis"].sort((function(e,t){var a=e["Description"].toLowerCase(),i=t["Description"].toLowerCase();return a>i?1:-1})),e.possibleDomainForPValueAaModifications=t["aa_modifications"].sort((function(e,t){e["disabled"]=!0,t["disabled"]=!0;var a=e["Description"].toLowerCase(),i=t["Description"].toLowerCase();return a>i?1:-1})),null!==e.fileDomainCSV){var a=e;e.possibleDomainForPValueUploaded=e.fileDomainCSV.filter((function(e){return e["Protein"]===a.selectedProteinForPValue}));for(var i=0;i<e.possibleDomainForPValueUploaded.length;i+=1){var n=e.possibleDomainForPValueUploaded[i]["Description"]+" / ("+e.possibleDomainForPValueUploaded[i]["Begin"]+" , "+e.possibleDomainForPValueUploaded[i]["End"]+")";e.selectedDomainForPValueUploaded.push(n)}}e.overlay=!1,e.pValueBarChartApplied=!0}))}))},openDialogAccession:function(e,t){var a,i=this,n="/analyze/getAccessionIds";this.overlay=!0,this.listAccessionIds=[],"target"===e?a=JSON.parse(JSON.stringify(this.queryFreeTarget)):"background"===e&&(a=JSON.parse(JSON.stringify(this.queryFreeBackground)));var r="",o="empty";"target"===e?(this.accessionIdsTargetOrBackground=e,this.accessionIdsSingleMutation="("+t["product"]+"_"+t["sequence_aa_original"]+t["start_aa_original"]+t["sequence_aa_alternative"]+")",a["lineage"]=t["lineage_target"],a["start_aa_original"]=t["start_aa_original"],a["sequence_aa_original"]=t["sequence_aa_original"],a["sequence_aa_alternative"]=t["sequence_aa_alternative"],null!==this.startDateQueryFreeTarget&&(a["minDateBackground"]=this.startDateQueryFreeTarget),null!==this.stopDateQueryFreeTarget&&(a["maxDateBackground"]=this.stopDateQueryFreeTarget),"Both"!==this.selectRemoveOverlapping&&"Target"!==this.selectRemoveOverlapping||(o=JSON.parse(JSON.stringify(this.queryFreeBackground))),a["product"]=t["product"]):"background"===e&&(this.accessionIdsTargetOrBackground=e,this.accessionIdsSingleMutation="("+t["product"]+"_"+t["sequence_aa_original"]+t["start_aa_original"]+t["sequence_aa_alternative"]+")",a["lineage"]=t["lineage_background"],a["start_aa_original"]=t["start_aa_original"],a["sequence_aa_original"]=t["sequence_aa_original"],a["sequence_aa_alternative"]=t["sequence_aa_alternative"],null!==this.startDateQueryFreeBackground&&(a["minDateBackground"]=this.startDateQueryFreeBackground),null!==this.stopDateQueryFreeBackground&&(a["maxDateBackground"]=this.stopDateQueryFreeBackground),a["product"]=t["product"],"Both"!==this.selectRemoveOverlapping&&"Background"!==this.selectRemoveOverlapping||(o=JSON.parse(JSON.stringify(this.queryFreeTarget)))),"target"===e?a["toExclude"]=this.toExcludeFreeTarget:"background"===e&&(a["toExclude"]=this.toExcludeFreeBackground);var l={query:a,query_false:r,query_target:o};s.a.post(n,l).then((function(e){return e.data})).then((function(e){i.listAccessionIds=e[0]["acc_ids"],i.overlay=!1,null!==i.listAccessionIds&&i.listAccessionIds.length>0&&(i.dialogAccessionIds=!0)}))},downloadAccessionIds:function(){for(var e="",t=0;t<this.listAccessionIds.length;t+=1)e=e+this.listAccessionIds[t]+";  ";var a="open_analysis_"+this.accessionIdsSingleMutation+"_";"target"===this.accessionIdsTargetOrBackground?0===this.listAccIdsTarget.length?(this.queryFreeTarget["lineage"]&&(a+=this.queryFreeTarget["lineage"]+"_"),this.queryFreeTarget["geo_group"]?this.queryFreeTarget["country"]?this.queryFreeTarget["region"]?this.queryFreeTarget["province"]?this.queryFreeTarget["province"].length>2?a+=this.queryFreeTarget["province"][0]+"_etc":a+=this.queryFreeTarget["province"]:this.queryFreeTarget["region"].length>2?a+=this.queryFreeTarget["region"][0]+"_etc":a+=this.queryFreeTarget["region"]:this.queryFreeTarget["country"].length>2?a+=this.queryFreeTarget["country"][0]+"_etc":a+=this.queryFreeTarget["country"]:this.queryFreeTarget["geo_group"].length>2?a+=this.queryFreeTarget["geo_group"][0]+"_etc":a+=this.queryFreeTarget["geo_group"]:a+="World",a+="_"+this.startDateQueryFreeTarget+"_"+this.stopDateQueryFreeTarget):(this.listAccIdsTargetFile.length>0&&(a+=this.nameFileAccIdsTarget.split(".txt")[0]),this.listAccIdsTargetInserted.length>0&&(this.listAccIdsTargetFile.length>0&&(a+="_"),a+="userSelectedIds")):0===this.listAccIdsBackground.length?(this.queryFreeBackground["lineage"]&&(a+=this.queryFreeBackground["lineage"]+"_"),this.queryFreeBackground["geo_group"]?this.queryFreeBackground["country"]?this.queryFreeBackground["region"]?this.queryFreeBackground["province"]?this.queryFreeBackground["province"].length>2?a+=this.queryFreeBackground["province"][0]+"_etc":a+=this.queryFreeBackground["province"]:this.queryFreeBackground["region"].length>2?a+=this.queryFreeBackground["region"][0]+"_etc":a+=this.queryFreeBackground["region"]:this.queryFreeBackground["country"].length>2?a+=this.queryFreeBackground["country"][0]+"_etc":a+=this.queryFreeBackground["country"]:this.queryFreeBackground["geo_group"].length>2?a+=this.queryFreeBackground["geo_group"][0]+"_etc":a+=this.queryFreeBackground["geo_group"]:a+="World",a+="_"+this.startDateQueryFreeBackground+"_"+this.stopDateQueryFreeBackground):(this.listAccIdsBackgroundFile.length>0&&(a+=this.nameFileAccIdsBackground.split(".txt")[0]),this.listAccIdsBackgroundInserted.length>0&&(this.listAccIdsBackgroundFile.length>0&&(a+="_"),a+="userSelectedIds")),a+=".txt";var i=document.createElement("a");i.setAttribute("download",a);var n=new Blob([e]);i.href=URL.createObjectURL(n),document.body.appendChild(i),i.click(),document.body.removeChild(i)},resetApplied:function(){this.pValueBarChartApplied=!1,this.selectedProteinForPValue=null,this.selectedProteinForTable=null,this.tableApplied=!1},countOverlappingSequenceTargetBackground:function(){var e=this,t="/analyze/countOverlappingSequenceTargetBackground";this.overlay=!0;var a=JSON.parse(JSON.stringify(this.queryFreeTarget)),i=JSON.parse(JSON.stringify(this.queryFreeBackground));null!==this.startDateQueryFreeTarget&&(a["minDate"]=this.startDateQueryFreeTarget),null!==this.stopDateQueryFreeTarget&&(a["maxDate"]=this.stopDateQueryFreeTarget),null!==this.startDateQueryFreeBackground&&(i["minDate"]=this.startDateQueryFreeBackground),null!==this.stopDateQueryFreeBackground&&(i["maxDate"]=this.stopDateQueryFreeBackground),i["toExclude"]=this.toExcludeFreeBackground,a["toExclude"]=this.toExcludeFreeTarget;var n={query_target:a,query_background:i};this.num_overlapping_sequences=0,Object.keys(a).length>1&&Object.keys(i).length>1?s.a.post(t,n).then((function(e){return e.data})).then((function(t){e.num_overlapping_sequences=t[0]["count"],e.overlay=!1})):this.overlay=!1},checkErrorNumSeqFreeQuery:function(){this.errorNumSeqFreeQuery=0===this.selectedTabTargetFreeQuery&&this.numSequencesQueryFreeTarget<this.min_num_seq_target||1===this.selectedTabTargetFreeQuery&&this.numSequencesQueryFreeTarget<this.min_num_seq_target_acc_ids||0===this.selectedTabBackgroundFreeQuery&&this.numSequencesQueryFreeBackground<this.min_num_seq_background||1===this.selectedTabBackgroundFreeQuery&&this.numSequencesQueryFreeBackground<this.min_num_seq_background_acc_ids||"Target"===this.selectRemoveOverlapping&&(0===this.selectedTabTargetFreeQuery&&this.numSequencesQueryFreeTarget-this.num_overlapping_sequences<this.min_num_seq_target||1===this.selectedTabTargetFreeQuery&&this.numSequencesQueryFreeTarget-this.num_overlapping_sequences<this.min_num_seq_target_acc_ids)||"Background"===this.selectRemoveOverlapping&&(0===this.selectedTabBackgroundFreeQuery&&this.numSequencesQueryFreeBackground-this.num_overlapping_sequences<this.min_num_seq_background||1===this.selectedTabBackgroundFreeQuery&&this.numSequencesQueryFreeBackground-this.num_overlapping_sequences<this.min_num_seq_background_acc_ids)||"Both"===this.selectRemoveOverlapping&&(0===this.selectedTabTargetFreeQuery&&this.numSequencesQueryFreeTarget-this.num_overlapping_sequences<this.min_num_seq_target||1===this.selectedTabTargetFreeQuery&&this.numSequencesQueryFreeTarget-this.num_overlapping_sequences<this.min_num_seq_target_acc_ids||0===this.selectedTabBackgroundFreeQuery&&this.numSequencesQueryFreeBackground-this.num_overlapping_sequences<this.min_num_seq_background||1===this.selectedTabBackgroundFreeQuery&&this.numSequencesQueryFreeBackground-this.num_overlapping_sequences<this.min_num_seq_background_acc_ids)}}),watch:{selectedTabTargetFreeQuery:function(){if(1===this.selectedTabTargetFreeQuery){var e="tabTargetFree2",t="tabTargetFree1",a=document.getElementById(e);a.style["color"]="white",a.style["font-weight"]="bold";var i=document.getElementById(t);i.style["color"]="#FFFFFF80",i.style["font-weight"]="normal",this.setQueryFreeTarget({field:"accession_id",list:null}),this.setQueryFreeTarget({field:"lineage",list:null}),this.setQueryFreeTarget({field:"geo_group",list:null}),this.setQueryFreeTarget({field:"country",list:null}),this.setQueryFreeTarget({field:"region",list:null}),this.setQueryFreeTarget({field:"province",list:null});var n={start:null,stop:null};this.setStartAndStopQueryFreeTarget(n),this.setNumSequencesQueryFreeTarget(0),this.setToExcludeFreeTarget({field:"geo_group",list:null}),this.setToExcludeFreeTarget({field:"country",list:null}),this.setToExcludeFreeTarget({field:"region",list:null}),this.setToExcludeFreeTarget({field:"province",list:null})}else{var s="tabTargetFree2",r="tabTargetFree1",o=document.getElementById(s);o.style["color"]="#FFFFFF80",o.style["font-weight"]="normal";var l=document.getElementById(r);l.style["color"]="white",l.style["font-weight"]="bold",this.listAccIdsTarget=[],this.listAccIdsTargetInserted=[],this.nameFileAccIdsTarget=null,this.fileAccIdsTarget=null,this.setQueryFreeTarget({field:"accession_id",list:null})}},selectedTabBackgroundFreeQuery:function(){if(1===this.selectedTabBackgroundFreeQuery){var e="tabBackgroundFree2",t="tabBackgroundFree1",a=document.getElementById(e);a.style["color"]="white",a.style["font-weight"]="bold";var i=document.getElementById(t);i.style["color"]="#FFFFFF80",i.style["font-weight"]="normal",this.setQueryFreeBackground({field:"accession_id",list:null}),this.setQueryFreeBackground({field:"lineage",list:null}),this.setQueryFreeBackground({field:"geo_group",list:null}),this.setQueryFreeBackground({field:"country",list:null}),this.setQueryFreeBackground({field:"region",list:null}),this.setQueryFreeBackground({field:"province",list:null});var n={start:null,stop:null};this.setStartAndStopQueryFreeBackground(n),this.setNumSequencesQueryFreeBackground(0),this.setToExcludeFreeBackground({field:"geo_group",list:null}),this.setToExcludeFreeBackground({field:"country",list:null}),this.setToExcludeFreeBackground({field:"region",list:null}),this.setToExcludeFreeBackground({field:"province",list:null})}else{var s="tabBackgroundFree2",r="tabBackgroundFree1",o=document.getElementById(s);o.style["color"]="#FFFFFF80",o.style["font-weight"]="normal";var l=document.getElementById(r);l.style["color"]="white",l.style["font-weight"]="bold",this.listAccIdsBackground=[],this.listAccIdsBackgroundInserted=[],this.nameFileAccIdsBackground=null,this.fileAccIdsBackground=null,this.setQueryFreeBackground({field:"accession_id",list:null})}},listAccIdsTargetInserted:function(){this.listAccIdsTarget=[];var e=[];this.setQueryFreeTarget({field:"accession_id",list:null}),this.setQueryFreeTarget({field:"lineage",list:null}),this.setQueryFreeTarget({field:"geo_group",list:null}),this.setQueryFreeTarget({field:"country",list:null}),this.setQueryFreeTarget({field:"region",list:null}),this.setQueryFreeTarget({field:"province",list:null});var t={start:null,stop:null};if(this.setStartAndStopQueryFreeTarget(t),this.listAccIdsTargetFile.length>0){e=JSON.parse(JSON.stringify(this.listAccIdsTargetFile));for(var a=0;a<this.listAccIdsTargetInserted.length;a+=1)e.includes(this.listAccIdsTargetInserted[a])||e.push(this.listAccIdsTargetInserted[a])}else e=JSON.parse(JSON.stringify(this.listAccIdsTargetInserted));this.listAccIdsTarget=e,0===e.length?this.setQueryFreeTarget({field:"accession_id",list:null}):this.setQueryFreeTarget({field:"accession_id",list:e}),this.setNumSequencesQueryFreeTarget(e.length),this.checkErrorNumSeqFreeQuery()},listAccIdsBackgroundInserted:function(){this.listAccIdsBackground=[];var e=[];this.setQueryFreeBackground({field:"accession_id",list:null}),this.setQueryFreeBackground({field:"lineage",list:null}),this.setQueryFreeBackground({field:"geo_group",list:null}),this.setQueryFreeBackground({field:"country",list:null}),this.setQueryFreeBackground({field:"region",list:null}),this.setQueryFreeBackground({field:"province",list:null});var t={start:null,stop:null};if(this.setStartAndStopQueryFreeBackground(t),this.listAccIdsBackgroundFile.length>0){e=JSON.parse(JSON.stringify(this.listAccIdsBackgroundFile));for(var a=0;a<this.listAccIdsBackgroundInserted.length;a+=1)e.includes(this.listAccIdsBackgroundInserted[a])||e.push(this.listAccIdsBackgroundInserted[a])}else e=JSON.parse(JSON.stringify(this.listAccIdsBackgroundInserted));this.listAccIdsBackground=e,0===e.length?this.setQueryFreeBackground({field:"accession_id",list:null}):this.setQueryFreeBackground({field:"accession_id",list:e}),this.setNumSequencesQueryFreeBackground(e.length),this.checkErrorNumSeqFreeQuery()},fileAccIdsTarget:function(){this.listAccIdsTarget=[],this.listAccIdsTargetFile=[],this.setQueryFreeTarget({field:"accession_id",list:null}),this.setQueryFreeTarget({field:"lineage",list:null}),this.setQueryFreeTarget({field:"geo_group",list:null}),this.setQueryFreeTarget({field:"country",list:null}),this.setQueryFreeTarget({field:"region",list:null}),this.setQueryFreeTarget({field:"province",list:null});var e={start:null,stop:null};if(this.setStartAndStopQueryFreeTarget(e),null!==this.fileAccIdsTarget){this.listAccIdsTargetFile=this.fileAccIdsTarget;for(var t=0;t<this.listAccIdsTargetFile.length;t+=1)""===this.listAccIdsTargetFile[t]&&this.listAccIdsTargetFile.splice(t,1)}var a=[];if(this.listAccIdsTargetInserted.length>0){a=JSON.parse(JSON.stringify(this.listAccIdsTargetFile));for(var i=0;i<this.listAccIdsTargetInserted.length;i+=1)a.includes(this.listAccIdsTargetInserted[i])||a.push(this.listAccIdsTargetInserted[i])}else a=JSON.parse(JSON.stringify(this.listAccIdsTargetFile));this.listAccIdsTarget=a,0===a.length?this.setQueryFreeTarget({field:"accession_id",list:null}):this.setQueryFreeTarget({field:"accession_id",list:a}),this.setNumSequencesQueryFreeTarget(a.length),this.checkErrorNumSeqFreeQuery()},fileAccIdsBackground:function(){this.listAccIdsBackground=[],this.listAccIdsBackgroundFile=[],this.setQueryFreeBackground({field:"accession_id",list:null}),this.setQueryFreeBackground({field:"lineage",list:null}),this.setQueryFreeBackground({field:"geo_group",list:null}),this.setQueryFreeBackground({field:"country",list:null}),this.setQueryFreeBackground({field:"region",list:null}),this.setQueryFreeBackground({field:"province",list:null});var e={start:null,stop:null};if(this.setStartAndStopQueryFreeBackground(e),null!==this.fileAccIdsBackground){this.listAccIdsBackgroundFile=this.fileAccIdsBackground;for(var t=0;t<this.listAccIdsBackgroundFile.length;t+=1)""===this.listAccIdsBackgroundFile[t]&&this.listAccIdsBackgroundFile.splice(t,1)}var a=[];if(this.listAccIdsBackgroundInserted.length>0){a=JSON.parse(JSON.stringify(this.listAccIdsBackgroundFile));for(var i=0;i<this.listAccIdsBackgroundInserted.length;i+=1)a.includes(this.listAccIdsBackgroundInserted[i])||a.push(this.listAccIdsBackgroundInserted[i])}else JSON.parse(JSON.stringify(a=this.listAccIdsBackgroundFile));this.listAccIdsBackground=a,0===a.length?this.setQueryFreeBackground({field:"accession_id",list:null}):this.setQueryFreeBackground({field:"accession_id",list:a}),this.setNumSequencesQueryFreeBackground(a.length),this.checkErrorNumSeqFreeQuery()},selectedAllAaModifications:function(){if(this.selectedDomainForPValueAaModifications=[],this.selectedAllAaModifications)for(var e=0;e<this.possibleDomainForPValueAaModifications.length;e+=1){var t=this.possibleDomainForPValueAaModifications[e]["Description"]+" / ("+this.possibleDomainForPValueAaModifications[e]["Begin"]+" , "+this.possibleDomainForPValueAaModifications[e]["End"]+")";this.selectedDomainForPValueAaModifications.push(t)}},selectedTypeImportantMutation:function(){"ECDC"===this.selectedTypeImportantMutation?this.importantMutation=this.importantMutationECDC:"Present in 75% of the lineage (worldwide)"===this.selectedTypeImportantMutation&&(this.importantMutation=this.importantMutation75Percentage)},selectedDomainForPValue:function(){var e=this;this.begin_value_domain=[],this.end_value_domain=[];for(var t=function(t){var a=e,i=0,n=0,s=e.possibleDomainForPValue.findIndex((function(e){return e["Description"]===a.selectedDomainForPValue[t].split(" / ")[0]}));-1!==s&&(i=e.possibleDomainForPValue[s]["Begin"],n=e.possibleDomainForPValue[s]["End"]),e.begin_value_domain.push(i),e.end_value_domain.push(n)},a=0;a<this.selectedDomainForPValue.length;a+=1)t(a)},selectedDomainForPValueMutagenesis:function(){var e=this;this.begin_value_domain_mutagenesis=[],this.end_value_domain_mutagenesis=[];for(var t=function(t){var a=e,i=0,n=0,s=e.possibleDomainForPValueMutagenesis.findIndex((function(e){return e["Description"]===a.selectedDomainForPValueMutagenesis[t].split(" / ")[0]}));-1!==s&&(i=e.possibleDomainForPValueMutagenesis[s]["Begin"],n=e.possibleDomainForPValueMutagenesis[s]["End"]),e.begin_value_domain_mutagenesis.push(i),e.end_value_domain_mutagenesis.push(n)},a=0;a<this.selectedDomainForPValueMutagenesis.length;a+=1)t(a)},selectedDomainForPValueAaModifications:function(){var e=this;this.begin_value_domain_aa_modifications=[],this.end_value_domain_aa_modifications=[];for(var t=function(t){var a=e,i=0,n=0,s=e.possibleDomainForPValueAaModifications.findIndex((function(e){return e["Description"]===a.selectedDomainForPValueAaModifications[t].split(" / ")[0]}));-1!==s&&(i=e.possibleDomainForPValueAaModifications[s]["Begin"],n=e.possibleDomainForPValueAaModifications[s]["End"]),e.begin_value_domain_aa_modifications.push(i),e.end_value_domain_aa_modifications.push(n)},a=0;a<this.selectedDomainForPValueAaModifications.length;a+=1)t(a)},selectedMinPercentageMutationPValue:function(){this.pValueBarChartApplied=!1},selectedMaxPercentageMutationPValue:function(){this.pValueBarChartApplied=!1},selectRemoveOverlapping:function(){this.resetApplied(),this.checkErrorNumSeqFreeQuery()},selectedTabFreeQuery:function(){if(this.boldTabs(),0===this.selectedTabFreeQuery&&0===this.selectedTabTargetFreeQuery){var e=500;setTimeout((function(){var e="tabTargetFree1",t="tabTargetFree2",a=document.getElementById(e);a.style["color"]="white",a.style["font-weight"]="bold";var i=document.getElementById(t);i.style["color"]="#FFFFFF80",i.style["font-weight"]="normal"}),e)}else if(1===this.selectedTabFreeQuery&&0===this.selectedTabBackgroundFreeQuery){var t=500;setTimeout((function(){var e="tabBackgroundFree1",t="tabBackgroundFree2",a=document.getElementById(e);a.style["color"]="white",a.style["font-weight"]="bold";var i=document.getElementById(t);i.style["color"]="#FFFFFF80",i.style["font-weight"]="normal"}),t)}},"queryFreeTarget.geo_group":function(){this.queryFreeTarget["geo_group"]&&0!==this.queryFreeTarget["geo_group"].length||(this.setQueryFreeTarget({field:"country",list:[]}),this.setQueryFreeTarget({field:"region",list:[]}),this.setQueryFreeTarget({field:"province",list:[]}))},"queryFreeTarget.country":function(){this.queryFreeTarget["country"]&&0!==this.queryFreeTarget["country"].length||(this.setQueryFreeTarget({field:"region",list:[]}),this.setQueryFreeTarget({field:"province",list:[]}))},"queryFreeTarget.region":function(){this.queryFreeTarget["region"]&&0!==this.queryFreeTarget["region"].length||this.setQueryFreeTarget({field:"province",list:[]})},"queryFreeBackground.geo_group":function(){this.queryFreeBackground["geo_group"]&&0!==this.queryFreeBackground["geo_group"].length||(this.setQueryFreeBackground({field:"country",list:[]}),this.setQueryFreeBackground({field:"region",list:[]}),this.setQueryFreeBackground({field:"province",list:[]}))},"queryFreeBackground.country":function(){this.queryFreeBackground["country"]&&0!==this.queryFreeBackground["country"].length||(this.setQueryFreeBackground({field:"region",list:[]}),this.setQueryFreeBackground({field:"province",list:[]}))},"queryFreeBackground.region":function(){this.queryFreeBackground["region"]&&0!==this.queryFreeBackground["region"].length||this.setQueryFreeBackground({field:"province",list:[]})},numSequencesQueryFreeTarget:function(){this.checkErrorNumSeqFreeQuery()},numSequencesQueryFreeBackground:function(){this.checkErrorNumSeqFreeQuery()},num_overlapping_sequences:function(){this.checkErrorNumSeqFreeQuery()},all_protein:function(){this.possibleProtein=this.all_protein},startAndStopQueryFreeTarget:function(){this.resetApplied(),this.countOverlappingSequenceTargetBackground()},startAndStopQueryFreeBackground:function(){this.resetApplied(),this.countOverlappingSequenceTargetBackground()},queryFreeTarget:function(){this.resetApplied(),this.countOverlappingSequenceTargetBackground()},queryFreeBackground:function(){this.resetApplied(),this.countOverlappingSequenceTargetBackground()},toExcludeFreeTarget:function(){this.resetApplied(),this.countOverlappingSequenceTargetBackground()},toExcludeFreeBackground:function(){this.resetApplied(),this.countOverlappingSequenceTargetBackground()},selectedProtein:function(){this.selectedProteinForTable=null,this.pValueBarChartApplied=!1,this.selectedProteinForPValue=null,this.tableApplied=!1},selectedProteinForPValue:function(){this.pValueBarChartApplied=!1},selectedMinBackgroundFrequency:function(){this.selectedMinBackgroundFrequency<0?this.selectedMinBackgroundFrequency=0:this.selectedMinBackgroundFrequency>this.selectedMaxBackgroundFrequency&&(this.selectedMinBackgroundFrequency=this.selectedMaxBackgroundFrequency)},selectedMaxBackgroundFrequency:function(){this.selectedMaxBackgroundFrequency<this.selectedMinBackgroundFrequency?this.selectedMaxBackgroundFrequency=this.selectedMinBackgroundFrequency:this.selectedMaxBackgroundFrequency>100&&(this.selectedMaxBackgroundFrequency=100)},selectedMinTargetFrequency:function(){this.selectedMinTargetFrequency<0?this.selectedMinTargetFrequency=0:this.selectedMinTargetFrequency>this.selectedMaxTargetFrequency&&(this.selectedMinTargetFrequency=this.selectedMaxTargetFrequency)},selectedMaxTargetFrequency:function(){this.selectedMaxTargetFrequency<this.selectedMinTargetFrequency?this.selectedMaxTargetFrequency=this.selectedMinTargetFrequency:this.selectedMaxTargetFrequency>100&&(this.selectedMaxTargetFrequency=100)},selectedMinPValue:function(){this.selectedMinPValue<0?this.selectedMinPValue=0:this.selectedMinPValue>this.selectedMaxPValue&&(this.selectedMinPValue=this.selectedMaxPValue)},selectedMaxPValue:function(){this.selectedMaxPValue<this.selectedMinPValue?this.selectedMaxPValue=this.selectedMinPValue:this.selectedMaxPValue>1&&(this.selectedMaxPValue=1)},selectedMinBackgroundNumerator:function(){this.selectedMinBackgroundNumerator<0?this.selectedMinBackgroundNumerator=0:this.selectedMinBackgroundNumerator>this.selectedMaxBackgroundNumerator&&(this.selectedMinBackgroundNumerator=this.selectedMaxBackgroundNumerator)},selectedMaxBackgroundNumerator:function(){this.selectedMaxBackgroundNumerator<this.selectedMinBackgroundNumerator?this.selectedMaxBackgroundNumerator=this.selectedMinBackgroundNumerator:this.selectedMaxBackgroundNumerator>this.totalMaxBackgroundNumerator&&(this.selectedMaxBackgroundNumerator=this.totalMaxBackgroundNumerator)},selectedMinTargetNumerator:function(){this.selectedMinTargetNumerator<0?this.selectedMinTargetNumerator=0:this.selectedMinTargetNumerator>this.selectedMaxTargetNumerator&&(this.selectedMinTargetNumerator=this.selectedMaxTargetNumerator)},selectedMaxTargetNumerator:function(){this.selectedMaxTargetNumerator<this.selectedMinTargetNumerator?this.selectedMaxTargetNumerator=this.selectedMinTargetNumerator:this.selectedMaxTargetNumerator>this.totalMaxTargetNumerator&&(this.selectedMaxTargetNumerator=this.totalMaxTargetNumerator)},selectedMinOddsRatio:function(){this.selectedMinOddsRatio<0?this.selectedMinOddsRatio=0:this.selectedMinOddsRatio>this.selectedMaxOddsRatio&&(this.selectedMinOddsRatio=this.selectedMaxOddsRatio)},selectedMaxOddsRatio:function(){"-Infinity"!==this.selectedMaxOddsRatio&&(this.selectedMaxOddsRatio<this.selectedMinOddsRatio?this.selectedMaxOddsRatio=this.selectedMinOddsRatio:this.selectedMaxOddsRatio>this.totalMaxOddsRatio&&(this.selectedMaxOddsRatio=this.totalMaxOddsRatio))},selectedMinPValueBarChart:function(){this.pValueBarChartApplied=!1,this.selectedMinPValueBarChart<0?this.selectedMinPValueBarChart=0:this.selectedMinPValueBarChart>this.selectedMaxPValueBarChart&&(this.selectedMinPValueBarChart=this.selectedMaxPValueBarChart)},selectedMaxPValueBarChart:function(){this.pValueBarChartApplied=!1,this.selectedMaxPValueBarChart<this.selectedMinPValueBarChart?this.selectedMaxPValueBarChart=this.selectedMinPValueBarChart:this.selectedMaxPValueBarChart>1&&(this.selectedMaxPValueBarChart=1)}},mounted:function(){var e="tabTargetFree1",t="tabTargetFree2",a=document.getElementById(e);a.style["color"]="white",a.style["font-weight"]="bold";var i=document.getElementById(t);i.style["color"]="#FFFFFF80",i.style["font-weight"]="normal",this.calculateUploadedDomains(),this.possibleProtein=this.all_protein,this.boldTabs(),this.errorNumSeqFreeQuery=this.numSequencesQueryFreeTarget<this.min_num_seq_target||this.numSequencesQueryFreeBackground<this.min_num_seq_background}},Ai=ki,Di=(a("b4d5"),Object(x["a"])(Ai,ti,ai,!1,null,"9f8b4410",null)),Pi=Di.exports;b()(Di,{VAutocomplete:vt["a"],VBtn:S["a"],VCard:C["a"],VCardText:T["b"],VCardTitle:T["c"],VCheckbox:ka["a"],VContainer:w["a"],VDataTable:Ve["a"],VDialog:F["a"],VFlex:k["a"],VIcon:A["a"],VLayout:D["a"],VOverlay:P["a"],VProgressCircular:M["a"],VRow:E["a"],VSelect:ie["a"],VSpacer:B["a"],VTab:le["a"],VTabItem:ce["a"],VTabs:de["a"],VTabsItems:Aa["a"],VTextField:V["a"]});var Mi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{staticStyle:{"justify-content":"center"},attrs:{fluid:"","grid-list-xl":""}},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("v-card",{staticStyle:{"margin-top":"50px",padding:"10px"},attrs:{width:"80%",color:"#A8DADC"}},[i("v-card-title",{staticClass:"justify-center",staticStyle:{margin:"1% 20% 3%"}},[i("span",[e._v("HOW TO USE "),i("b",[e._v("VIRU")]),e._v("CLUST")])]),i("v-card-text",[i("v-layout",{staticStyle:{"margin-right":"10%","margin-left":"10%","margin-top":"1%"},attrs:{row:"",wrap:"","justify-center":""}},[i("v-flex",{staticClass:"no-horizontal-padding xs12 d-flex",staticStyle:{"justify-content":"center"}},[i("v-expansion-panels",{attrs:{value:e.expansionPanels,dark:"",multiple:""},model:{value:e.expansionPanels,callback:function(t){e.expansionPanels=t},expression:"expansionPanels"}},[i("v-expansion-panel",{staticStyle:{"margin-bottom":"10px"}},[i("v-expansion-panel-header",{staticStyle:{"background-color":"#457B9D"}},[i("span",{staticStyle:{width:"80%",color:"white"}},[e._v("PREVALENCE OF LINEAGES")]),i("div",[i("v-btn",{staticClass:"white--text",attrs:{small:"",color:"#1D3557"},on:{click:function(t){return e.goToRelatedPart(1)}}},[e._v("\n                            START THIS ANALYSIS\n                          ")])],1)]),i("v-expansion-panel-content",{staticStyle:{"background-color":"white",color:"black"}},[i("br"),e._v("\n                      The "),i("i",[e._v("Prevalence of Lineages")]),e._v(" provides a concise summary of the prevalence of SARS-CoV-2 Pango lineages in a specific (user-selected) place (continent/country/region) at a specific time interval."),i("br"),e._v("\n                      A histogram is used to show the number of genome sequences deposited in the GISAID database associated with the selected geographic location at different time points and ,"),i("br"),e._v("\n                      A slider is used to visually select the time interval of choice on this histogram. "),i("br"),e._v("\n                      Filters can be applied to select/represent only lineages above a user selected prevalence threshold."),i("br"),i("br"),i("p",{attrs:{align:"center"}},[i("v-img",{staticStyle:{border:"grey solid 1px"},attrs:{src:a("4520"),width:"700"}})],1),i("br"),e._v("\n                      Results are provided in two forms:\n                      "),i("ul",[i("li",[e._v(" a table with the prevalence of lineages by sub-locations ")]),i("li",[e._v(" a heatmap visualization of the prevalence of different lineages (rows) at different sub-locations")])]),i("br"),i("p",{attrs:{align:"center"}},[i("v-img",{staticStyle:{border:"grey solid 1px"},attrs:{alt:"center",src:a("0b67"),width:"700"}})],1),i("br"),e._v("\n                      In the heatmap any arbitrary selection of columns can be aggregated and/or renamed by the user by using the MERGE tool"),i("br"),i("br"),i("p",{attrs:{align:"center"}},[i("v-img",{staticStyle:{border:"grey solid 1px"},attrs:{src:a("a976"),width:"700"}})],1)])],1),i("v-expansion-panel",{staticStyle:{"margin-bottom":"10px"}},[i("v-expansion-panel-header",{staticStyle:{"background-color":"#457B9D"}},[i("span",{staticStyle:{width:"80%",color:"white"}},[e._v("EVOLUTION IN TIME")]),i("div",[i("v-btn",{staticClass:"white--text",attrs:{small:"",color:"#1D3557"},on:{click:function(t){return e.goToRelatedPart(2)}}},[e._v("\n                          START THIS ANALYSIS\n                        ")])],1)]),i("v-expansion-panel-content",{staticStyle:{"background-color":"white",color:"black"}},[i("br"),e._v("\n                      The "),i("i",[e._v("Evolution in Time")]),e._v(" allows the study of the evolution of the genome of SARS-CoV-2 in time, at a specific place. Users can  optionally limit this analysis to a specific lineage of interest (all lineages are considered otherwise); the selection of a geographic location (continent/country/region/) is mandatory. "),i("br"),e._v("\n                      Similar to the "),i("i",[e._v("Prevalence of Lineages")]),e._v(", the number of genomes deposited at different dates are displayed in the form of an histogram; users can restrict the comparison to a specific time-window: the start and end dates can be set by using the slider under the histogram.\n                      "),i("br"),i("br"),i("p",{attrs:{align:"center"}},[i("v-img",{staticStyle:{border:"grey solid 1px"},attrs:{src:a("eb39"),width:"700"}})],1),i("br"),e._v("\n                      Two main types of analyses are performed:\n                      "),i("ul",[i("li",[e._v("Compare two intervals (to compare 2 user selected intervals of time)")]),i("li",[e._v("Time series (comparisons by weeks/months/user defined intervals)")])]),i("br"),i("hr"),i("br"),i("h3",[e._v(" Compare two intervals ")]),i("br"),e._v("\n                      The prevalence of non synonymous amino acid substitutions is compared between two intervals of time, hereafter defined as the "),i("i",[e._v("target")]),e._v(" and "),i("i",[e._v("background")]),e._v(" interval.\n                      Genomic sequences are assigned either to "),i("i",[e._v("target")]),e._v(" or "),i("i",[e._v("background")]),e._v(", based on their collection date.\n                      The final report provides a comparison of the prevalence of amino acid changes in the two intervals.\n                      "),i("br"),i("br"),i("p",{attrs:{align:"center"}},[i("v-img",{staticStyle:{border:"grey solid 1px"},attrs:{src:a("0e6b"),width:"700"}})],1),i("br"),e._v("\n                      Filters can be applied to select patterns of interest: for example over/under representation in the target (statistical significance according to a chi-squared test),\n                      and/or overall prevalence of the amino acid substitution. Users can also restrict the analysis to specific protein coding genes. "),i("br"),e._v("\n                      Additional annotations can be used to highlight substitutions with a prevalence of 75% or more in a lineage (prevalent changes) or relevant changes in the spike glycoprotein,\n                      associated with variants of concern according to the ECDC.\n                      "),i("br"),i("br"),i("p",{attrs:{align:"center"}},[i("v-img",{staticStyle:{border:"grey solid 1px"},attrs:{src:a("5f2e"),width:"700"}})],1),i("br"),e._v("\n                      Results are displayed in the form of a table which provides p-values and odds ratios for the comparison and the prevalence in the target and in the background.\n                      Columns can be reordered by the users and important/characteristic changes of the lineages can be highlighted.\n                      "),i("br"),i("br"),i("p",{attrs:{align:"center"}},[i("v-img",{staticStyle:{border:"grey solid 1px"},attrs:{src:a("9340"),width:"700"}})],1),i("br"),e._v("\n                      Finally, to allow a rapid inspection of the possible functional implications and the association with protein domains and functional sites, amino acid changes which show a prevalence >= in the target, can be represented graphically, in the form of a bar-char, which reports absolute counts, p-values and odds ratios of each single substitution.\n                      Annotations of functional sites and/or protein domains, according to XX can be selected and visualized as an additional layer of the plot.\n                      "),i("br"),i("br"),i("p",{attrs:{align:"center"}},[i("v-img",{staticStyle:{border:"grey solid 1px"},attrs:{src:a("0419"),width:"700"}})],1),i("br"),i("hr"),i("br"),i("h3",[e._v(" Time series analysis ")]),i("br"),e._v("\n                      This type of analysis compares the prevalence of amino acid substitutions at different intervals of time.\n                      The conceptual framework is the same as that applied by the "),i("i",[e._v("two interval")]),e._v(" analysis, however in this case the time-window to be analysed is split into multiple (compared to 2) intervals.\n                      Basically, this analysis is an extension of the two-intervals analysis, which allows the side by side comparison of multiple targets and backgrounds. "),i("br"),e._v("\n                      The span of the time intervals, used to â€œsegmentâ€ the initial time window can be set by the user by means of a dedicated drop-down menu.\n                      Genome sequences are assigned to an interval based on their collection date.\n                      "),i("br"),i("br"),i("p",{attrs:{align:"center"}},[i("v-img",{staticStyle:{border:"grey solid 1px"},attrs:{src:a("475a"),width:"700"}})],1),i("br"),e._v("\n                      Comparisons are performed pairwise, by considering consecutive intervals: for every pair the most recent interval is used as the target and the preceding interval is used as background. "),i("br"),e._v("\n                      The final output provides a detailed report of the prevalence of amino-acid substitutions at different points in time.\n                      An intuitive heatmap representation (intervals on the column, amino-acid changes on the rows) is used to display the prevalence of each substitution in time.\n                      Comparisons of consecutive intervals can provide useful information on relative prevalence trends and/or patterns of fixation of specific amino acid changes.\n                      "),i("br"),i("br"),i("p",{attrs:{align:"center"}},[i("v-img",{staticStyle:{border:"grey solid 1px"},attrs:{src:a("0ade"),width:"700"}})],1),i("br"),e._v("\n                      Users can also apply all the advanced filters (protein/gene, prevalence, odds ratio, p-value, under/over representation) described in the previous section to limit the scope of the analysis.\n                      "),i("br"),i("br"),i("p",{attrs:{align:"center"}},[i("v-img",{staticStyle:{border:"grey solid 1px"},attrs:{src:a("5ee2"),width:"700"}})],1),i("br"),e._v("\n                      Amino acid changes can also be visualized in the form of a bar-plot (again, see above), since this analysis defines multiple "),i("i",[e._v("target")]),e._v(" intervals, multiple bar-plots will be produced (one for every target interval, i.e total number of intervals -1)\n                      "),i("br")])],1),i("v-expansion-panel",{staticStyle:{"margin-bottom":"10px"}},[i("v-expansion-panel-header",{staticStyle:{"background-color":"#457B9D"}},[i("span",{staticStyle:{width:"80%",color:"white"}},[e._v("EVOLUTION IN SPACE")]),i("div",[i("v-btn",{staticClass:"white--text",attrs:{small:"",color:"#1D3557"},on:{click:function(t){return e.goToRelatedPart(3)}}},[e._v("\n                          START THIS ANALYSIS\n                        ")])],1)]),i("v-expansion-panel-content",{staticStyle:{"background-color":"white",color:"black"}},[i("br"),e._v("\n                      The "),i("i",[e._v("Evolution in Space")]),e._v(" compares the prevalence of amino-acid substitutions in the genome of SARS-CoV-2 between two distinct geographic locations. "),i("br"),e._v("\n                      A specific lineage can be optionally selected by the user (otherwise , all lineages are included). Selection of a geographic location (continent/country/region/sub-region) is mandatory.\n                      The place selected by the user is used as the "),i("i",[e._v("target")]),e._v(", whereas the geographic entity of higher level (i.e country for a region, continent for a country and so on) is used as the "),i("i",[e._v("background")]),e._v(".\n                      The "),i("i",[e._v("exclude")]),e._v(" menu can be used to include/exclude specific entities from the background (thus providing users with a flexible mechanism for excluding specific sub-locations). "),i("br"),e._v("\n                      When multiple locations are selected (e.g., California, Nevada, Washinghton, and Utah), four different comparisons can be built (e.g., California vs USA, Nevada vs USA, Washinghton vs USA, and Utah vs USA).\n                      "),i("br"),i("br"),i("p",{attrs:{align:"center"}},[i("v-img",{staticStyle:{border:"grey solid 1px"},attrs:{src:a("1d28"),width:"700"}})],1),i("br"),e._v("\n                      Similar to the "),i("i",[e._v("Prevalence of Lineages")]),e._v(", the number of genomes deposited at different dates are displayed in the form of an histogram;\n                      users can restrict the comparison to a specific time-window: the start and end dates can be set by using the slider under the histogram.\n                      "),i("br"),i("br"),i("p",{attrs:{align:"center"}},[i("v-img",{staticStyle:{border:"grey solid 1px"},attrs:{src:a("c1ce"),width:"700"}})],1),i("br"),e._v("\n                      The final output consists of a table with a detailed comparison of the prevalence of amino-acid substitutions between the target and background. "),i("br"),i("br"),e._v("\n                      A heatmap representation (amino-acid substitutions on the rows, target locations on the columns) is also provided to offer a more compact overview of the prevalence of different mutations in different places.\n                      However, the heatmap is plotted only when multiple target locations are specified. "),i("br"),e._v("\n                      In the heatmap, color maps may represent alternatively:\n                      "),i("ul",[i("li",[e._v("the percentage of sequences in the target;")]),i("li",[e._v("the difference between target and background percentages;")]),i("li",[e._v("the odds ration.")])]),i("br"),i("br"),i("p",{attrs:{align:"center"}},[i("v-img",{staticStyle:{border:"grey solid 1px"},attrs:{src:a("a216"),width:"700"}})],1),i("br"),e._v("\n                      In the multi-tab tables, different tabs represent the various selected target/background comparisons (below we selected the one for Nevada vs USA).\n                      "),i("br"),i("br"),i("p",{attrs:{align:"center"}},[i("v-img",{staticStyle:{border:"grey solid 1px"},attrs:{src:a("a58e"),width:"700"}})],1),i("br"),e._v("\n                      The same advanced filters and the bar-chart graphical visualization described in the "),i("i",[e._v("compare two intervals")]),e._v(" analysis are available to the user to restrict the breadth of the comparison and to obtain additional information/annotation.\n                      "),i("br")])],1),i("v-expansion-panel",{staticStyle:{"margin-bottom":"10px"}},[i("v-expansion-panel-header",{staticStyle:{"background-color":"#457B9D"}},[i("span",{staticStyle:{width:"80%",color:"white"}},[e._v("CUSTOM ANALYSIS")]),i("div",[i("v-btn",{staticClass:"white--text",attrs:{small:"",color:"#1D3557"},on:{click:function(t){return e.goToRelatedPart(4)}}},[e._v("\n                          START THIS ANALYSIS\n                        ")])],1)]),i("v-expansion-panel-content",{staticStyle:{"background-color":"white",color:"black"}},[i("br"),e._v("\n                      The "),i("i",[e._v("Custom Analysis")]),e._v(", is used to perform an unconstrained comparison of a user-defined target and background. In other words users are free to select any lineage, time interval and place for both the target and background populations. "),i("br"),e._v("\n                      The first panel is used to define the target (here, e.g., Europe/Italy/Lombardy).\n                      "),i("br"),i("br"),i("p",{attrs:{align:"center"}},[i("v-img",{staticStyle:{border:"grey solid 1px"},attrs:{src:a("2190"),width:"700"}})],1),i("br"),e._v("\n                      The second to define the background (here, e.g., Europe/Switzwerland/Ticino).\n                      "),i("br"),i("br"),i("p",{attrs:{align:"center"}},[i("v-img",{staticStyle:{border:"grey solid 1px"},attrs:{src:a("851b"),width:"700"}})],1),i("br"),e._v("\n                      A third tab, called summary, provides a brief recap of the filters/selection performed by the user and reports the total number of genomes included in both groups."),i("br"),e._v("\n                      Additionally, by using the dropdown menu included in this tab, comparisons can be restricted to one or more proteins.\n                      "),i("br"),i("br"),i("p",{attrs:{align:"center"}},[i("v-img",{staticStyle:{border:"grey solid 1px"},attrs:{src:a("e4c1"),width:"700"}})],1),i("br"),e._v("\n                      Results are presented in the same form and output types as available for the "),i("i",[e._v("Temporal")]),e._v(" and "),i("i",[e._v("Spatial")]),e._v(" analyses described above. "),i("br"),e._v("\n                      Analogously, advanced filters can be applied, and an advanced bar-chart graphical representation with enhanced annotations can be obtained for any protein of choice."),i("br"),i("br"),e._v("\n                      An example is reported below. In this case the advanced filters were used to select only amino-acid substitutions observed in at least 3% of the target population, and results were ordered by descending odds ratio.\n                      "),i("br"),i("br"),i("p",{attrs:{align:"center"}},[i("v-img",{staticStyle:{border:"grey solid 1px"},attrs:{src:a("e610"),width:"700"}})],1)])],1)],1)],1)],1)],1)],1)],1)],1)},Ei=[],Bi={name:"HomePage",data:function(){return{expansionPanels:[]}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])(["queryGeo","queryTime","queryFreeTarget","queryFreeBackground"])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["d"])(["setAnalyzePage","setLoadPage","setSelectedTabAnalyzeFromHome"])),Object(p["b"])(["setQueryGeo","setQueryTime","setQueryFreeTarget","setQueryFreeBackground"])),{},{changePageLoad:function(){this.setLoadPage()},changePageAnalyze:function(){this.setSelectedTabAnalyzeFromHome(1)},goToRelatedPart:function(e){var t=10,a=this;setTimeout((function(){a.expansionPanels=[]}),t),this.setSelectedTabAnalyzeFromHome(e)}}),mounted:function(){var e=this;Object.keys(this.queryTime).forEach((function(t){e.setQueryTime({field:t,list:[]})})),Object.keys(this.queryGeo).forEach((function(t){e.setQueryGeo({field:t,list:[]})})),Object.keys(this.queryFreeTarget).forEach((function(t){e.setQueryFreeTarget({field:t,list:[]})})),Object.keys(this.queryFreeBackground).forEach((function(t){e.setQueryFreeBackground({field:t,list:[]})}))}},Vi=Bi,ji=a("cd55"),Oi=a("49e2"),Ii=a("c865"),Ni=a("0393"),qi=Object(x["a"])(Vi,Mi,Ei,!1,null,"36d6dae9",null),zi=qi.exports;b()(qi,{VBtn:S["a"],VCard:C["a"],VCardText:T["b"],VCardTitle:T["c"],VContainer:w["a"],VExpansionPanel:ji["a"],VExpansionPanelContent:Oi["a"],VExpansionPanelHeader:Ii["a"],VExpansionPanels:Ni["a"],VFlex:k["a"],VImg:lt["a"],VLayout:D["a"],VRow:E["a"]});var Li={name:"AnalyzePage",components:{HomePage:zi,FreeTargetVsBackground:Pi,AnalyzeTimeLinCou:ei,AnalyzeProvinceRegion:Pa,AnalyzeDistributionLineageInGeo:St},data:function(){return{selectedTabAnalyze:0,overlay:!0,finished_api:0,update_date:null}},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])(["selectedTabAnalyzeFromHome"])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])({},Object(p["d"])(["setAllProtein","setAllGeo","setHomePage","setColor1","setColor2","setColor3","setSelectedTabAnalyzeFromHome"])),Object(p["b"])([])),watch:{finished_api:function(){3===this.finished_api&&(this.overlay=!1)},selectedTabAnalyze:function(){var e=0;while(e<5){var t="tab"+e;if(e===this.selectedTabAnalyze){var a=document.getElementById(t);a.style["font-weight"]="bold"}else{var i=document.getElementById(t);i.style["font-weight"]="normal"}e+=1}},selectedTabAnalyzeFromHome:function(){this.selectedTabAnalyze=this.selectedTabAnalyzeFromHome}},mounted:function(){var e=this;this.selectedTabAnalyze=this.selectedTabAnalyzeFromHome;var t=a("2d32"),i=t({colormap:"freesurface-red",nshades:9,format:"hex",alpha:1}),n=t({colormap:"freesurface-blue",nshades:9,format:"hex",alpha:1}),r=t({colormap:"chlorophyll",nshades:9,format:"hex",alpha:1});this.setColor1(i),this.setColor2(n),this.setColor3(r);var o=0;while(o<5){var l="tab"+o;if(o===this.selectedTabAnalyze){var c=document.getElementById(l);c.style["font-weight"]="bold"}else{var d=document.getElementById(l);d.style["font-weight"]="normal"}o+=1}var u="/analyze/updateDate";s.a.get(u).then((function(e){return e.data})).then((function(t){e.finished_api=e.finished_api+1,console.log("qui",t),e.update_date=t}));var h="/analyze/allProtein";s.a.get(h).then((function(e){return e.data})).then((function(t){e.finished_api=e.finished_api+1,e.setAllProtein(t)}));var g="/analyze/allGeo";s.a.get(g).then((function(e){return e.data})).then((function(t){e.finished_api=e.finished_api+1,e.setAllGeo(t)}))}},Ri=Li,Gi=(a("1fd5"),Object(x["a"])(Ri,We,Ye,!1,null,"4f27e1f5",null)),Qi=Gi.exports;b()(Gi,{VContainer:w["a"],VFlex:k["a"],VIcon:A["a"],VLayout:D["a"],VOverlay:P["a"],VProgressCircular:M["a"],VTab:le["a"],VTabItem:ce["a"],VTabs:de["a"]});var Ji={name:"ChoosingPage",components:{HomePage:zi,AnalyzePage:Qi,EntryPage:He,StatisticsPage:Le,MetadataPage:ge,LoadPage:O},computed:Object(g["a"])(Object(g["a"])({},Object(p["e"])(["page"])),Object(p["c"])({})),methods:Object(g["a"])(Object(g["a"])({},Object(p["d"])([])),Object(p["b"])([])),watch:{}},Ui=Ji,Hi=Object(x["a"])(Ui,u,h,!1,null,"1dd6476a",null),Wi=Hi.exports,Yi={name:"App",components:{ChoosingPage:Wi},data:function(){return{}}},Xi=Yi,Zi=a("7496"),$i=a("5bc1"),Ki=a("553a"),en=a("da13"),tn=a("5d23"),an=a("f6c4"),nn=a("e449"),sn=a("71d9"),rn=a("2a7f"),on=Object(x["a"])(Xi,c,d,!1,null,null,null),ln=on.exports;b()(on,{VApp:Zi["a"],VAppBarNavIcon:$i["a"],VBtn:S["a"],VFlex:k["a"],VFooter:Ki["a"],VImg:lt["a"],VListItem:en["a"],VListItemContent:tn["a"],VMain:an["a"],VMenu:nn["a"],VSpacer:B["a"],VToolbar:sn["a"],VToolbarItems:rn["a"],VToolbarTitle:rn["b"]});var cn=a("f309");i["a"].use(cn["a"]);var dn=new cn["a"]({});i["a"].use(p["a"]);var un={page:"analyzePage",sessionId:"",nameLoadedFileCSV:"",fileCSV:null,nameLoadedFileFASTA:"",fileFASTA:null,allMetadata:null,mutDict:[],allResultTable:[],allResultTableFixed:[],proteinSelected:"Spike (surface glycoprotein)",listRes:[],listResFixed:[],allResultTableHeaders:[],xAxisBarSeqChart:[],yAxisBarSeqChart:[],selectedFilters:{},statisticsInput:{},disableMetadata:!1,all_geo:[],all_lineages:[],all_protein:[],timeRangesTargetAndBackground:{},queryTime:{},queryGeo:{},startDateQueryGeo:null,stopDateQueryGeo:null,numLevelAboveBackground:1,errorNumSeqQueryTime:!1,errorNumSeqQueryGeo:!1,queryFreeTarget:{},queryFreeBackground:{},startDateQueryFreeTarget:null,stopDateQueryFreeTarget:null,startAndStopQueryFreeTarget:{start:"2019-01-01",stop:"2019-01-01"},startDateQueryFreeBackground:null,stopDateQueryFreeBackground:null,startAndStopQueryFreeBackground:{start:"2019-01-01",stop:"2019-01-01"},numSequencesQueryFreeTarget:0,numSequencesQueryFreeBackground:0,startDateDistributionLineageInGeo:null,stopDateDistributionLineageInGeo:null,toExcludeTime:{},toExcludeGeo:{},toExcludeFreeTarget:{},toExcludeFreeBackground:{},locationToExcludeMulti:[],timeDivisionAcceptable:[],colorPValueChart:["rgba(50, 255, 50, 0.5)","rgba(255, 0, 0, 0.5)","rgba(0, 0, 255, 0.5)","rgba(230, 15, 250, 0.5)","rgba(9,192,217, 0.5)"],colorPValueInfoBox:["rgba(50, 255, 50, 1)","rgba(255, 0, 0, 1)","rgba(0, 0, 255, 1)","rgba(230, 15, 250, 1)","rgba(9,192,217, 1)"],startValuePValueBarChartTime:0,endValuePValueBarChartTime:0,startValuePValueBarChartGeo:0,endValuePValueBarChartGeo:0,startValuePValueBarChartFree:0,endValuePValueBarChartFree:0,selectedTabAnalyzeFromHome:0,color_1:[],color_2:[],color_3:[],colorPalette:["#6A040F","#9D0208","#E63946","#DC2F02","#E85D04","#F48C06","#FAA307","#FFBA08"]},hn={},gn={setSessionId:function(e,t){e.sessionId=t},setHomePage:function(e){e.page="homePage"},setLoadPage:function(e){e.page="loadPage"},setMetadataPage:function(e){e.page="metadataPage"},setStatisticsPage:function(e){e.page="statisticsPage"},setAnalyzePage:function(e){e.page="analyzePage"},setFileCSV:function(e,t){e.fileCSV=t},setNameFileCSV:function(e,t){e.nameLoadedFileCSV=t},setFileFASTA:function(e,t){e.fileFASTA=t},setNameFileFASTA:function(e,t){e.nameLoadedFileFASTA=t},setMutDict:function(e,t){e.mutDict=t},setAllMetadata:function(e,t){e.allMetadata=t},setAllResultTable:function(e,t){e.allResultTable=t},setAllResultTableFixed:function(e,t){e.allResultTableFixed=t},setProteinSelected:function(e,t){e.proteinSelected=t},setListRes:function(e,t){e.listRes=t},setListResFixed:function(e,t){e.listResFixed=t},setStatisticsInput:function(e,t){e.statisticsInput=t},setAllResultTableHeaders:function(e,t){e.allResultTableHeaders=t},setXAxisBarSeqChart:function(e,t){e.xAxisBarSeqChart=t},setYAxisBarSeqChart:function(e,t){e.yAxisBarSeqChart=t},setSelectedFilterField:function(e,t){e.selectedFilters[t.field]=t.fieldQuery},resetSelectedFilterField:function(e,t){delete e.selectedFilters[t]},reloadSelectedFilter:function(e){e.selectedFilters=Object.assign({},e.selectedFilters)},setTrueDisableMetadata:function(e){e.disableMetadata=!0},setFalseDisableMetadata:function(e){e.disableMetadata=!1},setAllGeo:function(e,t){e.all_geo=t},setAllLineages:function(e,t){e.all_lineages=t},setAllProtein:function(e,t){e.all_protein=t},setTimeRangesTargetAndBackground:function(e,t){e.timeRangesTargetAndBackground=t},setQueryTimeField:function(e,t){e.queryTime[t.field]=t.fieldQuery},resetQueryTimeField:function(e,t){delete e.queryTime[t]},reloadQueryTime:function(e){e.queryTime=Object.assign({},e.queryTime)},setQueryGeoField:function(e,t){e.queryGeo[t.field]=t.fieldQuery},resetQueryGeoField:function(e,t){delete e.queryGeo[t]},reloadQueryGeo:function(e){e.queryGeo=Object.assign({},e.queryGeo)},setStartDateQueryGeo:function(e,t){e.startDateQueryGeo=t},setStopDateQueryGeo:function(e,t){e.stopDateQueryGeo=t},setTrueErrorNumSeqQueryTime:function(e){e.errorNumSeqQueryTime=!0},setFalseErrorNumSeqQueryTime:function(e){e.errorNumSeqQueryTime=!1},setTrueErrorNumSeqQueryGeo:function(e){e.errorNumSeqQueryGeo=!0},setFalseErrorNumSeqQueryGeo:function(e){e.errorNumSeqQueryGeo=!1},setNumLevelAboveBackground:function(e,t){e.numLevelAboveBackground=t},setStartDateQueryFreeTarget:function(e,t){var a=e.startAndStopQueryFreeTarget;a["start"]=t,e.startAndStopQueryFreeTarget=a},setStopDateQueryFreeTarget:function(e,t){var a=e.startAndStopQueryFreeTarget;a["stop"]=t,e.startAndStopQueryFreeTarget=a},setStartAndStopQueryFreeTarget:function(e,t){e.startAndStopQueryFreeTarget=t,e.startDateQueryFreeTarget=t["start"],e.stopDateQueryFreeTarget=t["stop"]},setStartDateQueryFreeBackground:function(e,t){var a=e.startAndStopQueryFreeBackground;a["start"]=t,e.startAndStopQueryFreeBackground=a},setStopDateQueryFreeBackground:function(e,t){var a=e.startAndStopQueryFreeBackground;a["stop"]=t,e.startAndStopQueryFreeBackground=a},setStartAndStopQueryFreeBackground:function(e,t){e.startAndStopQueryFreeBackground=t,e.startDateQueryFreeBackground=t["start"],e.stopDateQueryFreeBackground=t["stop"]},setQueryFreeTargetField:function(e,t){e.queryFreeTarget[t.field]=t.fieldQuery},resetQueryFreeTargetField:function(e,t){delete e.queryFreeTarget[t]},reloadQueryFreeTarget:function(e){e.queryFreeTarget=Object.assign({},e.queryFreeTarget)},setQueryFreeBackgroundField:function(e,t){e.queryFreeBackground[t.field]=t.fieldQuery},resetQueryFreeBackgroundField:function(e,t){delete e.queryFreeBackground[t]},reloadQueryFreeBackground:function(e){e.queryFreeBackground=Object.assign({},e.queryFreeBackground)},setNumSequencesQueryFreeTarget:function(e,t){e.numSequencesQueryFreeTarget=t},setNumSequencesQueryFreeBackground:function(e,t){e.numSequencesQueryFreeBackground=t},setStartDateDistributionLineageInGeo:function(e,t){e.startDateDistributionLineageInGeo=t},setStopDateDistributionLineageInGeo:function(e,t){e.stopDateDistributionLineageInGeo=t},setLocationToExcludeMulti:function(e,t){e.locationToExcludeMulti=t},setToExcludeTimeField:function(e,t){e.toExcludeTime[t.field]=t.fieldQuery},resetToExcludeTimeField:function(e,t){delete e.toExcludeTime[t]},reloadToExcludeTime:function(e){e.toExcludeTime=Object.assign({},e.toExcludeTime)},setToExcludeGeoField:function(e,t){e.toExcludeGeo[t.field]=t.fieldQuery},resetToExcludeGeoField:function(e,t){delete e.toExcludeGeo[t]},reloadToExcludeGeo:function(e){e.toExcludeGeo=Object.assign({},e.toExcludeGeo)},setToExcludeFreeTargetField:function(e,t){e.toExcludeFreeTarget[t.field]=t.fieldQuery},resetToExcludeFreeTargetField:function(e,t){delete e.toExcludeFreeTarget[t]},reloadToExcludeFreeTarget:function(e){e.toExcludeFreeTarget=Object.assign({},e.toExcludeFreeTarget)},setToExcludeFreeBackgroundField:function(e,t){e.toExcludeFreeBackground[t.field]=t.fieldQuery},resetToExcludeFreeBackgroundField:function(e,t){delete e.toExcludeFreeBackground[t]},reloadToExcludeFreeBackground:function(e){e.toExcludeFreeBackground=Object.assign({},e.toExcludeFreeBackground)},setTimeDivisionAcceptable:function(e,t){e.timeDivisionAcceptable=t},setStartValuePValueBarChartTime:function(e,t){e.startValuePValueBarChartTime=t},setEndValuePValueBarChartTime:function(e,t){e.endValuePValueBarChartTime=t},setStartValuePValueBarChartGeo:function(e,t){e.startValuePValueBarChartGeo=t},setEndValuePValueBarChartGeo:function(e,t){e.endValuePValueBarChartGeo=t},setStartValuePValueBarChartFree:function(e,t){e.startValuePValueBarChartFree=t},setEndValuePValueBarChartFree:function(e,t){e.endValuePValueBarChartFree=t},setSelectedTabAnalyzeFromHome:function(e,t){e.selectedTabAnalyzeFromHome=t},setColor1:function(e,t){e.color_1=t},setColor2:function(e,t){e.color_2=t},setColor3:function(e,t){e.color_3=t}},pn={setSelectedFilter:function(e,t){var a=e.commit,i=e.state,n=t.field,s=t.list;s||(s=[]);var r=i.selectedFilters[n];if(r||(r=[]),JSON.stringify(r)!==JSON.stringify(s)){if(s.length>0){var o={field:n,fieldQuery:s};a("setSelectedFilterField",o)}else a("resetSelectedFilterField",n);a("reloadSelectedFilter")}},setQueryTime:function(e,t){var a=e.commit,i=e.state,n=t.field,s=t.list;s||(s=[]);var r=i.queryTime[n];if(r||(r=[]),JSON.stringify(r)!==JSON.stringify(s)){if(s.length>0){var o={field:n,fieldQuery:s};a("setQueryTimeField",o)}else a("resetQueryTimeField",n);a("reloadQueryTime")}},setQueryGeo:function(e,t){var a=e.commit,i=e.state,n=t.field,s=t.list;s||(s=[]);var r=i.queryGeo[n];if(r||(r=[]),JSON.stringify(r)!==JSON.stringify(s)){if(s.length>0){var o={field:n,fieldQuery:s};a("setQueryGeoField",o)}else a("resetQueryGeoField",n);a("reloadQueryGeo")}},setQueryFreeTarget:function(e,t){var a=e.commit,i=e.state,n=t.field,s=t.list;s||(s=[]);var r=i.queryFreeTarget[n];if(r||(r=[]),JSON.stringify(r)!==JSON.stringify(s)){if(s.length>0){var o={field:n,fieldQuery:s};a("setQueryFreeTargetField",o)}else a("resetQueryFreeTargetField",n);a("reloadQueryFreeTarget")}},setQueryFreeBackground:function(e,t){var a=e.commit,i=e.state,n=t.field,s=t.list;s||(s=[]);var r=i.queryFreeBackground[n];if(r||(r=[]),JSON.stringify(r)!==JSON.stringify(s)){if(s.length>0){var o={field:n,fieldQuery:s};a("setQueryFreeBackgroundField",o)}else a("resetQueryFreeBackgroundField",n);a("reloadQueryFreeBackground")}},setToExcludeTime:function(e,t){var a=e.commit,i=e.state,n=t.field,s=t.list;s||(s=[]);var r=i.toExcludeTime[n];if(r||(r=[]),JSON.stringify(r)!==JSON.stringify(s)){if(s.length>0){var o={field:n,fieldQuery:s};a("setToExcludeTimeField",o)}else a("resetToExcludeTimeField",n);a("reloadToExcludeTime")}},setToExcludeGeo:function(e,t){var a=e.commit,i=e.state,n=t.field,s=t.list;s||(s=[]);var r=i.toExcludeGeo[n];if(r||(r=[]),JSON.stringify(r)!==JSON.stringify(s)){if(s.length>0){var o={field:n,fieldQuery:s};a("setToExcludeGeoField",o)}else a("resetToExcludeGeoField",n);a("reloadToExcludeGeo")}},setToExcludeFreeTarget:function(e,t){var a=e.commit,i=e.state,n=t.field,s=t.list;s||(s=[]);var r=i.toExcludeFreeTarget[n];if(r||(r=[]),JSON.stringify(r)!==JSON.stringify(s)){if(s.length>0){var o={field:n,fieldQuery:s};a("setToExcludeFreeTargetField",o)}else a("resetToExcludeFreeTargetField",n);a("reloadToExcludeFreeTarget")}},setToExcludeFreeBackground:function(e,t){var a=e.commit,i=e.state,n=t.field,s=t.list;s||(s=[]);var r=i.toExcludeFreeBackground[n];if(r||(r=[]),JSON.stringify(r)!==JSON.stringify(s)){if(s.length>0){var o={field:n,fieldQuery:s};a("setToExcludeFreeBackgroundField",o)}else a("resetToExcludeFreeBackgroundField",n);a("reloadToExcludeFreeBackground")}}},fn=new p["a"].Store({state:un,getters:hn,mutations:gn,actions:pn}),vn=a("4eb5"),yn=a.n(vn),mn=a("b76a"),xn=a.n(mn);i["a"].config.productionTip=!1,new i["a"]({vuetify:dn,store:fn,render:function(e){return e(ln)}}).$mount("#app"),i["a"].use(yn.a),i["a"].use(xn.a)},"5b05":function(e,t,a){},"5e2f":function(e,t,a){},"5eb7":function(e,t,a){"use strict";a("4537")},"5ee2":function(e,t,a){e.exports=a.p+"static/img/mode2-8.840536f2.png"},"5f2e":function(e,t,a){e.exports=a.p+"static/img/mode2-3.827f77dc.png"},"5f35":function(e,t){e.exports={transpileDependencies:["vuetify"],assetsDir:"static",devServer:{proxy:{"/api":{target:"http://localhost:5000/"},"/repo_static":{target:"http://localhost:5000/"}}},baseUrl:"/viruclust/"}},"5f55":function(e,t,a){"use strict";a("8eaa")},"69d2":function(e,t,a){},"6fbc":function(e,t,a){e.exports=a.p+"static/img/pie_chart.0fc8aca3.png"},"71c0":function(e,t,a){e.exports=a.p+"static/img/virusurf_logo.4793a02c.png"},7385:function(e,t,a){},"851b":function(e,t,a){e.exports=a.p+"static/img/mode4-2.61e87695.png"},"8eaa":function(e,t,a){},"90b5":function(e,t,a){"use strict";a("0058")},9340:function(e,t,a){e.exports=a.p+"static/img/mode2-4.4c8856f9.png"},"97eb":function(e,t,a){},a216:function(e,t,a){e.exports=a.p+"static/img/mode3-3.fde184cf.png"},a58e:function(e,t,a){e.exports=a.p+"static/img/mode3-4.cc1adb3b.png"},a7fb:function(e,t,a){"use strict";a("36ab")},a976:function(e,t,a){e.exports=a.p+"static/img/mode1-3.18f77beb.png"},aa66:function(e,t,a){"use strict";a("bbcd")},b05c:function(e,t,a){"use strict";a("cbaa")},b2bd:function(e,t,a){e.exports=a.p+"static/img/enabled_gisaid_white.13fb9223.png"},b4d5:function(e,t,a){"use strict";a("97eb")},bbcd:function(e,t,a){},c1ce:function(e,t,a){e.exports=a.p+"static/img/mode3-2.2c3c8aef.png"},c952:function(e,t,a){e.exports=a.p+"static/img/enabled_gisaid_grey.6c2ed4ea.png"},cbaa:function(e,t,a){},d17f:function(e,t,a){"use strict";a("5b05")},de24:function(e,t,a){"use strict";a("540c")},e4c1:function(e,t,a){e.exports=a.p+"static/img/mode4-3.c60dbffb.png"},e548:function(e,t,a){},e610:function(e,t,a){e.exports=a.p+"static/img/mode4-4.a54c47f5.png"},eb39:function(e,t,a){e.exports=a.p+"static/img/mode2-1.9a348bec.png"},ef03:function(e,t,a){e.exports=a.p+"static/img/loading.f9153708.gif"},f29d:function(e,t,a){},f608:function(e,t,a){"use strict";a("07f0")}});
//# sourceMappingURL=app.b3494f64.js.map